{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nexport default {\n  install: (app, {\n    router,\n    id\n  }) => {\n    // Make $gtag available everywhere\n    app.config.globalProperties.$gtag = function (eventName, eventParams = {}) {\n      if (window.gtag) {\n        window.gtag('event', eventName, eventParams);\n      }\n    };\n\n    // ✅ Track page views (SPA routes)\n    if (router) {\n      router.afterEach(to => {\n        if (window.gtag) {\n          window.gtag('config', id, {\n            page_path: to.fullPath\n          });\n        }\n      });\n    }\n\n    // ✅ Track clicks (buttons + links)\n    document.addEventListener('click', e => {\n      const target = e.target.closest('button, a');\n      if (target && window.gtag) {\n        const label = target.innerText || target.getAttribute('aria-label') || target.href || 'unknown';\n        const type = target.tagName.toLowerCase();\n\n        // Outbound link check\n        const isOutbound = type === 'a' && target.hostname !== window.location.hostname;\n        window.gtag('event', isOutbound ? 'outbound_click' : 'click', {\n          event_category: type,\n          event_label: label.trim(),\n          page_path: window.location.pathname,\n          outbound: isOutbound\n        });\n      }\n    });\n\n    // ✅ Track form submissions\n    document.addEventListener('submit', e => {\n      if (window.gtag) {\n        const formName = e.target.getAttribute('name') || e.target.getAttribute('id') || 'unnamed_form';\n        window.gtag('event', 'form_submit', {\n          event_category: 'form',\n          event_label: formName,\n          page_path: window.location.pathname\n        });\n      }\n    });\n\n    // ✅ Track scroll depth (25%, 50%, 75%, 100%)\n    let lastDepth = 0;\n    window.addEventListener('scroll', () => {\n      const scrollTop = window.scrollY;\n      const docHeight = document.documentElement.scrollHeight - window.innerHeight;\n      const scrollPercent = Math.round(scrollTop / docHeight * 100);\n      if (scrollPercent >= 25 && lastDepth < 25) {\n        window.gtag('event', 'scroll', {\n          percent: 25\n        });\n        lastDepth = 25;\n      } else if (scrollPercent >= 50 && lastDepth < 50) {\n        window.gtag('event', 'scroll', {\n          percent: 50\n        });\n        lastDepth = 50;\n      } else if (scrollPercent >= 75 && lastDepth < 75) {\n        window.gtag('event', 'scroll', {\n          percent: 75\n        });\n        lastDepth = 75;\n      } else if (scrollPercent >= 100 && lastDepth < 100) {\n        window.gtag('event', 'scroll', {\n          percent: 100\n        });\n        lastDepth = 100;\n      }\n    });\n\n    // ✅ Track video plays (<video> tags only)\n    document.addEventListener('play', e => {\n      if (e.target.tagName.toLowerCase() === 'video' && window.gtag) {\n        const src = e.target.currentSrc || e.target.src || 'unknown_video';\n        window.gtag('event', 'video_play', {\n          event_category: 'video',\n          event_label: src,\n          page_path: window.location.pathname\n        });\n      }\n    }, true);\n\n    // ✅ Track purchases (call manually when checkout succeeds)\n    app.config.globalProperties.$trackPurchase = function (order) {\n      if (window.gtag && order) {\n        window.gtag('event', 'purchase', {\n          transaction_id: order.id,\n          value: order.total,\n          currency: order.currency,\n          items: order.items.map(item => ({\n            item_id: item.id,\n            item_name: item.name,\n            quantity: item.quantity,\n            price: item.price\n          }))\n        });\n      }\n    };\n  }\n};","map":{"version":3,"names":["install","app","router","id","config","globalProperties","$gtag","eventName","eventParams","window","gtag","afterEach","to","page_path","fullPath","document","addEventListener","e","target","closest","label","innerText","getAttribute","href","type","tagName","toLowerCase","isOutbound","hostname","location","event_category","event_label","trim","pathname","outbound","formName","lastDepth","scrollTop","scrollY","docHeight","documentElement","scrollHeight","innerHeight","scrollPercent","Math","round","percent","src","currentSrc","$trackPurchase","order","transaction_id","value","total","currency","items","map","item","item_id","item_name","name","quantity","price"],"sources":["C:/Users/ajib/OneDrive/Desktop/event-ticket/New folder/event-ticket-frontend/src/plugins/gtag.js"],"sourcesContent":["export default {\r\n  install: (app, { router, id }) => {\r\n    // Make $gtag available everywhere\r\n    app.config.globalProperties.$gtag = function (eventName, eventParams = {}) {\r\n      if (window.gtag) {\r\n        window.gtag('event', eventName, eventParams)\r\n      }\r\n    }\r\n\r\n    // ✅ Track page views (SPA routes)\r\n    if (router) {\r\n      router.afterEach((to) => {\r\n        if (window.gtag) {\r\n          window.gtag('config', id, {\r\n            page_path: to.fullPath,\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    // ✅ Track clicks (buttons + links)\r\n    document.addEventListener('click', (e) => {\r\n      const target = e.target.closest('button, a')\r\n      if (target && window.gtag) {\r\n        const label = target.innerText || target.getAttribute('aria-label') || target.href || 'unknown'\r\n        const type = target.tagName.toLowerCase()\r\n\r\n        // Outbound link check\r\n        const isOutbound = type === 'a' && target.hostname !== window.location.hostname\r\n\r\n        window.gtag('event', isOutbound ? 'outbound_click' : 'click', {\r\n          event_category: type,\r\n          event_label: label.trim(),\r\n          page_path: window.location.pathname,\r\n          outbound: isOutbound\r\n        })\r\n      }\r\n    })\r\n\r\n    // ✅ Track form submissions\r\n    document.addEventListener('submit', (e) => {\r\n      if (window.gtag) {\r\n        const formName = e.target.getAttribute('name') || e.target.getAttribute('id') || 'unnamed_form'\r\n        window.gtag('event', 'form_submit', {\r\n          event_category: 'form',\r\n          event_label: formName,\r\n          page_path: window.location.pathname\r\n        })\r\n      }\r\n    })\r\n\r\n    // ✅ Track scroll depth (25%, 50%, 75%, 100%)\r\n    let lastDepth = 0\r\n    window.addEventListener('scroll', () => {\r\n      const scrollTop = window.scrollY\r\n      const docHeight = document.documentElement.scrollHeight - window.innerHeight\r\n      const scrollPercent = Math.round((scrollTop / docHeight) * 100)\r\n\r\n      if (scrollPercent >= 25 && lastDepth < 25) {\r\n        window.gtag('event', 'scroll', { percent: 25 })\r\n        lastDepth = 25\r\n      } else if (scrollPercent >= 50 && lastDepth < 50) {\r\n        window.gtag('event', 'scroll', { percent: 50 })\r\n        lastDepth = 50\r\n      } else if (scrollPercent >= 75 && lastDepth < 75) {\r\n        window.gtag('event', 'scroll', { percent: 75 })\r\n        lastDepth = 75\r\n      } else if (scrollPercent >= 100 && lastDepth < 100) {\r\n        window.gtag('event', 'scroll', { percent: 100 })\r\n        lastDepth = 100\r\n      }\r\n    })\r\n\r\n    // ✅ Track video plays (<video> tags only)\r\n    document.addEventListener('play', (e) => {\r\n      if (e.target.tagName.toLowerCase() === 'video' && window.gtag) {\r\n        const src = e.target.currentSrc || e.target.src || 'unknown_video'\r\n        window.gtag('event', 'video_play', {\r\n          event_category: 'video',\r\n          event_label: src,\r\n          page_path: window.location.pathname\r\n        })\r\n      }\r\n    }, true)\r\n\r\n    // ✅ Track purchases (call manually when checkout succeeds)\r\n    app.config.globalProperties.$trackPurchase = function (order) {\r\n      if (window.gtag && order) {\r\n        window.gtag('event', 'purchase', {\r\n          transaction_id: order.id,\r\n          value: order.total,\r\n          currency: order.currency,\r\n          items: order.items.map(item => ({\r\n            item_id: item.id,\r\n            item_name: item.name,\r\n            quantity: item.quantity,\r\n            price: item.price\r\n          }))\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}