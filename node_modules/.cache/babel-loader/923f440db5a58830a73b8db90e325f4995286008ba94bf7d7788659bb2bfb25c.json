{"ast":null,"code":"import { mapGetters } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      searchQuery: \"\",\n      currentPage: 1,\n      rowsPerPage: 10,\n      affiliates: [],\n      affiliateOrders: [] // ✅ New: affiliate order data\n    };\n  },\n\n  computed: {\n    ...mapGetters([\"getToken\"]),\n    totalPages() {\n      return Math.ceil(this.affiliates.length / this.rowsPerPage);\n    }\n  },\n  mounted() {\n    this.fetchAffiliates();\n    this.fetchAffiliateOrders();\n  },\n  methods: {\n    fetchAffiliates() {\n      axios.get(\"http://localhost:4000/api/affiliates\", {\n        headers: {\n          Authorization: `Bearer ${this.getToken}`\n        }\n      }).then(response => {\n        this.affiliates = response.data.affiliates;\n      }).catch(error => {\n        console.error(\"Error fetching affiliates:\", error.response?.data || error);\n      });\n    },\n    fetchAffiliateOrders() {\n      axios.get(\"http://localhost:4000/api/affiliate-orders\", {\n        headers: {\n          Authorization: `Bearer ${this.getToken}`\n        }\n      }).then(response => {\n        this.affiliateOrders = response.data.data;\n        console.log(this.affiliateOrders);\n      }).catch(error => {\n        console.error(\"Error fetching affiliate orders:\", error.response?.data || error);\n      });\n    },\n    prevPage() {\n      if (this.currentPage > 1) this.currentPage--;\n    },\n    nextPage() {\n      if (this.currentPage < this.totalPages) this.currentPage++;\n    },\n    changePage(page) {\n      this.currentPage = page;\n    },\n    applyFilters() {\n      this.currentPage = 1;\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","axios","data","searchQuery","currentPage","rowsPerPage","affiliates","affiliateOrders","computed","totalPages","Math","ceil","length","mounted","fetchAffiliates","fetchAffiliateOrders","methods","get","headers","Authorization","getToken","then","response","catch","error","console","log","prevPage","nextPage","changePage","page","applyFilters"],"sources":["C:\\Users\\ajib\\OneDrive\\Desktop\\event-ticket\\event-ticket-frontend\\src\\components\\dashboard\\orderlist.vue"],"sourcesContent":["<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchQuery: \"\",\r\n      currentPage: 1,\r\n      rowsPerPage: 10,\r\n      affiliates: [],\r\n      affiliateOrders: [], // ✅ New: affiliate order data\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getToken\"]),\r\n    totalPages() {\r\n      return Math.ceil(this.affiliates.length / this.rowsPerPage);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchAffiliates();\r\n    this.fetchAffiliateOrders();\r\n  },\r\n  methods: {\r\n    fetchAffiliates() {\r\n      axios\r\n        .get(\"http://localhost:4000/api/affiliates\", {\r\n          headers: {\r\n            Authorization: `Bearer ${this.getToken}`,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.affiliates = response.data.affiliates;\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error fetching affiliates:\", error.response?.data || error);\r\n        });\r\n    },\r\n    fetchAffiliateOrders() {\r\n      axios\r\n        .get(\"http://localhost:4000/api/affiliate-orders\", {\r\n          headers: {\r\n            Authorization: `Bearer ${this.getToken}`,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.affiliateOrders = response.data.data;\r\n          console.log(this.affiliateOrders)\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error fetching affiliate orders:\", error.response?.data || error);\r\n        });\r\n    },\r\n    prevPage() {\r\n      if (this.currentPage > 1) this.currentPage--;\r\n    },\r\n    nextPage() {\r\n      if (this.currentPage < this.totalPages) this.currentPage++;\r\n    },\r\n    changePage(page) {\r\n      this.currentPage = page;\r\n    },\r\n    applyFilters() {\r\n      this.currentPage = 1;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.tes{\r\n  text-transform: none !important;\r\n}\r\n.custom-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.custom-table th,\r\n.custom-table td {\r\n  padding: 10px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.custom-table th {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.custom-table td button {\r\n  padding: 5px 10px;\r\n  font-size: 14px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.custom-table td .dropdown-menu {\r\n  margin-top: 5px;\r\n}\r\n\r\n.custom-table td .dropdown-menu button {\r\n  width: 100%;\r\n  text-align: left;\r\n}\r\n.pagination {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 10px;\r\n}\r\n\r\n.pagination button {\r\n  border: 1px solid #ccc;\r\n  background-color: #fff;\r\n  color: #000;\r\n  padding: 5px 10px;\r\n  margin: 0 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.pagination button.active {\r\n  background-color: #f4a213;\r\n  color: #fff;\r\n}\r\n\r\n.filter {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.filter label {\r\n  margin-right: 5px;\r\n}\r\n.table-container {\r\n  overflow-x: auto;\r\n}\r\n\r\n.scrollable-tbody {\r\n  display: block;\r\n  white-space: nowrap;\r\n}\r\n</style>\r\n"],"mappings":"AACA,SAASA,UAAS,QAAS,MAAM;AACjC,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,CAAC;MACdC,WAAW,EAAE,EAAE;MACfC,UAAU,EAAE,EAAE;MACdC,eAAe,EAAE,EAAE,CAAE;IACvB,CAAC;EACH,CAAC;;EACDC,QAAQ,EAAE;IACR,GAAGR,UAAU,CAAC,CAAC,UAAU,CAAC,CAAC;IAC3BS,UAAUA,CAAA,EAAG;MACX,OAAOC,IAAI,CAACC,IAAI,CAAC,IAAI,CAACL,UAAU,CAACM,MAAK,GAAI,IAAI,CAACP,WAAW,CAAC;IAC7D;EACF,CAAC;EACDQ,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,eAAe,CAAC,CAAC;IACtB,IAAI,CAACC,oBAAoB,CAAC,CAAC;EAC7B,CAAC;EACDC,OAAO,EAAE;IACPF,eAAeA,CAAA,EAAG;MAChBb,KAAI,CACDgB,GAAG,CAAC,sCAAsC,EAAE;QAC3CC,OAAO,EAAE;UACPC,aAAa,EAAG,UAAS,IAAI,CAACC,QAAS;QACzC;MACF,CAAC,EACAC,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAAChB,UAAS,GAAIgB,QAAQ,CAACpB,IAAI,CAACI,UAAU;MAC5C,CAAC,EACAiB,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAACF,QAAQ,EAAEpB,IAAG,IAAKsB,KAAK,CAAC;MAC5E,CAAC,CAAC;IACN,CAAC;IACDT,oBAAoBA,CAAA,EAAG;MACrBd,KAAI,CACDgB,GAAG,CAAC,4CAA4C,EAAE;QACjDC,OAAO,EAAE;UACPC,aAAa,EAAG,UAAS,IAAI,CAACC,QAAS;QACzC;MACF,CAAC,EACAC,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACf,eAAc,GAAIe,QAAQ,CAACpB,IAAI,CAACA,IAAI;QACzCuB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACnB,eAAe;MAClC,CAAC,EACAgB,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAACF,QAAQ,EAAEpB,IAAG,IAAKsB,KAAK,CAAC;MAClF,CAAC,CAAC;IACN,CAAC;IACDG,QAAQA,CAAA,EAAG;MACT,IAAI,IAAI,CAACvB,WAAU,GAAI,CAAC,EAAE,IAAI,CAACA,WAAW,EAAE;IAC9C,CAAC;IACDwB,QAAQA,CAAA,EAAG;MACT,IAAI,IAAI,CAACxB,WAAU,GAAI,IAAI,CAACK,UAAU,EAAE,IAAI,CAACL,WAAW,EAAE;IAC5D,CAAC;IACDyB,UAAUA,CAACC,IAAI,EAAE;MACf,IAAI,CAAC1B,WAAU,GAAI0B,IAAI;IACzB,CAAC;IACDC,YAAYA,CAAA,EAAG;MACb,IAAI,CAAC3B,WAAU,GAAI,CAAC;IACtB;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}