{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nexport default {\n  install: (app, {\n    router,\n    id\n  }) => {\n    // ✅ detect if running on local dev\n    const devHosts = ['localhost', '127.0.0.1', '::1'];\n    const isDev = devHosts.includes(location.hostname);\n    console.log('[GA Plugin] Installed on', location.hostname);\n\n    // helper: send + log\n    function sendEvent(name, params = {}) {\n      if (window.gtag) {\n        window.gtag('event', name, params);\n        if (isDev) {\n          console.log('%c[GA Event]', 'color: #4CAF50; font-weight: bold;', name, params);\n        }\n      } else if (isDev) {\n        console.warn('[GA] gtag not loaded yet');\n      }\n    }\n\n    // ✅ make $gtag available everywhere\n    app.config.globalProperties.$gtag = sendEvent;\n\n    // ✅ track page views (SPA routes)\n    if (router) {\n      router.afterEach(to => {\n        if (window.gtag) {\n          window.gtag('config', id, {\n            page_path: to.fullPath\n          });\n          if (isDev) {\n            console.log('%c[GA PageView]', 'color: #2196F3; font-weight: bold;', to.fullPath);\n          }\n        }\n      });\n    }\n\n    // ✅ track clicks (buttons + links)\n    document.addEventListener('click', e => {\n      const target = e.target.closest('button, a');\n      if (target) {\n        const label = target.innerText || target.getAttribute('aria-label') || target.href || 'unknown';\n        const type = target.tagName.toLowerCase();\n        const isOutbound = type === 'a' && target.hostname !== window.location.hostname;\n        sendEvent(isOutbound ? 'outbound_click' : 'click', {\n          event_category: type,\n          event_label: label.trim(),\n          page_path: window.location.pathname,\n          outbound: isOutbound\n        });\n      }\n    });\n\n    // ✅ track form submissions\n    document.addEventListener('submit', e => {\n      const formName = e.target.getAttribute('name') || e.target.getAttribute('id') || 'unnamed_form';\n      sendEvent('form_submit', {\n        event_category: 'form',\n        event_label: formName,\n        page_path: window.location.pathname\n      });\n    });\n\n    // ✅ track scroll depth\n    let lastDepth = 0;\n    window.addEventListener('scroll', () => {\n      const scrollTop = window.scrollY;\n      const docHeight = document.documentElement.scrollHeight - window.innerHeight;\n      const scrollPercent = Math.round(scrollTop / docHeight * 100);\n      if (scrollPercent >= 25 && lastDepth < 25) {\n        sendEvent('scroll', {\n          percent: 25\n        });\n        lastDepth = 25;\n      } else if (scrollPercent >= 50 && lastDepth < 50) {\n        sendEvent('scroll', {\n          percent: 50\n        });\n        lastDepth = 50;\n      } else if (scrollPercent >= 75 && lastDepth < 75) {\n        sendEvent('scroll', {\n          percent: 75\n        });\n        lastDepth = 75;\n      } else if (scrollPercent >= 100 && lastDepth < 100) {\n        sendEvent('scroll', {\n          percent: 100\n        });\n        lastDepth = 100;\n      }\n    });\n\n    // ✅ track video plays\n    document.addEventListener('play', e => {\n      if (e.target.tagName.toLowerCase() === 'video') {\n        const src = e.target.currentSrc || e.target.src || 'unknown_video';\n        sendEvent('video_play', {\n          event_category: 'video',\n          event_label: src,\n          page_path: window.location.pathname\n        });\n      }\n    }, true);\n\n    // ✅ track purchases (manual call after checkout)\n    app.config.globalProperties.$trackPurchase = function (order) {\n      if (!order) return;\n      sendEvent('purchase', {\n        transaction_id: order.id,\n        value: order.total,\n        currency: order.currency,\n        items: order.items.map(item => ({\n          item_id: item.id,\n          item_name: item.name,\n          quantity: item.quantity,\n          price: item.price\n        }))\n      });\n    };\n  }\n};","map":{"version":3,"names":["install","app","router","id","devHosts","isDev","includes","location","hostname","console","log","sendEvent","name","params","window","gtag","warn","config","globalProperties","$gtag","afterEach","to","page_path","fullPath","document","addEventListener","e","target","closest","label","innerText","getAttribute","href","type","tagName","toLowerCase","isOutbound","event_category","event_label","trim","pathname","outbound","formName","lastDepth","scrollTop","scrollY","docHeight","documentElement","scrollHeight","innerHeight","scrollPercent","Math","round","percent","src","currentSrc","$trackPurchase","order","transaction_id","value","total","currency","items","map","item","item_id","item_name","quantity","price"],"sources":["C:/Users/ajib/OneDrive/Desktop/event-ticket/New folder/event-ticket-frontend/src/plugins/gtag.js"],"sourcesContent":["export default {\r\n  install: (app, { router, id }) => {\r\n    // ✅ detect if running on local dev\r\n    const devHosts = ['localhost', '127.0.0.1', '::1']\r\n    const isDev = devHosts.includes(location.hostname)\r\n\r\n    console.log('[GA Plugin] Installed on', location.hostname)\r\n\r\n    // helper: send + log\r\n    function sendEvent(name, params = {}) {\r\n      if (window.gtag) {\r\n        window.gtag('event', name, params)\r\n        if (isDev) {\r\n          console.log(\r\n            '%c[GA Event]',\r\n            'color: #4CAF50; font-weight: bold;',\r\n            name,\r\n            params\r\n          )\r\n        }\r\n      } else if (isDev) {\r\n        console.warn('[GA] gtag not loaded yet')\r\n      }\r\n    }\r\n\r\n    // ✅ make $gtag available everywhere\r\n    app.config.globalProperties.$gtag = sendEvent\r\n\r\n    // ✅ track page views (SPA routes)\r\n    if (router) {\r\n      router.afterEach((to) => {\r\n        if (window.gtag) {\r\n          window.gtag('config', id, { page_path: to.fullPath })\r\n          if (isDev) {\r\n            console.log(\r\n              '%c[GA PageView]',\r\n              'color: #2196F3; font-weight: bold;',\r\n              to.fullPath\r\n            )\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n    // ✅ track clicks (buttons + links)\r\n    document.addEventListener('click', (e) => {\r\n      const target = e.target.closest('button, a')\r\n      if (target) {\r\n        const label =\r\n          target.innerText ||\r\n          target.getAttribute('aria-label') ||\r\n          target.href ||\r\n          'unknown'\r\n        const type = target.tagName.toLowerCase()\r\n        const isOutbound =\r\n          type === 'a' && target.hostname !== window.location.hostname\r\n\r\n        sendEvent(isOutbound ? 'outbound_click' : 'click', {\r\n          event_category: type,\r\n          event_label: label.trim(),\r\n          page_path: window.location.pathname,\r\n          outbound: isOutbound\r\n        })\r\n      }\r\n    })\r\n\r\n    // ✅ track form submissions\r\n    document.addEventListener('submit', (e) => {\r\n      const formName =\r\n        e.target.getAttribute('name') ||\r\n        e.target.getAttribute('id') ||\r\n        'unnamed_form'\r\n      sendEvent('form_submit', {\r\n        event_category: 'form',\r\n        event_label: formName,\r\n        page_path: window.location.pathname\r\n      })\r\n    })\r\n\r\n    // ✅ track scroll depth\r\n    let lastDepth = 0\r\n    window.addEventListener('scroll', () => {\r\n      const scrollTop = window.scrollY\r\n      const docHeight =\r\n        document.documentElement.scrollHeight - window.innerHeight\r\n      const scrollPercent = Math.round((scrollTop / docHeight) * 100)\r\n\r\n      if (scrollPercent >= 25 && lastDepth < 25) {\r\n        sendEvent('scroll', { percent: 25 })\r\n        lastDepth = 25\r\n      } else if (scrollPercent >= 50 && lastDepth < 50) {\r\n        sendEvent('scroll', { percent: 50 })\r\n        lastDepth = 50\r\n      } else if (scrollPercent >= 75 && lastDepth < 75) {\r\n        sendEvent('scroll', { percent: 75 })\r\n        lastDepth = 75\r\n      } else if (scrollPercent >= 100 && lastDepth < 100) {\r\n        sendEvent('scroll', { percent: 100 })\r\n        lastDepth = 100\r\n      }\r\n    })\r\n\r\n    // ✅ track video plays\r\n    document.addEventListener(\r\n      'play',\r\n      (e) => {\r\n        if (e.target.tagName.toLowerCase() === 'video') {\r\n          const src = e.target.currentSrc || e.target.src || 'unknown_video'\r\n          sendEvent('video_play', {\r\n            event_category: 'video',\r\n            event_label: src,\r\n            page_path: window.location.pathname\r\n          })\r\n        }\r\n      },\r\n      true\r\n    )\r\n\r\n    // ✅ track purchases (manual call after checkout)\r\n    app.config.globalProperties.$trackPurchase = function (order) {\r\n      if (!order) return\r\n      sendEvent('purchase', {\r\n        transaction_id: order.id,\r\n        value: order.total,\r\n        currency: order.currency,\r\n        items: order.items.map((item) => ({\r\n          item_id: item.id,\r\n          item_name: item.name,\r\n          quantity: item.quantity,\r\n          price: item.price\r\n        }))\r\n      })\r\n    }\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}