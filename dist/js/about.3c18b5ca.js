(self["webpackChunkrest"]=self["webpackChunkrest"]||[]).push([[443],{6149:function(e,t,r){"use strict";r.d(t,{Bn:function(){return d}});var n=r(9792),a=r.n(n),i=r(4068),o=r.n(i),s=r(3396),l=r(4870);
/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */
const c={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},d=(0,s.aZ)({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:e=>["delta","html","text"].includes(e)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:e=>["snow","bubble",""].includes(e)},toolbar:{type:[String,Array,Object],required:!1,validator:e=>"string"!==typeof e||""===e||("#"===e.charAt(0)||-1!==Object.keys(c).indexOf(e))},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(e,t)=>{let r,n;(0,s.bv)((()=>{d()})),(0,s.Jd)((()=>{r=null}));const i=(0,l.iH)(),d=()=>{var o;if(i.value){if(n=u(),e.modules)if(Array.isArray(e.modules))for(const t of e.modules)a().register(`modules/${t.name}`,t.module);else a().register(`modules/${e.modules.name}`,e.modules.module);r=new(a())(i.value,n),D(e.content),r.on("text-change",v),r.on("selection-change",b),r.on("editor-change",y),"bubble"!==e.theme&&i.value.classList.remove("ql-bubble"),"snow"!==e.theme&&i.value.classList.remove("ql-snow"),null===(o=r.getModule("toolbar"))||void 0===o||o.container.addEventListener("mousedown",(e=>{e.preventDefault()})),t.emit("ready",r)}},u=()=>{const t={};if(""!==e.theme&&(t.theme=e.theme),e.readOnly&&(t.readOnly=e.readOnly),e.placeholder&&(t.placeholder=e.placeholder),e.toolbar&&""!==e.toolbar&&(t.modules={toolbar:(()=>{if("object"===typeof e.toolbar)return e.toolbar;if("string"===typeof e.toolbar){const t=e.toolbar;return"#"===t.charAt(0)?e.toolbar:c[e.toolbar]}})()}),e.modules){const r=(()=>{var t,r;const n={};if(Array.isArray(e.modules))for(const a of e.modules)n[a.name]=null!==(t=a.options)&&void 0!==t?t:{};else n[e.modules.name]=null!==(r=e.modules.options)&&void 0!==r?r:{};return n})();t.modules=Object.assign({},t.modules,r)}return Object.assign({},e.globalOptions,e.options,t)},p=e=>"object"===typeof e&&e?e.slice():e,h=e=>Object.values(e.ops).some((e=>!e.retain||1!==Object.keys(e).length));let m;const f=e=>{if(typeof m===typeof e){if(e===m)return!0;if("object"===typeof e&&e&&"object"===typeof m&&m)return!h(m.diff(e))}return!1},v=(r,n,a)=>{m=p(C()),f(e.content)||t.emit("update:content",m),t.emit("textChange",{delta:r,oldContents:n,source:a})},g=(0,l.iH)(),b=(e,n,a)=>{g.value=!!(null===r||void 0===r?void 0:r.hasFocus()),t.emit("selectionChange",{range:e,oldRange:n,source:a})};(0,s.YP)(g,(e=>{e?t.emit("focus",i):t.emit("blur",i)}));const y=(...e)=>{"text-change"===e[0]&&t.emit("editorChange",{name:e[0],delta:e[1],oldContents:e[2],source:e[3]}),"selection-change"===e[0]&&t.emit("editorChange",{name:e[0],range:e[1],oldRange:e[2],source:e[3]})},_=()=>i.value,w=()=>{var e;return null===(e=null===r||void 0===r?void 0:r.getModule("toolbar"))||void 0===e?void 0:e.container},k=()=>{if(r)return r;throw'The quill editor hasn\'t been instantiated yet,\n                  make sure to call this method when the editor ready\n                  or use v-on:ready="onReady(quill)" event instead.'},C=(t,n)=>"html"===e.contentType?S():"text"===e.contentType?T(t,n):null===r||void 0===r?void 0:r.getContents(t,n),D=(t,n="api")=>{const a=t||("delta"===e.contentType?new(o()):"");"html"===e.contentType?P(a):"text"===e.contentType?x(a,n):null===r||void 0===r||r.setContents(a,n),m=p(a)},T=(e,t)=>{var n;return null!==(n=null===r||void 0===r?void 0:r.getText(e,t))&&void 0!==n?n:""},x=(e,t="api")=>{null===r||void 0===r||r.setText(e,t)},S=()=>{var e;return null!==(e=null===r||void 0===r?void 0:r.root.innerHTML)&&void 0!==e?e:""},P=e=>{r&&(r.root.innerHTML=e)},E=(e,t="api")=>{const n=null===r||void 0===r?void 0:r.clipboard.convert(e);n&&(null===r||void 0===r||r.setContents(n,t))},A=()=>{null===r||void 0===r||r.focus()},$=()=>{(0,s.Y3)((()=>{var e;!t.slots.toolbar&&r&&(null===(e=r.getModule("toolbar"))||void 0===e||e.container.remove()),d()}))};return(0,s.YP)((()=>e.content),(e=>{if(!r||!e||f(e))return;const t=r.getSelection();t&&(0,s.Y3)((()=>null===r||void 0===r?void 0:r.setSelection(t))),D(e)}),{deep:!0}),(0,s.YP)((()=>e.enable),(e=>{r&&r.enable(e)})),{editor:i,getEditor:_,getToolbar:w,getQuill:k,getContents:C,setContents:D,getHTML:S,setHTML:P,pasteHTML:E,focus:A,getText:T,setText:x,reinit:$}},render(){var e,t;return[null===(t=(e=this.$slots).toolbar)||void 0===t?void 0:t.call(e),(0,s.h)("div",{ref:"editor",...this.$attrs})]}})},1442:function(e,t,r){r(7658);var n=-1,a=1,i=0;function o(e,t,r,n){if(e===t)return e?[[i,e]]:[];if(null!=r){var a=_(e,t,r);if(a)return a}var o=d(e,t),l=e.substring(0,o);e=e.substring(o),t=t.substring(o),o=u(e,t);var c=e.substring(e.length-o);e=e.substring(0,e.length-o),t=t.substring(0,t.length-o);var p=s(e,t);return l&&p.unshift([i,l]),c&&p.push([i,c]),h(p,n),p}function s(e,t){var r;if(!e)return[[a,t]];if(!t)return[[n,e]];var s=e.length>t.length?e:t,c=e.length>t.length?t:e,d=s.indexOf(c);if(-1!==d)return r=[[a,s.substring(0,d)],[i,c],[a,s.substring(d+c.length)]],e.length>t.length&&(r[0][0]=r[2][0]=n),r;if(1===c.length)return[[n,e],[a,t]];var u=p(e,t);if(u){var h=u[0],m=u[1],f=u[2],v=u[3],g=u[4],b=o(h,f),y=o(m,v);return b.concat([[i,g]],y)}return l(e,t)}function l(e,t){for(var r=e.length,i=t.length,o=Math.ceil((r+i)/2),s=o,l=2*o,d=new Array(l),u=new Array(l),p=0;p<l;p++)d[p]=-1,u[p]=-1;d[s+1]=0,u[s+1]=0;for(var h=r-i,m=h%2!==0,f=0,v=0,g=0,b=0,y=0;y<o;y++){for(var _=-y+f;_<=y-v;_+=2){var w=s+_;S=_===-y||_!==y&&d[w-1]<d[w+1]?d[w+1]:d[w-1]+1;var k=S-_;while(S<r&&k<i&&e.charAt(S)===t.charAt(k))S++,k++;if(d[w]=S,S>r)v+=2;else if(k>i)f+=2;else if(m){var C=s+h-_;if(C>=0&&C<l&&-1!==u[C]){var D=r-u[C];if(S>=D)return c(e,t,S,k)}}}for(var T=-y+g;T<=y-b;T+=2){C=s+T;D=T===-y||T!==y&&u[C-1]<u[C+1]?u[C+1]:u[C-1]+1;var x=D-T;while(D<r&&x<i&&e.charAt(r-D-1)===t.charAt(i-x-1))D++,x++;if(u[C]=D,D>r)b+=2;else if(x>i)g+=2;else if(!m){w=s+h-T;if(w>=0&&w<l&&-1!==d[w]){var S=d[w];k=s+S-w;if(D=r-D,S>=D)return c(e,t,S,k)}}}}return[[n,e],[a,t]]}function c(e,t,r,n){var a=e.substring(0,r),i=t.substring(0,n),s=e.substring(r),l=t.substring(n),c=o(a,i),d=o(s,l);return c.concat(d)}function d(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;var r=0,n=Math.min(e.length,t.length),a=n,i=0;while(r<a)e.substring(i,a)==t.substring(i,a)?(r=a,i=r):n=a,a=Math.floor((n-r)/2+r);return m(e.charCodeAt(a-1))&&a--,a}function u(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;var r=0,n=Math.min(e.length,t.length),a=n,i=0;while(r<a)e.substring(e.length-a,e.length-i)==t.substring(t.length-a,t.length-i)?(r=a,i=r):n=a,a=Math.floor((n-r)/2+r);return f(e.charCodeAt(e.length-a))&&a--,a}function p(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function a(e,t,r){var n,a,i,o,s=e.substring(r,r+Math.floor(e.length/4)),l=-1,c="";while(-1!==(l=t.indexOf(s,l+1))){var p=d(e.substring(r),t.substring(l)),h=u(e.substring(0,r),t.substring(0,l));c.length<h+p&&(c=t.substring(l-h,l)+t.substring(l,l+p),n=e.substring(0,r-h),a=e.substring(r+p),i=t.substring(0,l-h),o=t.substring(l+p))}return 2*c.length>=e.length?[n,a,i,o,c]:null}var i,o,s,l,c,p=a(r,n,Math.ceil(r.length/4)),h=a(r,n,Math.ceil(r.length/2));if(!p&&!h)return null;i=h?p&&p[4].length>h[4].length?p:h:p,e.length>t.length?(o=i[0],s=i[1],l=i[2],c=i[3]):(l=i[0],c=i[1],o=i[2],s=i[3]);var m=i[4];return[o,s,l,c,m]}function h(e,t){e.push([i,""]);var r,o=0,s=0,l=0,c="",p="";while(o<e.length)if(o<e.length-1&&!e[o][1])e.splice(o,1);else switch(e[o][0]){case a:l++,p+=e[o][1],o++;break;case n:s++,c+=e[o][1],o++;break;case i:var m=o-l-s-1;if(t){if(m>=0&&g(e[m][1])){var f=e[m][1].slice(-1);if(e[m][1]=e[m][1].slice(0,-1),c=f+c,p=f+p,!e[m][1]){e.splice(m,1),o--;var b=m-1;e[b]&&e[b][0]===a&&(l++,p=e[b][1]+p,b--),e[b]&&e[b][0]===n&&(s++,c=e[b][1]+c,b--),m=b}}if(v(e[o][1])){f=e[o][1].charAt(0);e[o][1]=e[o][1].slice(1),c+=f,p+=f}}if(o<e.length-1&&!e[o][1]){e.splice(o,1);break}if(c.length>0||p.length>0){c.length>0&&p.length>0&&(r=d(p,c),0!==r&&(m>=0?e[m][1]+=p.substring(0,r):(e.splice(0,0,[i,p.substring(0,r)]),o++),p=p.substring(r),c=c.substring(r)),r=u(p,c),0!==r&&(e[o][1]=p.substring(p.length-r)+e[o][1],p=p.substring(0,p.length-r),c=c.substring(0,c.length-r)));var y=l+s;0===c.length&&0===p.length?(e.splice(o-y,y),o-=y):0===c.length?(e.splice(o-y,y,[a,p]),o=o-y+1):0===p.length?(e.splice(o-y,y,[n,c]),o=o-y+1):(e.splice(o-y,y,[n,c],[a,p]),o=o-y+2)}0!==o&&e[o-1][0]===i?(e[o-1][1]+=e[o][1],e.splice(o,1)):o++,l=0,s=0,c="",p="";break}""===e[e.length-1][1]&&e.pop();var _=!1;o=1;while(o<e.length-1)e[o-1][0]===i&&e[o+1][0]===i&&(e[o][1].substring(e[o][1].length-e[o-1][1].length)===e[o-1][1]?(e[o][1]=e[o-1][1]+e[o][1].substring(0,e[o][1].length-e[o-1][1].length),e[o+1][1]=e[o-1][1]+e[o+1][1],e.splice(o-1,1),_=!0):e[o][1].substring(0,e[o+1][1].length)==e[o+1][1]&&(e[o-1][1]+=e[o+1][1],e[o][1]=e[o][1].substring(e[o+1][1].length)+e[o+1][1],e.splice(o+1,1),_=!0)),o++;_&&h(e,t)}function m(e){return e>=55296&&e<=56319}function f(e){return e>=56320&&e<=57343}function v(e){return f(e.charCodeAt(0))}function g(e){return m(e.charCodeAt(e.length-1))}function b(e){for(var t=[],r=0;r<e.length;r++)e[r][1].length>0&&t.push(e[r]);return t}function y(e,t,r,o){return g(e)||v(o)?null:b([[i,e],[n,t],[a,r],[i,o]])}function _(e,t,r){var n="number"===typeof r?{index:r,length:0}:r.oldRange,a="number"===typeof r?null:r.newRange,i=e.length,o=t.length;if(0===n.length&&(null===a||0===a.length)){var s=n.index,l=e.slice(0,s),c=e.slice(s),d=a?a.index:null,u=s+o-i;if((null===d||d===u)&&!(u<0||u>o)){var p=t.slice(0,u),h=t.slice(u);if(h===c){var m=Math.min(s,u),f=l.slice(0,m),v=p.slice(0,m);if(f===v){var g=l.slice(m),b=p.slice(m);return y(f,g,b,c)}}}if(null===d||d===s){var _=s;p=t.slice(0,_),h=t.slice(_);if(p===l){var w=Math.min(i-_,o-_),k=c.slice(c.length-w),C=h.slice(h.length-w);if(k===C){g=c.slice(0,c.length-w),b=h.slice(0,h.length-w);return y(l,g,b,k)}}}}if(n.length>0&&a&&0===a.length){f=e.slice(0,n.index),k=e.slice(n.index+n.length),m=f.length,w=k.length;if(!(o<m+w)){v=t.slice(0,m),C=t.slice(o-w);if(f===v&&k===C){g=e.slice(m,i-w),b=t.slice(m,o-w);return y(f,g,b,k)}}}return null}function w(e,t,r){return o(e,t,r,!0)}w.INSERT=a,w.DELETE=n,w.EQUAL=i,e.exports=w},4766:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(r(3736)),o=n(r(88));(function(e){function t(e,t,r){void 0===e&&(e={}),void 0===t&&(t={}),"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=i.default(t);for(var a in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[a]&&void 0===t[a]&&(n[a]=e[a]);return Object.keys(n).length>0?n:void 0}function r(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,n){return o.default(e[n],t[n])||(r[n]=void 0===t[n]?null:t[n]),r}),{});return Object.keys(r).length>0?r:void 0}function n(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=e||{};var r=Object.keys(t).reduce((function(r,n){return t[n]!==e[n]&&void 0!==e[n]&&(r[n]=t[n]),r}),{});return Object.keys(e).reduce((function(r,n){return e[n]!==t[n]&&void 0===t[n]&&(r[n]=null),r}),r)}function a(e,t,r){if(void 0===r&&(r=!1),"object"!==typeof e)return t;if("object"===typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}e.compose=t,e.diff=r,e.invert=n,e.transform=a})(a||(a={})),t["default"]=a},4068:function(e,t,r){"use strict";r(7658);var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=n(r(1442)),i=n(r(3736)),o=n(r(88)),s=n(r(4766)),l=n(r(5294)),c=String.fromCharCode(0),d=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var r={};return"string"===typeof e&&0===e.length?this:(r.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},e.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=i.default(e),"object"===typeof r){if("number"===typeof e.delete&&"number"===typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"===typeof r.delete&&null!=e.insert&&(t-=1,r=this.ops[t-1],"object"!==typeof r))return this.ops.unshift(e),this;if(o.default(e.attributes,r.attributes)){if("string"===typeof e.insert&&"string"===typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){var a=e(n)?t:r;a.push(n)})),[t,r]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+l.default.length(t):t.delete?e-t.delete:e}),0)},e.prototype.length=function(){return this.reduce((function(e,t){return e+l.default.length(t)}),0)},e.prototype.slice=function(t,r){void 0===t&&(t=0),void 0===r&&(r=1/0);var n=[],a=l.default.iterator(this.ops),i=0;while(i<r&&a.hasNext()){var o=void 0;i<t?o=a.next(t-i):(o=a.next(r-i),n.push(o)),i+=l.default.length(o)}return new e(n)},e.prototype.compose=function(t){var r=l.default.iterator(this.ops),n=l.default.iterator(t.ops),a=[],i=n.peek();if(null!=i&&"number"===typeof i.retain&&null==i.attributes){var c=i.retain;while("insert"===r.peekType()&&r.peekLength()<=c)c-=r.peekLength(),a.push(r.next());i.retain-c>0&&n.next(i.retain-c)}var d=new e(a);while(r.hasNext()||n.hasNext())if("insert"===n.peekType())d.push(n.next());else if("delete"===r.peekType())d.push(r.next());else{var u=Math.min(r.peekLength(),n.peekLength()),p=r.next(u),h=n.next(u);if("number"===typeof h.retain){var m={};"number"===typeof p.retain?m.retain=u:m.insert=p.insert;var f=s.default.compose(p.attributes,h.attributes,"number"===typeof p.retain);if(f&&(m.attributes=f),d.push(m),!n.hasNext()&&o.default(d.ops[d.ops.length-1],m)){var v=new e(r.rest());return d.concat(v).chop()}}else"number"===typeof h.delete&&"number"===typeof p.retain&&d.push(h)}return d.chop()},e.prototype.concat=function(t){var r=new e(this.ops.slice());return t.ops.length>0&&(r.push(t.ops[0]),r.ops=r.ops.concat(t.ops.slice(1))),r},e.prototype.diff=function(t,r){if(this.ops===t.ops)return new e;var n=[this,t].map((function(e){return e.map((function(r){if(null!=r.insert)return"string"===typeof r.insert?r.insert:c;var n=e===t?"on":"with";throw new Error("diff() called "+n+" non-document")})).join("")})),i=new e,d=a.default(n[0],n[1],r),u=l.default.iterator(this.ops),p=l.default.iterator(t.ops);return d.forEach((function(e){var t=e[1].length;while(t>0){var r=0;switch(e[0]){case a.default.INSERT:r=Math.min(p.peekLength(),t),i.push(p.next(r));break;case a.default.DELETE:r=Math.min(t,u.peekLength()),u.next(r),i.delete(r);break;case a.default.EQUAL:r=Math.min(u.peekLength(),p.peekLength(),t);var n=u.next(r),l=p.next(r);o.default(n.insert,l.insert)?i.retain(r,s.default.diff(n.attributes,l.attributes)):i.push(l).delete(r);break}t-=r}})),i.chop()},e.prototype.eachLine=function(t,r){void 0===r&&(r="\n");var n=l.default.iterator(this.ops),a=new e,i=0;while(n.hasNext()){if("insert"!==n.peekType())return;var o=n.peek(),s=l.default.length(o)-n.peekLength(),c="string"===typeof o.insert?o.insert.indexOf(r,s)-s:-1;if(c<0)a.push(n.next());else if(c>0)a.push(n.next(c));else{if(!1===t(a,n.next(1).attributes||{},i))return;i+=1,a=new e}}a.length()>0&&t(a,{},i)},e.prototype.invert=function(t){var r=new e;return this.reduce((function(e,n){if(n.insert)r.delete(l.default.length(n));else{if(n.retain&&null==n.attributes)return r.retain(n.retain),e+n.retain;if(n.delete||n.retain&&n.attributes){var a=n.delete||n.retain,i=t.slice(e,e+a);return i.forEach((function(e){n.delete?r.push(e):n.retain&&n.attributes&&r.retain(l.default.length(e),s.default.invert(n.attributes,e.attributes))})),e+a}}return e}),0),r.chop()},e.prototype.transform=function(t,r){if(void 0===r&&(r=!1),r=!!r,"number"===typeof t)return this.transformPosition(t,r);var n=t,a=l.default.iterator(this.ops),i=l.default.iterator(n.ops),o=new e;while(a.hasNext()||i.hasNext())if("insert"!==a.peekType()||!r&&"insert"===i.peekType())if("insert"===i.peekType())o.push(i.next());else{var c=Math.min(a.peekLength(),i.peekLength()),d=a.next(c),u=i.next(c);if(d.delete)continue;u.delete?o.push(u):o.retain(c,s.default.transform(d.attributes,u.attributes,r))}else o.retain(l.default.length(a.next()));return o.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;var r=l.default.iterator(this.ops),n=0;while(r.hasNext()&&n<=e){var a=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=a),n+=a):e-=Math.min(a,e-n)}return e},e.Op=l.default,e.AttributeMap=s.default,e}();e.exports=d},1488:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(5294)),i=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=a.default.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"===typeof t.retain?i.retain=e:"string"===typeof t.insert?i.insert=t.insert.substr(r,e):i.insert=t.insert,i}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?a.default.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e}();t["default"]=i},5294:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(r(1488));(function(e){function t(e){return new i.default(e)}function r(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}e.iterator=t,e.length=r})(a||(a={})),t["default"]=a},3736:function(e,t,r){e=r.nmd(e),r(7658);var n=200,a="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",u="[object Function]",p="[object GeneratorFunction]",h="[object Map]",m="[object Number]",f="[object Object]",v="[object Promise]",g="[object RegExp]",b="[object Set]",y="[object String]",_="[object Symbol]",w="[object WeakMap]",k="[object ArrayBuffer]",C="[object DataView]",D="[object Float32Array]",T="[object Float64Array]",x="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",$="[object Uint16Array]",O="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,j=/\w*$/,M=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,q={};q[o]=q[s]=q[k]=q[C]=q[l]=q[c]=q[D]=q[T]=q[x]=q[S]=q[P]=q[h]=q[m]=q[f]=q[g]=q[b]=q[y]=q[_]=q[E]=q[A]=q[$]=q[O]=!0,q[d]=q[u]=q[w]=!1;var z="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,I="object"==typeof self&&self&&self.Object===Object&&self,V=z||I||Function("return this")(),N=t&&!t.nodeType&&t,R=N&&e&&!e.nodeType&&e,L=R&&R.exports===N;function B(e,t){return e.set(t[0],t[1]),e}function H(e,t){return e.add(t),e}function W(e,t){var r=-1,n=e?e.length:0;while(++r<n)if(!1===t(e[r],r,e))break;return e}function Z(e,t){var r=-1,n=t.length,a=e.length;while(++r<n)e[a+r]=t[r];return e}function Y(e,t,r,n){var a=-1,i=e?e.length:0;n&&i&&(r=e[++a]);while(++a<i)r=t(r,e[a],a,e);return r}function G(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}function Q(e,t){return null==e?void 0:e[t]}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function J(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function X(e,t){return function(r){return e(t(r))}}function ee(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var te=Array.prototype,re=Function.prototype,ne=Object.prototype,ae=V["__core-js_shared__"],ie=function(){var e=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),oe=re.toString,se=ne.hasOwnProperty,le=ne.toString,ce=RegExp("^"+oe.call(se).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),de=L?V.Buffer:void 0,ue=V.Symbol,pe=V.Uint8Array,he=X(Object.getPrototypeOf,Object),me=Object.create,fe=ne.propertyIsEnumerable,ve=te.splice,ge=Object.getOwnPropertySymbols,be=de?de.isBuffer:void 0,ye=X(Object.keys,Object),_e=xt(V,"DataView"),we=xt(V,"Map"),ke=xt(V,"Promise"),Ce=xt(V,"Set"),De=xt(V,"WeakMap"),Te=xt(Object,"create"),xe=Ft(_e),Se=Ft(we),Pe=Ft(ke),Ee=Ft(Ce),Ae=Ft(De),$e=ue?ue.prototype:void 0,Oe=$e?$e.valueOf:void 0;function Ue(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function je(){this.__data__=Te?Te(null):{}}function Me(e){return this.has(e)&&delete this.__data__[e]}function Fe(e){var t=this.__data__;if(Te){var r=t[e];return r===a?void 0:r}return se.call(t,e)?t[e]:void 0}function qe(e){var t=this.__data__;return Te?void 0!==t[e]:se.call(t,e)}function ze(e,t){var r=this.__data__;return r[e]=Te&&void 0===t?a:t,this}function Ie(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Ve(){this.__data__=[]}function Ne(e){var t=this.__data__,r=it(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ve.call(t,r,1),!0}function Re(e){var t=this.__data__,r=it(t,e);return r<0?void 0:t[r][1]}function Le(e){return it(this.__data__,e)>-1}function Be(e,t){var r=this.__data__,n=it(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}function He(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function We(){this.__data__={hash:new Ue,map:new(we||Ie),string:new Ue}}function Ze(e){return Tt(this,e)["delete"](e)}function Ye(e){return Tt(this,e).get(e)}function Ge(e){return Tt(this,e).has(e)}function Qe(e,t){return Tt(this,e).set(e,t),this}function Ke(e){this.__data__=new Ie(e)}function Je(){this.__data__=new Ie}function Xe(e){return this.__data__["delete"](e)}function et(e){return this.__data__.get(e)}function tt(e){return this.__data__.has(e)}function rt(e,t){var r=this.__data__;if(r instanceof Ie){var a=r.__data__;if(!we||a.length<n-1)return a.push([e,t]),this;r=this.__data__=new He(a)}return r.set(e,t),this}function nt(e,t){var r=Vt(e)||It(e)?G(e.length,String):[],n=r.length,a=!!n;for(var i in e)!t&&!se.call(e,i)||a&&("length"==i||Ot(i,n))||r.push(i);return r}function at(e,t,r){var n=e[t];se.call(e,t)&&zt(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function it(e,t){var r=e.length;while(r--)if(zt(e[r][0],t))return r;return-1}function ot(e,t){return e&&kt(t,Yt(t),e)}function st(e,t,r,n,a,i,s){var l;if(n&&(l=i?n(e,a,i,s):n(e)),void 0!==l)return l;if(!Wt(e))return e;var c=Vt(e);if(c){if(l=Et(e),!t)return wt(e,l)}else{var d=Pt(e),h=d==u||d==p;if(Lt(e))return ht(e,t);if(d==f||d==o||h&&!i){if(K(e))return i?e:{};if(l=At(h?{}:e),!t)return Ct(e,ot(l,e))}else{if(!q[d])return i?e:{};l=$t(e,d,st,t)}}s||(s=new Ke);var m=s.get(e);if(m)return m;if(s.set(e,l),!c)var v=r?Dt(e):Yt(e);return W(v||e,(function(a,i){v&&(i=a,a=e[i]),at(l,i,st(a,t,r,n,i,e,s))})),l}function lt(e){return Wt(e)?me(e):{}}function ct(e,t,r){var n=t(e);return Vt(e)?n:Z(n,r(e))}function dt(e){return le.call(e)}function ut(e){if(!Wt(e)||jt(e))return!1;var t=Bt(e)||K(e)?ce:M;return t.test(Ft(e))}function pt(e){if(!Mt(e))return ye(e);var t=[];for(var r in Object(e))se.call(e,r)&&"constructor"!=r&&t.push(r);return t}function ht(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function mt(e){var t=new e.constructor(e.byteLength);return new pe(t).set(new pe(e)),t}function ft(e,t){var r=t?mt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function vt(e,t,r){var n=t?r(J(e),!0):J(e);return Y(n,B,new e.constructor)}function gt(e){var t=new e.constructor(e.source,j.exec(e));return t.lastIndex=e.lastIndex,t}function bt(e,t,r){var n=t?r(ee(e),!0):ee(e);return Y(n,H,new e.constructor)}function yt(e){return Oe?Object(Oe.call(e)):{}}function _t(e,t){var r=t?mt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function wt(e,t){var r=-1,n=e.length;t||(t=Array(n));while(++r<n)t[r]=e[r];return t}function kt(e,t,r,n){r||(r={});var a=-1,i=t.length;while(++a<i){var o=t[a],s=n?n(r[o],e[o],o,r,e):void 0;at(r,o,void 0===s?e[o]:s)}return r}function Ct(e,t){return kt(e,St(e),t)}function Dt(e){return ct(e,Yt,St)}function Tt(e,t){var r=e.__data__;return Ut(t)?r["string"==typeof t?"string":"hash"]:r.map}function xt(e,t){var r=Q(e,t);return ut(r)?r:void 0}Ue.prototype.clear=je,Ue.prototype["delete"]=Me,Ue.prototype.get=Fe,Ue.prototype.has=qe,Ue.prototype.set=ze,Ie.prototype.clear=Ve,Ie.prototype["delete"]=Ne,Ie.prototype.get=Re,Ie.prototype.has=Le,Ie.prototype.set=Be,He.prototype.clear=We,He.prototype["delete"]=Ze,He.prototype.get=Ye,He.prototype.has=Ge,He.prototype.set=Qe,Ke.prototype.clear=Je,Ke.prototype["delete"]=Xe,Ke.prototype.get=et,Ke.prototype.has=tt,Ke.prototype.set=rt;var St=ge?X(ge,Object):Gt,Pt=dt;function Et(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&se.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function At(e){return"function"!=typeof e.constructor||Mt(e)?{}:lt(he(e))}function $t(e,t,r,n){var a=e.constructor;switch(t){case k:return mt(e);case l:case c:return new a(+e);case C:return ft(e,n);case D:case T:case x:case S:case P:case E:case A:case $:case O:return _t(e,n);case h:return vt(e,n,r);case m:case y:return new a(e);case g:return gt(e);case b:return bt(e,n,r);case _:return yt(e)}}function Ot(e,t){return t=null==t?i:t,!!t&&("number"==typeof e||F.test(e))&&e>-1&&e%1==0&&e<t}function Ut(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function jt(e){return!!ie&&ie in e}function Mt(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||ne;return e===r}function Ft(e){if(null!=e){try{return oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function qt(e){return st(e,!0,!0)}function zt(e,t){return e===t||e!==e&&t!==t}function It(e){return Rt(e)&&se.call(e,"callee")&&(!fe.call(e,"callee")||le.call(e)==o)}(_e&&Pt(new _e(new ArrayBuffer(1)))!=C||we&&Pt(new we)!=h||ke&&Pt(ke.resolve())!=v||Ce&&Pt(new Ce)!=b||De&&Pt(new De)!=w)&&(Pt=function(e){var t=le.call(e),r=t==f?e.constructor:void 0,n=r?Ft(r):void 0;if(n)switch(n){case xe:return C;case Se:return h;case Pe:return v;case Ee:return b;case Ae:return w}return t});var Vt=Array.isArray;function Nt(e){return null!=e&&Ht(e.length)&&!Bt(e)}function Rt(e){return Zt(e)&&Nt(e)}var Lt=be||Qt;function Bt(e){var t=Wt(e)?le.call(e):"";return t==u||t==p}function Ht(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Wt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Zt(e){return!!e&&"object"==typeof e}function Yt(e){return Nt(e)?nt(e):pt(e)}function Gt(){return[]}function Qt(){return!1}e.exports=qt},88:function(e,t,r){e=r.nmd(e),r(7658);var n=200,a="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,l="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",u="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Function]",f="[object GeneratorFunction]",v="[object Map]",g="[object Number]",b="[object Null]",y="[object Object]",_="[object Promise]",w="[object Proxy]",k="[object RegExp]",C="[object Set]",D="[object String]",T="[object Symbol]",x="[object Undefined]",S="[object WeakMap]",P="[object ArrayBuffer]",E="[object DataView]",A="[object Float32Array]",$="[object Float64Array]",O="[object Int8Array]",U="[object Int16Array]",j="[object Int32Array]",M="[object Uint8Array]",F="[object Uint8ClampedArray]",q="[object Uint16Array]",z="[object Uint32Array]",I=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,R={};R[A]=R[$]=R[O]=R[U]=R[j]=R[M]=R[F]=R[q]=R[z]=!0,R[l]=R[c]=R[P]=R[u]=R[E]=R[p]=R[h]=R[m]=R[v]=R[g]=R[y]=R[k]=R[C]=R[D]=R[S]=!1;var L="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,B="object"==typeof self&&self&&self.Object===Object&&self,H=L||B||Function("return this")(),W=t&&!t.nodeType&&t,Z=W&&e&&!e.nodeType&&e,Y=Z&&Z.exports===W,G=Y&&L.process,Q=function(){try{return G&&G.binding&&G.binding("util")}catch(e){}}(),K=Q&&Q.isTypedArray;function J(e,t){var r=-1,n=null==e?0:e.length,a=0,i=[];while(++r<n){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function X(e,t){var r=-1,n=t.length,a=e.length;while(++r<n)e[a+r]=t[r];return e}function ee(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(t(e[r],r,e))return!0;return!1}function te(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}function re(e){return function(t){return e(t)}}function ne(e,t){return e.has(t)}function ae(e,t){return null==e?void 0:e[t]}function ie(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function oe(e,t){return function(r){return e(t(r))}}function se(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var le=Array.prototype,ce=Function.prototype,de=Object.prototype,ue=H["__core-js_shared__"],pe=ce.toString,he=de.hasOwnProperty,me=function(){var e=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),fe=de.toString,ve=RegExp("^"+pe.call(he).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=Y?H.Buffer:void 0,be=H.Symbol,ye=H.Uint8Array,_e=de.propertyIsEnumerable,we=le.splice,ke=be?be.toStringTag:void 0,Ce=Object.getOwnPropertySymbols,De=ge?ge.isBuffer:void 0,Te=oe(Object.keys,Object),xe=St(H,"DataView"),Se=St(H,"Map"),Pe=St(H,"Promise"),Ee=St(H,"Set"),Ae=St(H,"WeakMap"),$e=St(Object,"create"),Oe=Ft(xe),Ue=Ft(Se),je=Ft(Pe),Me=Ft(Ee),Fe=Ft(Ae),qe=be?be.prototype:void 0,ze=qe?qe.valueOf:void 0;function Ie(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Ve(){this.__data__=$e?$e(null):{},this.size=0}function Ne(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Re(e){var t=this.__data__;if($e){var r=t[e];return r===a?void 0:r}return he.call(t,e)?t[e]:void 0}function Le(e){var t=this.__data__;return $e?void 0!==t[e]:he.call(t,e)}function Be(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$e&&void 0===t?a:t,this}function He(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function We(){this.__data__=[],this.size=0}function Ze(e){var t=this.__data__,r=ht(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():we.call(t,r,1),--this.size,!0}function Ye(e){var t=this.__data__,r=ht(t,e);return r<0?void 0:t[r][1]}function Ge(e){return ht(this.__data__,e)>-1}function Qe(e,t){var r=this.__data__,n=ht(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Ke(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Je(){this.size=0,this.__data__={hash:new Ie,map:new(Se||He),string:new Ie}}function Xe(e){var t=xt(this,e)["delete"](e);return this.size-=t?1:0,t}function et(e){return xt(this,e).get(e)}function tt(e){return xt(this,e).has(e)}function rt(e,t){var r=xt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function nt(e){var t=-1,r=null==e?0:e.length;this.__data__=new Ke;while(++t<r)this.add(e[t])}function at(e){return this.__data__.set(e,a),this}function it(e){return this.__data__.has(e)}function ot(e){var t=this.__data__=new He(e);this.size=t.size}function st(){this.__data__=new He,this.size=0}function lt(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r}function ct(e){return this.__data__.get(e)}function dt(e){return this.__data__.has(e)}function ut(e,t){var r=this.__data__;if(r instanceof He){var a=r.__data__;if(!Se||a.length<n-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ke(a)}return r.set(e,t),this.size=r.size,this}function pt(e,t){var r=It(e),n=!r&&zt(e),a=!r&&!n&&Nt(e),i=!r&&!n&&!a&&Zt(e),o=r||n||a||i,s=o?te(e.length,String):[],l=s.length;for(var c in e)!t&&!he.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||$t(c,l))||s.push(c);return s}function ht(e,t){var r=e.length;while(r--)if(qt(e[r][0],t))return r;return-1}function mt(e,t,r){var n=t(e);return It(e)?n:X(n,r(e))}function ft(e){return null==e?void 0===e?x:b:ke&&ke in Object(e)?Pt(e):Mt(e)}function vt(e){return Wt(e)&&ft(e)==l}function gt(e,t,r,n,a){return e===t||(null==e||null==t||!Wt(e)&&!Wt(t)?e!==e&&t!==t:bt(e,t,r,n,gt,a))}function bt(e,t,r,n,a,o){var s=It(e),d=It(t),u=s?c:At(e),p=d?c:At(t);u=u==l?y:u,p=p==l?y:p;var h=u==y,m=p==y,f=u==p;if(f&&Nt(e)){if(!Nt(t))return!1;s=!0,h=!1}if(f&&!h)return o||(o=new ot),s||Zt(e)?kt(e,t,r,n,a,o):Ct(e,t,u,r,n,a,o);if(!(r&i)){var v=h&&he.call(e,"__wrapped__"),g=m&&he.call(t,"__wrapped__");if(v||g){var b=v?e.value():e,_=g?t.value():t;return o||(o=new ot),a(b,_,r,n,o)}}return!!f&&(o||(o=new ot),Dt(e,t,r,n,a,o))}function yt(e){if(!Ht(e)||Ut(e))return!1;var t=Lt(e)?ve:V;return t.test(Ft(e))}function _t(e){return Wt(e)&&Bt(e.length)&&!!R[ft(e)]}function wt(e){if(!jt(e))return Te(e);var t=[];for(var r in Object(e))he.call(e,r)&&"constructor"!=r&&t.push(r);return t}function kt(e,t,r,n,a,s){var l=r&i,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var p=-1,h=!0,m=r&o?new nt:void 0;s.set(e,t),s.set(t,e);while(++p<c){var f=e[p],v=t[p];if(n)var g=l?n(v,f,p,t,e,s):n(f,v,p,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(m){if(!ee(t,(function(e,t){if(!ne(m,t)&&(f===e||a(f,e,r,n,s)))return m.push(t)}))){h=!1;break}}else if(f!==v&&!a(f,v,r,n,s)){h=!1;break}}return s["delete"](e),s["delete"](t),h}function Ct(e,t,r,n,a,s,l){switch(r){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!s(new ye(e),new ye(t)));case u:case p:case g:return qt(+e,+t);case h:return e.name==t.name&&e.message==t.message;case k:case D:return e==t+"";case v:var c=ie;case C:var d=n&i;if(c||(c=se),e.size!=t.size&&!d)return!1;var m=l.get(e);if(m)return m==t;n|=o,l.set(e,t);var f=kt(c(e),c(t),n,a,s,l);return l["delete"](e),f;case T:if(ze)return ze.call(e)==ze.call(t)}return!1}function Dt(e,t,r,n,a,o){var s=r&i,l=Tt(e),c=l.length,d=Tt(t),u=d.length;if(c!=u&&!s)return!1;var p=c;while(p--){var h=l[p];if(!(s?h in t:he.call(t,h)))return!1}var m=o.get(e);if(m&&o.get(t))return m==t;var f=!0;o.set(e,t),o.set(t,e);var v=s;while(++p<c){h=l[p];var g=e[h],b=t[h];if(n)var y=s?n(b,g,h,t,e,o):n(g,b,h,e,t,o);if(!(void 0===y?g===b||a(g,b,r,n,o):y)){f=!1;break}v||(v="constructor"==h)}if(f&&!v){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(f=!1)}return o["delete"](e),o["delete"](t),f}function Tt(e){return mt(e,Yt,Et)}function xt(e,t){var r=e.__data__;return Ot(t)?r["string"==typeof t?"string":"hash"]:r.map}function St(e,t){var r=ae(e,t);return yt(r)?r:void 0}function Pt(e){var t=he.call(e,ke),r=e[ke];try{e[ke]=void 0;var n=!0}catch(i){}var a=fe.call(e);return n&&(t?e[ke]=r:delete e[ke]),a}Ie.prototype.clear=Ve,Ie.prototype["delete"]=Ne,Ie.prototype.get=Re,Ie.prototype.has=Le,Ie.prototype.set=Be,He.prototype.clear=We,He.prototype["delete"]=Ze,He.prototype.get=Ye,He.prototype.has=Ge,He.prototype.set=Qe,Ke.prototype.clear=Je,Ke.prototype["delete"]=Xe,Ke.prototype.get=et,Ke.prototype.has=tt,Ke.prototype.set=rt,nt.prototype.add=nt.prototype.push=at,nt.prototype.has=it,ot.prototype.clear=st,ot.prototype["delete"]=lt,ot.prototype.get=ct,ot.prototype.has=dt,ot.prototype.set=ut;var Et=Ce?function(e){return null==e?[]:(e=Object(e),J(Ce(e),(function(t){return _e.call(e,t)})))}:Gt,At=ft;function $t(e,t){return t=null==t?s:t,!!t&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function Ot(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ut(e){return!!me&&me in e}function jt(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||de;return e===r}function Mt(e){return fe.call(e)}function Ft(e){if(null!=e){try{return pe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function qt(e,t){return e===t||e!==e&&t!==t}(xe&&At(new xe(new ArrayBuffer(1)))!=E||Se&&At(new Se)!=v||Pe&&At(Pe.resolve())!=_||Ee&&At(new Ee)!=C||Ae&&At(new Ae)!=S)&&(At=function(e){var t=ft(e),r=t==y?e.constructor:void 0,n=r?Ft(r):"";if(n)switch(n){case Oe:return E;case Ue:return v;case je:return _;case Me:return C;case Fe:return S}return t});var zt=vt(function(){return arguments}())?vt:function(e){return Wt(e)&&he.call(e,"callee")&&!_e.call(e,"callee")},It=Array.isArray;function Vt(e){return null!=e&&Bt(e.length)&&!Lt(e)}var Nt=De||Qt;function Rt(e,t){return gt(e,t)}function Lt(e){if(!Ht(e))return!1;var t=ft(e);return t==m||t==f||t==d||t==w}function Bt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ht(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Wt(e){return null!=e&&"object"==typeof e}var Zt=K?re(K):_t;function Yt(e){return Vt(e)?pt(e):wt(e)}function Gt(){return[]}function Qt(){return!1}e.exports=Rt},6272:function(e){!function(t,r){e.exports=r()}(window,(function(){return r={},e.m=t=[function(e,t,r){"use strict";r.r(t);var n,a,i,o,s,l,c,d,u,p,h;o=!(i=[]),c=l=s=null,h="function"==typeof(n={props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,required:!0},email:{type:String,required:!0},firstname:{type:String,default:""},lastname:{type:String,default:""},amount:{type:Number,required:!0},reference:{type:String,required:!0},channels:{type:Array,default:function(){return["card","bank"]}},accessCode:{type:String,default:""},callback:{type:Function,required:!0,default:function(){}},close:{type:Function,required:!0,default:function(){}},metadata:{type:Object,default:function(){return{}}},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:String,default:""},subaccount:{type:String,default:""},split:{type:Object,default:function(){return{}}},splitCode:{type:String,default:""},transactionCharge:{type:Number,default:0},bearer:{type:String,default:""}},data:function(){return{scriptLoaded:null}},created:function(){var e=this;this.scriptLoaded=new Promise((function(t){e.loadScript((function(){t()}))}))},mounted:function(){this.embed&&this.payWithPaystack()},methods:{loadScript:function(e){var t=document.createElement("script");t.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(t),t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,e())}:t.onload=function(){e()}},isDynamicSplit:function(){return this.split.constructor===Object&&0<Object.keys(this.split).length},payWithPaystack:function(){var e=this;this.scriptLoaded&&this.scriptLoaded.then((function(){var t={key:e.paystackkey,email:e.email,firstname:e.firstname,lastname:e.lastname,channels:e.channels,amount:e.amount,access_code:e.accessCode,ref:e.reference,callback:function(t){e.callback(t)},onClose:function(){e.close()},metadata:e.metadata,currency:e.currency,plan:e.plan,quantity:e.quantity,subaccount:e.isDynamicSplit()?"":e.subaccount,split:e.isDynamicSplit()?e.split:null,split_code:e.isDynamicSplit()?"":e.splitCode,transaction_charge:e.isDynamicSplit()?0:e.transactionCharge,bearer:e.isDynamicSplit()?"":e.bearer};e.embed&&(t.container="paystackEmbedContainer"),t=window.PaystackPop.setup(t),e.embed||t.openIframe()}))}}})?n.options:n,(a=function(){var e=this,t=e._self._c||e.$createElement;return e.embed?t("div",{attrs:{id:"paystackEmbedContainer"}}):t("button",{staticClass:"payButton",on:{click:e.payWithPaystack}},[e._t("default",[e._v("Make Payment")])],2)})&&(h.render=a,h.staticRenderFns=i,h._compiled=!0),o&&(h.functional=!0),l&&(h._scopeId="data-v-"+l),c?h._ssrRegister=u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(c)}:s&&(u=d?function(){s.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:s),u&&(h.functional?(h._injectStyles=u,p=h.render,h.render=function(e,t){return u.call(t),p(e,t)}):h.beforeCreate=(d=h.beforeCreate)?[].concat(d,u):[u]),r={exports:n,options:h};t.default=r.exports}],e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var a in t)e.d(n,a,function(e){return t[e]}.bind(null,a));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="/dist/",e(e.s=0);function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var t,r}))},8183:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Ln}});var n=r(3396),a=r(7139);const i=e=>((0,n.dD)("data-v-135d4b22"),e=e(),(0,n.Cn)(),e),o={class:"sidebar-header d-flex justify-content-between align-items-center p-3 border-bottom"},s=i((()=>(0,n._)("h5",{class:"mb-0 text-white"},"Menu",-1))),l={class:"sidebar-content p-3"},c={class:"list-unstyled"},d={key:0,class:"flaticon-381-networking me-2"},u=i((()=>(0,n._)("span",null,"All",-1))),p={key:0,class:"list-unstyled ms-3"},h=i((()=>(0,n._)("i",{class:"flaticon-381-television me-2"},null,-1))),m=i((()=>(0,n._)("span",null,"Apps",-1))),f=[h,m],v={key:0,class:"list-unstyled ms-3"},g={class:"d-block d-md-none px-2 pb-2"};function b(e,t,r,i,h,m){const b=(0,n.up)("events"),y=(0,n.up)("category"),_=(0,n.up)("users"),w=(0,n.up)("Scanner"),k=(0,n.up)("Orders"),C=(0,n.up)("banks"),D=(0,n.up)("addEvent");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",{class:(0,a.C_)(["sidebar d-none d-md-block",{"sidebar-open":h.isOpen}])},[(0,n._)("div",o,[s,(0,n._)("button",{class:"btn btn-sm btn-light",onClick:t[0]||(t[0]=(...e)=>m.closeSidebar&&m.closeSidebar(...e))},"×")]),(0,n._)("div",l,[(0,n._)("ul",c,[(0,n._)("li",null,[(0,n._)("a",{class:"d-flex align-items-center cursor-pointer",onClick:t[1]||(t[1]=e=>h.seen=!h.seen)},[m.isTablet?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("i",d)),u]),h.seen?((0,n.wg)(),(0,n.iD)("ul",p,[(0,n._)("li",null,[(0,n._)("a",{onClick:t[2]||(t[2]=(...e)=>m.onClickHomeTab&&m.onClickHomeTab(...e))},"Events")]),(0,n._)("li",null,[(0,n._)("a",{onClick:t[3]||(t[3]=(...e)=>m.onClickCategoryTab&&m.onClickCategoryTab(...e))},"Category")]),(0,n._)("li",null,[(0,n._)("a",{onClick:t[4]||(t[4]=(...e)=>m.onClickUserTab&&m.onClickUserTab(...e))},"Users")]),(0,n._)("li",null,[(0,n._)("a",{onClick:t[5]||(t[5]=(...e)=>m.onClickScannerTab&&m.onClickScannerTab(...e))},"Scanner")])])):(0,n.kq)("",!0)]),(0,n._)("li",null,[(0,n._)("a",{class:"d-flex align-items-center cursor-pointer",onClick:t[6]||(t[6]=e=>h.see=!h.see)},f),h.see?((0,n.wg)(),(0,n.iD)("ul",v,[(0,n._)("li",null,[(0,n._)("a",{onClick:t[7]||(t[7]=(...e)=>m.onClickBankTab&&m.onClickBankTab(...e))},"Bank Info")]),(0,n._)("li",null,[(0,n._)("a",{onClick:t[8]||(t[8]=(...e)=>m.onClickOrderTab&&m.onClickOrderTab(...e))},"Orders")]),(0,n._)("li",null,[(0,n._)("a",{onClick:t[9]||(t[9]=(...e)=>m.onClickAddEventTab&&m.onClickAddEventTab(...e))},"Add Event")])])):(0,n.kq)("",!0)])])])],2),(0,n._)("div",g,[(0,n._)("div",{class:"dropdown form-control p-2 w-auto",onClick:t[17]||(t[17]=(...e)=>m.toggleDropdown&&m.toggleDropdown(...e))},[(0,n._)("a",{class:(0,a.C_)(["dropdown-toggle",{active:h.isDropdownOpen}])},(0,a.zw)(h.mobileTab),3),(0,n._)("div",{class:(0,a.C_)(["dropdown-menu",{show:h.isDropdownOpen}])},[(0,n._)("a",{class:"dropdown-item",onClick:t[10]||(t[10]=(...e)=>m.onClickHomeTab&&m.onClickHomeTab(...e))},"Events"),(0,n._)("a",{class:"dropdown-item",onClick:t[11]||(t[11]=(...e)=>m.onClickCategoryTab&&m.onClickCategoryTab(...e))},"Categories"),(0,n._)("a",{class:"dropdown-item",onClick:t[12]||(t[12]=(...e)=>m.onClickUserTab&&m.onClickUserTab(...e))},"Users"),(0,n._)("a",{class:"dropdown-item",onClick:t[13]||(t[13]=(...e)=>m.onClickScannerTab&&m.onClickScannerTab(...e))},"Scanner"),(0,n._)("a",{class:"dropdown-item",onClick:t[14]||(t[14]=(...e)=>m.onClickBankTab&&m.onClickBankTab(...e))},"Bank Info"),(0,n._)("a",{class:"dropdown-item",onClick:t[15]||(t[15]=(...e)=>m.onClickOrderTab&&m.onClickOrderTab(...e))},"Orders"),(0,n._)("a",{class:"dropdown-item",onClick:t[16]||(t[16]=(...e)=>m.onClickAddEventTab&&m.onClickAddEventTab(...e))},"Add Event")],2)])]),(0,n._)("div",{class:(0,a.C_)(["page-content",{"page-shift":h.isOpen}])},[h.isOpen?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"btn btn-primary m-2 d-none d-md-block",onClick:t[18]||(t[18]=(...e)=>m.openSidebar&&m.openSidebar(...e))}," ☰ ")),h.isAccountHomeVisible?((0,n.wg)(),(0,n.j4)(b,{key:1})):(0,n.kq)("",!0),e.isCategoryVisible?((0,n.wg)(),(0,n.j4)(y,{key:2})):(0,n.kq)("",!0),h.isUsersVisible?((0,n.wg)(),(0,n.j4)(_,{key:3})):(0,n.kq)("",!0),h.isScannerVisible?((0,n.wg)(),(0,n.j4)(w,{key:4})):(0,n.kq)("",!0),h.isOrdersVisible?((0,n.wg)(),(0,n.j4)(k,{key:5})):(0,n.kq)("",!0),e.isBanksVisible?((0,n.wg)(),(0,n.j4)(C,{key:6})):(0,n.kq)("",!0),h.isAddEventVisible?((0,n.wg)(),(0,n.j4)(D,{key:7})):(0,n.kq)("",!0)],2)])}r(7658);var y=r(65),_=r(9242);const w=e=>((0,n.dD)("data-v-489998c2"),e=e(),(0,n.Cn)(),e),k={class:"container-fluid bg-light"},C={class:"section_discover"},D={class:"container-large"},T={class:"row pt-2 pb-2"},x={class:"w-50 pt-2 pb-md-0 pb-1"},S={class:"col-12 col-md-6 pt-1"},P={class:"d-flex flex-column flex-md-row align-items-center justify-content-md-end gap-2"},E={class:"modal-content"},A={class:"d-flex justify-content-between align-items-center mb-3"},$=w((()=>(0,n._)("h5",{class:"m-0 fw-bold"},"Price",-1))),O=w((()=>(0,n._)("i",{class:"bi bi-x-lg"},null,-1))),U=[O],j={class:"row"},M={class:"col"},F=w((()=>(0,n._)("label",null,"Minimum amount",-1))),q={class:"col"},z=w((()=>(0,n._)("label",null,"Maximum amount",-1))),I={class:"d-flex justify-content-between mt-4"},V={class:"modal-content"},N={class:"d-flex justify-content-between align-items-center mb-3"},R=w((()=>(0,n._)("h5",{class:"m-0 fw-bold"},"Date",-1))),L=w((()=>(0,n._)("i",{class:"bi bi-x-lg"},null,-1))),B=[L],H={class:"d-flex justify-content-center gap-3 mb-3"},W={class:"row"},Z={class:"col"},Y={class:"col"},G={class:"d-flex justify-content-between mt-4"},Q={class:""},K={class:"modal-content",style:{"max-height":"90vh","overflow-y":"auto"}},J={class:"d-flex justify-content-between align-items-center mb-3"},X=w((()=>(0,n._)("h5",{class:"m-0 fw-bold"},"Edit",-1))),ee=w((()=>(0,n._)("i",{class:"bi bi-x-lg"},null,-1))),te=[ee],re={class:"container-fluid"},ne={class:"section_discover pt-4 mb-3"},ae={class:"container-large"},ie={class:"mb-3"},oe={key:0,class:"alert alert-warning"},se={class:"row"},le=["src"],ce={class:"pt-2"},de={class:"mb-1"},ue=w((()=>(0,n._)("i",{class:"bi bi-calendar-event me-2"},null,-1))),pe={key:0},he={class:"mb-1"},me=w((()=>(0,n._)("i",{class:"bi bi-geo-alt me-2"},null,-1))),fe=["onClick"],ve=["onClick"],ge=w((()=>(0,n._)("i",{class:"bi bi-pencil-fill me-1"},null,-1))),be=["onClick"],ye=w((()=>(0,n._)("i",{class:"bi bi-trash-fill me-1"},null,-1))),_e=w((()=>(0,n._)("div",{class:"row g-4"},[(0,n._)("div",{class:"col-md-6"})],-1)));function we(e,t,r,i,o,s){const l=(0,n.up)("editProduct");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",k,[(0,n._)("div",C,[(0,n._)("div",D,[(0,n._)("div",T,[(0,n._)("div",x,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchTerm=e),type:"text",class:"form-control",placeholder:"Search events by title"},null,512),[[_.nr,o.searchTerm]])]),(0,n._)("div",S,[(0,n._)("div",P,[(0,n._)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[1]||(t[1]=e=>o.showPriceModal=!0)}," Price "),(0,n._)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[2]||(t[2]=e=>o.showDateModal=!0)}," Date "),(0,n._)("a",{href:"#",class:"text-muted text-decoration-none",onClick:t[3]||(t[3]=(0,_.iM)(((...e)=>s.resetSearch&&s.resetSearch(...e)),["prevent"]))}," Reset Filters ")])])])])])]),o.showPriceModal?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"modal",onClick:t[9]||(t[9]=(0,_.iM)((e=>o.showPriceModal=!1),["self"]))},[(0,n._)("div",E,[(0,n._)("div",A,[$,(0,n._)("button",{class:"btn-icon",onClick:t[4]||(t[4]=e=>o.showPriceModal=!1)},U)]),(0,n._)("div",j,[(0,n._)("div",M,[F,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.tempFilters.minPrice=e),type:"number",class:"form-control"},null,512),[[_.nr,o.tempFilters.minPrice,void 0,{number:!0}]])]),(0,n._)("div",q,[z,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.tempFilters.maxPrice=e),type:"number",class:"form-control"},null,512),[[_.nr,o.tempFilters.maxPrice,void 0,{number:!0}]])])]),(0,n._)("div",I,[(0,n._)("button",{class:"btn btn-outline-secondary",onClick:t[7]||(t[7]=(...e)=>s.clearPriceFilters&&s.clearPriceFilters(...e))}," Clear "),(0,n._)("button",{class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>s.applyPriceFilters&&s.applyPriceFilters(...e))},"Apply")])])])):(0,n.kq)("",!0),o.showDateModal?((0,n.wg)(),(0,n.iD)("div",{key:1,class:"modal",onClick:t[18]||(t[18]=(0,_.iM)((e=>o.showDateModal=!1),["self"]))},[(0,n._)("div",V,[(0,n._)("div",N,[R,(0,n._)("button",{class:"btn-icon",onClick:t[10]||(t[10]=e=>o.showDateModal=!1)},B)]),(0,n._)("div",H,[(0,n._)("button",{class:"btn btn-outline-dark",onClick:t[11]||(t[11]=(...e)=>s.setToday&&s.setToday(...e))},"Today"),(0,n._)("button",{class:"btn btn-outline-dark",onClick:t[12]||(t[12]=(...e)=>s.setTomorrow&&s.setTomorrow(...e))},"Tomorrow"),(0,n._)("button",{class:"btn btn-outline-dark",onClick:t[13]||(t[13]=(...e)=>s.setThisWeekend&&s.setThisWeekend(...e))}," This weekend ")]),(0,n._)("div",W,[(0,n._)("div",Z,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>o.tempFilters.startDate=e),type:"date",class:"form-control"},null,512),[[_.nr,o.tempFilters.startDate]])]),(0,n._)("div",Y,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>o.tempFilters.endDate=e),type:"date",class:"form-control"},null,512),[[_.nr,o.tempFilters.endDate]])])]),(0,n._)("div",G,[(0,n._)("button",{class:"btn btn-outline-secondary",onClick:t[16]||(t[16]=(...e)=>s.clearDateFilters&&s.clearDateFilters(...e))}," Clear "),(0,n._)("button",{class:"btn btn-primary",onClick:t[17]||(t[17]=(...e)=>s.applyDateFilters&&s.applyDateFilters(...e))},"Apply")])])])):(0,n.kq)("",!0),o.showEditModal?((0,n.wg)(),(0,n.iD)("div",{key:2,class:"modal",onClick:t[21]||(t[21]=(0,_.iM)((e=>o.showEditModal=!1),["self"]))},[(0,n._)("div",Q,[(0,n._)("div",K,[(0,n._)("div",J,[X,(0,n._)("button",{class:"btn-icon",onClick:t[19]||(t[19]=e=>o.showEditModal=!1)},te)]),o.showEditProduct?((0,n.wg)(),(0,n.j4)(l,{key:0,"product-id":o.selectedProductId,onClose:t[20]||(t[20]=e=>o.showEditModal=!1),onRefresh:s.fetchProducts},null,8,["product-id","onRefresh"])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0),(0,n._)("div",re,[(0,n._)("div",ne,[(0,n._)("div",ae,[(0,n._)("h3",ie,"Explore "+(0,a.zw)(s.filteredProducts.length)+" Events",1),0===s.filteredProducts.length?((0,n.wg)(),(0,n.iD)("div",oe," No events match your search. ")):(0,n.kq)("",!0),(0,n._)("div",se,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.filteredProducts,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col-md-4 pt-3",key:e._id},[(0,n._)("div",null,[(0,n._)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,le),(0,n._)("div",ce,[(0,n._)("h5",null,(0,a.zw)(e.title),1),(0,n._)("p",de,[ue,(0,n.Uk)(" "+(0,a.zw)(s.formatDate(e.event.start))+" ",1),e.event.end?((0,n.wg)(),(0,n.iD)("span",pe,"- "+(0,a.zw)(s.formatDate(e.event.end)),1)):(0,n.kq)("",!0)]),(0,n._)("p",he,[me,(0,n.Uk)(" "+(0,a.zw)(e.event.location.name||"No location"),1)]),(0,n._)("p",null,(0,a.zw)(0===e.event.tickets[0].price&&0===e.event.tickets[e.event.tickets.length-1].price?"Free":e.event.tickets[0].price===e.event.tickets[e.event.tickets.length-1].price?s.formatPrice(e.event.tickets[0].price):`${s.formatPrice(e.event.tickets[0].price)} - ${s.formatPrice(e.event.tickets[e.event.tickets.length-1].price)}`),1),(0,n._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>s.goToProduct(e.title)}," View Event ",8,fe),(0,n._)("button",{class:"btn btn-primary btn-sm ms-2",onClick:t=>s.goToEditProduct(e._id)},[ge,(0,n.Uk)(" Edit Ticket ")],8,ve),(0,n._)("button",{class:"btn btn-danger btn-sm ms-2",onClick:t=>s.deleteProduct(e._id)},[ye,(0,n.Uk)(" Delete ")],8,be)])])])))),128))]),_e])])])])}var ke=r(4161),Ce=r(4695),De={components:{editProduct:Ce.Z},name:"ProductList",data(){return{showEditProduct:!1,selectedProductId:null,products:[],reference:"",loading:!0,searchTerm:"",filters:{minPrice:0,maxPrice:1/0,startDate:null,endDate:null},tempFilters:{minPrice:0,maxPrice:1e5,startDate:null,endDate:null},showPriceModal:!1,showDateModal:!1,showEditModal:!1}},computed:{filteredProducts(){const e=this.searchTerm.toLowerCase();return this.products.filter((t=>{const r=t.title?.toLowerCase().includes(e),n=t.event?.location?.name?.toLowerCase().includes(e.toLowerCase()),a=t.price||0,i=(!this.filters.minPrice||a>=this.filters.minPrice)&&(!this.filters.maxPrice||a<=this.filters.maxPrice),o=new Date(t.event?.date),s=this.filters.startDate?new Date(this.filters.startDate):null,l=this.filters.endDate?new Date(this.filters.endDate):null,c=new Date(o.toDateString()),d=s?new Date(s.toDateString()):null,u=l?new Date(l.toDateString()):null,p=(!d||c>=d)&&(!u||c<=u);return(r||n)&&i&&p}))}},methods:{async fetchProducts(){try{const e=await ke.Z.get("https://event-ticket-qa70.onrender.com/api/products");this.products=e.data.products}catch(e){console.error("Error fetching products:",e)}},async deleteProduct(e){if(confirm("Are you sure you want to delete this order?")){console.log(e);try{await ke.Z["delete"](`https://event-ticket-qa70.onrender.com/api/product/${e}`),alert("Product deleted successfully"),this.fetchProducts()}catch(t){console.error("Delete failed:",t)}}},goToEditProduct(e){this.selectedProductId=e,this.showEditModal=!0,this.showEditProduct=!0,console.log("Navigating to product:",e)},goToProduct(e){const t=e.replace(/\s+/g,"-");this.$store.dispatch("setProductUrl",e),this.$router.push({name:"ProductDetails",params:{title:t}})},formatDate(e){if(!e)return"No date";const t={weekday:"short",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`₦${e}`:"Free"},resetSearch(){this.searchTerm="",this.filters={minPrice:0,maxPrice:1/0,startDate:null,endDate:null}},applyPriceFilters(){this.filters.minPrice=this.tempFilters.minPrice,this.filters.maxPrice=this.tempFilters.maxPrice,this.showPriceModal=!1},clearPriceFilters(){this.tempFilters.minPrice=0,this.tempFilters.maxPrice=1e5,this.applyPriceFilters()},applyDateFilters(){this.filters.startDate=this.tempFilters.startDate,this.filters.endDate=this.tempFilters.endDate,this.showDateModal=!1},clearDateFilters(){this.tempFilters.startDate=null,this.tempFilters.endDate=null,this.applyDateFilters()},setToday(){const e=(new Date).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setTomorrow(){const e=new Date(Date.now()+864e5).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setThisWeekend(){const e=new Date,t=e.getDay(),r=new Date(e);r.setDate(e.getDate()+(6-t));const n=new Date(r);n.setDate(r.getDate()+1),this.tempFilters.startDate=r.toISOString().split("T")[0],this.tempFilters.endDate=n.toISOString().split("T")[0]}},mounted(){this.fetchProducts()}},Te=r(89);const xe=(0,Te.Z)(De,[["render",we],["__scopeId","data-v-489998c2"]]);var Se=xe;const Pe=e=>((0,n.dD)("data-v-0f258c0f"),e=e(),(0,n.Cn)(),e),Ee={class:"card shadow-sm p-0"},Ae=Pe((()=>(0,n._)("div",{class:"text-center bg-success text-white py-2"},[(0,n._)("h5",{class:"mb-0"},"Orders")],-1))),$e={class:"p-3"},Oe={class:"table-responsive"},Ue={key:0,class:"table table-striped custom-table mb-0"},je=Pe((()=>(0,n._)("thead",{class:"text-uppercase small text-muted"},[(0,n._)("tr",null,[(0,n._)("th",null,"Order ID"),(0,n._)("th",null,"Reference"),(0,n._)("th",null,"Date"),(0,n._)("th",null,"Name of event"),(0,n._)("th",null,"Customer Email"),(0,n._)("th",null,"Phone number"),(0,n._)("th",null,"Amount"),(0,n._)("th",null,"Ticket type")])],-1))),Me={class:"tes"},Fe={key:1,class:"text-center text-muted p-3"};function qe(e,t,r,i,o,s){return(0,n.wg)(),(0,n.iD)("div",Ee,[Ae,(0,n._)("div",$e,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchQuery=e),type:"text",class:"form-control w-50",placeholder:"Search by Email or Reference"},null,512),[[_.nr,o.searchQuery]])]),(0,n._)("div",Oe,[s.filteredOrders.length?((0,n.wg)(),(0,n.iD)("table",Ue,[je,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.filteredOrders,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e._id},[(0,n._)("td",null,(0,a.zw)(e._id),1),(0,n._)("td",Me,(0,a.zw)(e.reference),1),(0,n._)("td",null,(0,a.zw)(new Date(e.createdAt).toLocaleString()),1),(0,n._)("td",null,(0,a.zw)(e.title),1),(0,n._)("td",null,(0,a.zw)(e.contact?.email||"N/A"),1),(0,n._)("td",null,(0,a.zw)(e.contact?.phone||"N/A"),1),(0,n._)("td",null,"$"+(0,a.zw)(e.price),1),(0,n._)("td",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.tickets,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e._id},(0,a.zw)(e.name)+" x "+(0,a.zw)(e.quantity),1)))),128))])])))),128))])])):((0,n.wg)(),(0,n.iD)("div",Fe,"No matching orders found."))])])}var ze={name:"Orders",data(){return{orders:[],selectedStatus:"",searchQuery:"",loading:!0,error:null}},computed:{filteredOrders(){return this.orders.filter((e=>{const t=!this.selectedStatus||e.status===this.selectedStatus,r=this.searchQuery.trim().toLowerCase(),n=e.reference?.toLowerCase().includes(r),a=e.contact?.email?.toLowerCase().includes(r),i=!r||n||a;return t&&i}))}},mounted(){this.fetchOrders()},methods:{async fetchOrders(){try{const e=await ke.Z.get("https://event-ticket-qa70.onrender.com/api/all-orders");this.orders=e.data.orders}catch(e){this.error="Failed to fetch orders",console.error(e)}finally{this.loading=!1}}}};const Ie=(0,Te.Z)(ze,[["render",qe],["__scopeId","data-v-0f258c0f"]]);var Ve=Ie,Ne=r(274);const Re=e=>((0,n.dD)("data-v-1de25c58"),e=e(),(0,n.Cn)(),e),Le={class:"card shadow-sm p-0 mt-4"},Be=Re((()=>(0,n._)("div",{class:"text-center bg-success text-white py-2"},[(0,n._)("h5",{class:"mb-0"},"Banks")],-1))),He={class:"p-3"},We={class:"table-responsive"},Ze={key:0,class:"table table-striped custom-table mb-0"},Ye=Re((()=>(0,n._)("thead",{class:"text-uppercase small text-muted"},[(0,n._)("tr",null,[(0,n._)("th",null,"Bank Account Name"),(0,n._)("th",null,"Account Number"),(0,n._)("th",null,"Bank Name"),(0,n._)("th",null,"User")])],-1))),Ge={key:1,class:"text-center text-muted p-3"};function Qe(e,t,r,i,o,s){return(0,n.wg)(),(0,n.iD)("div",Le,[Be,(0,n._)("div",He,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchQuery=e),type:"text",class:"form-control w-50",placeholder:"Search by Account Name, Account Number or Bank Name"},null,512),[[_.nr,o.searchQuery]])]),(0,n._)("div",We,[s.filteredBanks.length?((0,n.wg)(),(0,n.iD)("table",Ze,[Ye,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.filteredBanks,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e._id},[(0,n._)("td",null,(0,a.zw)(e.accountName),1),(0,n._)("td",null,(0,a.zw)(e.accountNumber),1),(0,n._)("td",null,(0,a.zw)(e.bankName),1),(0,n._)("td",null,(0,a.zw)(e.user),1)])))),128))])])):((0,n.wg)(),(0,n.iD)("div",Ge,"No matching banks found."))])])}var Ke={name:"BankManager",data(){return{banks:[],searchQuery:""}},computed:{...(0,y.Se)(["getToken"]),filteredBanks(){const e=this.searchQuery.trim().toLowerCase();return e?this.banks.filter((t=>t.accountName?.toLowerCase().includes(e)||t.accountNumber?.toLowerCase().includes(e)||t.bankName?.toLowerCase().includes(e)||t.user?.toLowerCase().includes(e))):this.banks}},mounted(){this.fetchBanks()},methods:{async fetchBanks(){try{const e=await ke.Z.get("https://event-ticket-qa70.onrender.com/api/all-banks");this.banks=e.data.banks}catch(e){console.error("Error fetching banks:",e)}}}};const Je=(0,Te.Z)(Ke,[["render",Qe],["__scopeId","data-v-1de25c58"]]);var Xe=Je;const et={class:"card shadow-sm"},tt=(0,n._)("div",{class:"text-center bg-success p-2 text-white"},[(0,n._)("h5",{class:"mb-0"},"users")],-1),rt={class:"p-2"},nt={class:"card-body p-0"},at={class:"table table-striped mb-0"},it=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"id"),(0,n._)("th",null,"Name"),(0,n._)("th",null,"Email")])],-1);function ot(e,t,r,i,o,s){return(0,n.wg)(),(0,n.iD)("div",et,[tt,(0,n._)("div",rt,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchQuery=e),type:"text",placeholder:"Search by name or email",class:"form-control w-50"},null,512),[[_.nr,o.searchQuery]])]),(0,n._)("div",nt,[(0,n._)("table",at,[it,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.filteredUsers,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e._id},[(0,n._)("td",null,(0,a.zw)(e._id),1),(0,n._)("td",null,(0,a.zw)(e.name),1),(0,n._)("td",null,(0,a.zw)(e.email),1)])))),128))])])])])}var st={data(){return{users:[],searchQuery:""}},mounted(){this.fetchUsers()},methods:{async fetchUsers(){try{const e=await ke.Z.get("https://event-ticket-qa70.onrender.com/api/users");this.users=e.data.users,console.log(this.users)}catch(e){console.error("Error fetching users:",e)}}},computed:{filteredUsers(){if(!this.searchQuery)return this.users;const e=this.searchQuery.toLowerCase();return this.users.filter((t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)))}}};const lt=(0,Te.Z)(st,[["render",ot]]);var ct=lt;const dt=e=>((0,n.dD)("data-v-1efc32ae"),e=e(),(0,n.Cn)(),e),ut={class:""},pt={class:"stepper pt-2 mx-auto"},ht={class:"circle"},mt={key:0},ft={key:1},vt={class:"label"},gt={class:"progress-line"},bt={class:"row justify-content-center"},yt={class:"col-12"},_t={key:0,class:""},wt={class:"row"},kt={class:"mb-3 col-md-7"},Ct=dt((()=>(0,n._)("label",{for:"title",class:"form-label"},"What is your event name:",-1))),Dt={key:0,class:"invalid-feedback"},Tt={class:"mb-3 col-md-5"},xt=dt((()=>(0,n._)("label",{for:"title",class:"form-label"},"Tag:",-1))),St={class:"row mb-3"},Pt={class:"col-md-7"},Et=dt((()=>(0,n._)("label",{class:"form-label"},"Event Category",-1))),At=dt((()=>(0,n._)("option",{value:"",disabled:""},"Select a category",-1))),$t=["value"],Ot={class:"col-md-5 d-none"},Ut=dt((()=>(0,n._)("label",{for:"Price",class:"form-label mb-3"},"Price:",-1))),jt=dt((()=>(0,n._)("small",null,"Leave blank for a free event",-1))),Mt={class:"mb-3"},Ft=dt((()=>(0,n._)("label",{class:"form-label"},"What's your event about:",-1))),qt={key:1},zt={class:"mt-4 text-start"},It=dt((()=>(0,n._)("h4",null,[(0,n._)("strong",null,"When is your event?")],-1))),Vt=dt((()=>(0,n._)("p",{class:"text-muted"},"Select all the dates of your event",-1))),Nt={class:"row mb-3"},Rt={class:"col-md-6"},Lt={class:"mb-3"},Bt=dt((()=>(0,n._)("label",{for:"address",class:"form-label"},"Enter Address:",-1))),Ht={class:"col-md-6"},Wt=dt((()=>(0,n._)("label",{class:"form-label"},"* Select time zone",-1))),Zt=dt((()=>(0,n._)("option",{value:""},"Select Time Zone",-1))),Yt=dt((()=>(0,n._)("option",{value:"UTC+01:00"},"(UTC+01:00) West Central Africa",-1))),Gt=dt((()=>(0,n._)("option",{value:"UTC+00:00"},"(UTC+00:00) GMT",-1))),Qt=dt((()=>(0,n._)("option",{value:"UTC-05:00"}," (UTC-05:00) Eastern Time (US & Canada) ",-1))),Kt=[Zt,Yt,Gt,Qt],Jt={class:"btn-group mb-3",role:"group"},Xt={class:"row"},er={class:"col-md-6 mb-3"},tr=dt((()=>(0,n._)("label",{class:"form-label"},"* Start date",-1))),rr={key:0,class:"col-md-6 mb-3"},nr=dt((()=>(0,n._)("label",{class:"form-label"},"* End date",-1))),ar={class:"row"},ir={class:"col-md-6 mb-3"},or=dt((()=>(0,n._)("label",{class:"form-label"},"Start time",-1))),sr={class:"d-flex justify-content-between"},lr={class:"mt-2"},cr=dt((()=>(0,n._)("option",null,"AM",-1))),dr=dt((()=>(0,n._)("option",null,"PM",-1))),ur=[cr,dr],pr={class:"col-md-6 mb-3"},hr=dt((()=>(0,n._)("label",{class:"form-label"},"End time",-1))),mr={class:"d-flex justify-content-between"},fr={class:"mt-2"},vr=dt((()=>(0,n._)("option",null,"AM",-1))),gr=dt((()=>(0,n._)("option",null,"PM",-1))),br=[vr,gr],yr={key:0,class:"col-md-4 mb-3"},_r=dt((()=>(0,n._)("label",{class:"form-label"},"* Event frequency",-1))),wr=dt((()=>(0,n._)("option",null,"Every day",-1))),kr=dt((()=>(0,n._)("option",null,"Weekdays",-1))),Cr=dt((()=>(0,n._)("option",null,"Weekends",-1))),Dr=dt((()=>(0,n._)("option",null,"Every week",-1))),Tr=[wr,kr,Cr,Dr],xr={key:2},Sr={class:"container py-5 text-start"},Pr={class:"row"},Er={class:"col-md-6"},Ar=dt((()=>(0,n._)("h5",null,[(0,n._)("strong",null,"Event Image")],-1))),$r=dt((()=>(0,n._)("p",{class:"text-muted"},"Upload a JPEG or PNG file",-1))),Or=dt((()=>(0,n._)("div",{class:"alert alert-light border text-muted py-2 small d-flex align-items-start"},[(0,n._)("i",{class:"bi bi-info-circle-fill me-2 text-danger"}),(0,n.Uk)(" Images with a 1:1 ratio (a square) work best on all event themes ")],-1))),Ur={for:"imageUpload",class:"border rounded bg-light d-flex flex-column justify-content-center align-items-center text-center py-5 mb-2",style:{cursor:"pointer"}},jr=dt((()=>(0,n._)("i",{class:"bi bi-image fs-1 mb-2"},null,-1))),Mr=dt((()=>(0,n._)("span",null,[(0,n.Uk)(" Drag an image here or "),(0,n._)("span",{class:"text-danger fw-bold"},"click to upload")],-1))),Fr={key:0},qr={key:0,class:"text-center mt-3"},zr=["src"],Ir=dt((()=>(0,n._)("p",{class:"text-muted small"}," Upload an image with a size less than 2mb ",-1))),Vr=(0,n.uE)('<div class="col-md-6" data-v-1efc32ae><div class="d-flex justify-content-between align-items-center" data-v-1efc32ae><div data-v-1efc32ae><h5 data-v-1efc32ae><strong data-v-1efc32ae>Event Page Theme</strong></h5><p class="text-muted small mb-2" data-v-1efc32ae> Select the layout for your event page - it will only take 2 minutes </p></div><a href="#" class="text-decoration-none text-muted small" data-v-1efc32ae><i class="bi bi-play-circle" data-v-1efc32ae></i> Preview theme </a></div><div class="border rounded bg-light p-3 d-flex align-items-center" style="cursor:pointer;" data-v-1efc32ae><i class="bi bi-layout-text-window-reverse fs-3 text-secondary me-3" data-v-1efc32ae></i><div data-v-1efc32ae><div class="small text-muted" data-v-1efc32ae>Theme</div><div class="fw-bold" data-v-1efc32ae>Choose theme</div></div></div></div>',1),Nr={key:3},Rr={class:"my-4 text-start"},Lr=dt((()=>(0,n._)("h5",null,[(0,n._)("strong",null,"Create your ticket types")],-1))),Br={class:"col-md-3"},Hr=dt((()=>(0,n._)("label",{class:"form-label"},"Ticket name",-1))),Wr=["onUpdate:modelValue"],Zr={class:"col-md-2"},Yr=dt((()=>(0,n._)("label",{class:"form-label"},"Quantity",-1))),Gr=["onUpdate:modelValue"],Qr={class:"col-md-3"},Kr=dt((()=>(0,n._)("label",{class:"form-label"},"Price",-1))),Jr=["onUpdate:modelValue"],Xr={class:"col-md-2 d-flex align-items-end"},en=["onClick"],tn=dt((()=>(0,n._)("i",{class:"bi bi-trash"},null,-1))),rn=[tn],nn={class:"d-flex gap-3"},an={class:"text-center mt-4 d-flex justify-content-between"},on=["disabled"],sn={key:1,type:"submit",class:"btn btn-primary btn-primary:hover"};function ln(e,t,r,i,o,s){const l=(0,n.up)("spinner");return(0,n.wg)(),(0,n.iD)("div",ut,[(0,n._)("div",pt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.steps,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:(0,a.C_)(["step",{active:o.currentStep===t,completed:t<o.currentStep}])},[(0,n._)("div",ht,[t<o.currentStep?((0,n.wg)(),(0,n.iD)("span",mt,"✔")):((0,n.wg)(),(0,n.iD)("span",ft,(0,a.zw)(t+1),1))]),(0,n._)("div",vt,(0,a.zw)(e),1)],2)))),128)),(0,n._)("div",gt,[(0,n._)("div",{class:"progress-fill",style:(0,a.j5)({width:o.currentStep/(o.steps.length-1)*100+"%"})},null,4)])]),(0,n._)("div",bt,[(0,n._)("div",yt,[(0,n._)("form",{onSubmit:t[20]||(t[20]=(0,_.iM)(((...e)=>s.submitProduct&&s.submitProduct(...e)),["prevent"])),enctype:"multipart/form-data",class:"shadow p-4 w-md-75 mx-auto w-100"},[0===o.currentStep?((0,n.wg)(),(0,n.iD)("div",_t,[(0,n._)("div",wt,[(0,n._)("div",kt,[Ct,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.product.title=e),placeholder:"Tech Summit, Afro summit",type:"text",id:"title",class:(0,a.C_)([{"is-invalid":o.product.title&&!s.isValidTitle()},"form-control"])},null,2),[[_.nr,o.product.title]]),o.product.title&&!s.isValidTitle()?((0,n.wg)(),(0,n.iD)("div",Dt," Title must be at least two words. ")):(0,n.kq)("",!0)]),(0,n._)("div",Tt,[(0,n._)("div",null,[(0,n._)("div",null,[xt,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.product.tag=e),type:"text",placeholder:"Tags (comma-separated)",id:"title",class:"form-control"},null,512),[[_.nr,o.product.tag]])])])])]),(0,n._)("div",St,[(0,n._)("div",Pt,[Et,(0,n._)("div",null,[o.categories.length>0?(0,n.wy)(((0,n.wg)(),(0,n.iD)("select",{key:0,class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>o.categoryID=e)},[At,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.categories,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e._id,value:e._id},(0,a.zw)(e.type),9,$t)))),128))],512)),[[_.bM,o.categoryID]]):(0,n.kq)("",!0)])]),(0,n._)("div",Ot,[Ut,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.product.price=e),type:"text",placeholder:"price",id:"price",class:"form-control"},null,512),[[_.nr,o.product.price]]),jt])]),(0,n._)("div",Mt,[Ft,(0,n._)("div",null,[(0,n.wy)((0,n._)("textarea",{class:"w-100 h-50","onUpdate:modelValue":t[4]||(t[4]=e=>o.product.description=e)},null,512),[[_.nr,o.product.description]])])])])):(0,n.kq)("",!0),1===o.currentStep?((0,n.wg)(),(0,n.iD)("div",qt,[(0,n._)("div",zt,[It,Vt,(0,n._)("div",Nt,[(0,n._)("div",Rt,[(0,n._)("div",Lt,[Bt,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.address=e),type:"text",class:"form-control",id:"address",placeholder:"e.g. 1600 Amphitheatre Parkway, CA",required:""},null,512),[[_.nr,o.address]])])]),(0,n._)("div",Ht,[Wt,(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":t[6]||(t[6]=e=>o.product.event.timezone=e)},Kt,512),[[_.bM,o.product.event.timezone]])])]),(0,n._)("div",Jt,[(0,n._)("button",{type:"button",class:(0,a.C_)(["btn","single"===o.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[7]||(t[7]=e=>o.eventType="single")}," Single Event ",2),(0,n._)("button",{type:"button",class:(0,a.C_)(["btn","recurring"===o.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[8]||(t[8]=e=>o.eventType="recurring")}," Recurring Event ",2)]),(0,n._)("div",Xt,[(0,n._)("div",er,[tr,(0,n.wy)((0,n._)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>o.product.event.startDate=e)},null,512),[[_.nr,o.product.event.startDate]])]),"recurring"===o.eventType?((0,n.wg)(),(0,n.iD)("div",rr,[nr,(0,n.wy)((0,n._)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>o.product.event.endDate=e)},null,512),[[_.nr,o.product.event.endDate]])])):(0,n.kq)("",!0)]),(0,n._)("div",ar,[(0,n._)("div",ir,[or,(0,n._)("div",sr,[(0,n._)("div",lr,[(0,n.wy)((0,n._)("input",{type:"time",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=e=>o.product.event.startTime=e)},null,512),[[_.nr,o.product.event.startTime]])]),(0,n.wy)((0,n._)("select",{class:"form-select w-md-50","onUpdate:modelValue":t[12]||(t[12]=e=>o.startAmPm=e)},ur,512),[[_.bM,o.startAmPm]])])]),(0,n._)("div",pr,[hr,(0,n._)("div",mr,[(0,n._)("div",fr,[(0,n.wy)((0,n._)("input",{type:"time",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=e=>o.product.event.endTime=e)},null,512),[[_.nr,o.product.event.endTime]])]),(0,n.wy)((0,n._)("select",{class:"form-select w-md-50","onUpdate:modelValue":t[14]||(t[14]=e=>o.endAmPm=e)},br,512),[[_.bM,o.endAmPm]])])]),"recurring"===o.eventType?((0,n.wg)(),(0,n.iD)("div",yr,[_r,(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":t[15]||(t[15]=e=>o.eventFrequency=e)},Tr,512),[[_.bM,o.eventFrequency]])])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0),2===o.currentStep?((0,n.wg)(),(0,n.iD)("div",xr,[(0,n._)("div",Sr,[(0,n._)("div",Pr,[(0,n._)("div",Er,[Ar,$r,Or,(0,n._)("div",null,[(0,n._)("label",Ur,[jr,Mr,(0,n._)("input",{type:"file",multiple:"",onChange:t[16]||(t[16]=(...e)=>s.handleFiles&&s.handleFiles(...e)),accept:"image/*",id:"imageUpload",class:"d-none"},null,32),o.photos.length?((0,n.wg)(),(0,n.iD)("p",Fr,"Selected: "+(0,a.zw)(o.photos.length)+" image(s)",1)):(0,n.kq)("",!0)]),o.previewUrl?((0,n.wg)(),(0,n.iD)("div",qr,[(0,n._)("img",{src:o.previewUrl,alt:"Preview",class:"img-fluid rounded shadow",style:{"max-height":"250px"}},null,8,zr)])):(0,n.kq)("",!0)]),Ir]),Vr])])])):(0,n.kq)("",!0),3===o.currentStep?((0,n.wg)(),(0,n.iD)("div",Nr,[(0,n._)("div",Rr,[Lr,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.tickets,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"row g-3 align-items-end mb-2"},[(0,n._)("div",Br,[Hr,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.name=t,type:"text",class:"form-control",placeholder:"e.g. General Admission"},null,8,Wr),[[_.nr,e.name]])]),(0,n._)("div",Zr,[Yr,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.quantity=t,type:"number",class:"form-control"},null,8,Gr),[[_.nr,e.quantity,void 0,{number:!0}]])]),(0,n._)("div",Qr,[Kr,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.price=t,type:"number",class:"form-control",placeholder:"Blank for free event"},null,8,Jr),[[_.nr,e.price,void 0,{number:!0}]])]),(0,n._)("div",Xr,[(0,n._)("button",{class:"btn btn-outline-danger w-25",title:"Delete",onClick:e=>s.removeTicket(t)},rn,8,en)])])))),128)),(0,n._)("div",nn,[(0,n._)("button",{class:"btn btn-primary btn-primary:hover",type:"button",onClick:t[17]||(t[17]=e=>s.addTicket("Paid"))}," + ticket ")])])])):(0,n.kq)("",!0),(0,n._)("div",an,[(0,n._)("button",{type:"button",class:"btn btn-danger",onClick:t[18]||(t[18]=(...e)=>s.prevStep&&s.prevStep(...e)),disabled:0===o.currentStep}," Back ",8,on),o.currentStep<o.steps.length-1?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-primary:hover",onClick:t[19]||(t[19]=(...e)=>s.nextStep&&s.nextStep(...e))}," Next ")):((0,n.wg)(),(0,n.iD)("button",sn," Create Event "))])],32)])]),o.spinner?((0,n.wg)(),(0,n.j4)(l,{key:0})):(0,n.kq)("",!0)])}var cn=r(6149),dn=r(497),un={components:{QuillEditor:cn.Bn,spinner:dn.Z},data(){return{currentStep:0,steps:["Basic Info","Event Details","Media Upload","Tickets"],categories:[],spinner:!1,categoryID:"",product:{title:"",description:"",tag:"",price:"",event:{startDate:"",endDate:"",startTime:"",endTime:"",timezone:"UTC",location:""}},address:"",coordinates:null,startAmPm:"AM",endAmPm:"PM",eventType:"single",eventFrequency:"",photos:[],previewUrl:null,tickets:[{name:"",price:null,quantity:null}]}},computed:{...(0,y.Se)(["getToken"])},async created(){try{const e=await ke.Z.get("https://event-ticket-qa70.onrender.com/api/categories");this.categories=e.data.categories||e.data,console.log("Categories fetched:",this.categories)}catch(e){console.error("Failed to fetch categories:",e)}},methods:{isValidTitle(){return this.product.title.trim().split(/\s+/).length>=2},nextStep(){this.currentStep<this.steps.length-1&&this.currentStep++},prevStep(){this.currentStep>0&&this.currentStep--},handleFiles(e){const t=Array.from(e.target.files);if(this.photos=t,t.length>0){const e=new FileReader;e.onload=e=>{this.previewUrl=e.target.result},e.readAsDataURL(t[0])}},addTicket(e){this.tickets.push({name:"",quantity:null,price:null})},removeTicket(e){this.tickets.splice(e,1)},duplicateTicket(e){const t=this.tickets[e];this.tickets.splice(e+1,0,{...t})},async submitProduct(){this.spinner=!0;const e=new FormData;e.append("categoryID",this.categoryID),e.append("title",this.product.title),e.append("description",this.product.description),e.append("tag",this.product.tag),e.append("price",this.product.price),e.append("eventDate",new Date(this.product.event.startDate).toISOString()),this.product.event.endDate&&e.append("endDate",new Date(this.product.event.endDate).toISOString()),e.append("startTime",this.product.event.startTime+" "+this.startAmPm),e.append("endTime",this.product.event.endTime+" "+this.endAmPm),e.append("timezone",this.product.event.timezone),e.append("locationName",this.address),"recurring"===this.eventType&&e.append("eventFrequency",this.eventFrequency),e.append("tickets",JSON.stringify(this.tickets)),console.log(this.tickets),this.photos.forEach((t=>{e.append("photos",t)}));for(let[r,n]of e.entries())console.log(`${r}:`,n);try{const t=await ke.Z.post("https://event-ticket-qa70.onrender.com/api/products",e,{headers:{Authorization:`Bearer ${this.getToken}`,"Content-Type":"multipart/form-data"}});console.log("Product created:",t.data),alert("Event created successfully!")}catch(t){if(!t.response||401!==t.response.status)throw t;localStorage.removeItem("token"),router.push("/login")}this.spinner=!1}}};const pn=(0,Te.Z)(un,[["render",ln],["__scopeId","data-v-1efc32ae"]]);var hn=pn;const mn=e=>((0,n.dD)("data-v-ae555db2"),e=e(),(0,n.Cn)(),e),fn={class:"container py-4"},vn={class:"card p-4 shadow-sm mb-4"},gn=mn((()=>(0,n._)("h4",{class:"mb-3"},"Create Category",-1))),bn={class:"mb-3"},yn={class:"mb-3"},_n=mn((()=>(0,n._)("button",{type:"submit",class:"btn btn-success"},"Create Category",-1))),wn={key:0,class:"card p-4 shadow-sm mb-4"},kn=mn((()=>(0,n._)("h4",{class:"mb-3"},"Edit Category",-1))),Cn={class:"mb-3"},Dn={class:"mb-3"},Tn=mn((()=>(0,n._)("button",{type:"submit",class:"btn btn-primary"},"Update",-1))),xn={class:"mb-4"},Sn=mn((()=>(0,n._)("h2",{class:"mb-3"},"All Categories",-1))),Pn={key:0,class:"row g-3"},En={class:"card h-100 shadow-sm"},An={class:"card-body text-center"},$n={class:"fw-bold"},On=["src"],Un={class:"d-flex justify-content-center gap-2 mt-2"},jn=["onClick"],Mn=["onClick"],Fn={key:1,class:"alert alert-info"};function qn(e,t,r,i,o,s){const l=(0,n.up)("spinner");return(0,n.wg)(),(0,n.iD)("div",fn,[(0,n._)("div",vn,[gn,(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,_.iM)(((...e)=>s.createCategory&&s.createCategory(...e)),["prevent"])),enctype:"multipart/form-data"},[(0,n._)("div",bn,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.newCategory.type=e),placeholder:"Category Type",required:"",class:"form-control"},null,512),[[_.nr,o.newCategory.type]])]),(0,n._)("div",yn,[(0,n._)("input",{type:"file",onChange:t[1]||(t[1]=(...e)=>s.handleFileChange&&s.handleFileChange(...e)),class:"form-control"},null,32)]),_n],32)]),o.editingCategory?((0,n.wg)(),(0,n.iD)("div",wn,[kn,(0,n._)("form",{onSubmit:t[6]||(t[6]=(0,_.iM)(((...e)=>s.updateCategory&&s.updateCategory(...e)),["prevent"])),enctype:"multipart/form-data"},[(0,n._)("div",Cn,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.editingCategory.type=e),placeholder:"Category Type",class:"form-control"},null,512),[[_.nr,o.editingCategory.type]])]),(0,n._)("div",Dn,[(0,n._)("input",{type:"file",onChange:t[4]||(t[4]=(...e)=>s.handleEditFileChange&&s.handleEditFileChange(...e)),class:"form-control"},null,32)]),Tn,(0,n._)("button",{type:"button",onClick:t[5]||(t[5]=e=>o.editingCategory=null),class:"btn btn-secondary ms-2"}," Cancel ")],32)])):(0,n.kq)("",!0),(0,n._)("div",xn,[Sn,o.categories.length?((0,n.wg)(),(0,n.iD)("div",Pn,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.categories,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e._id,class:"col-md-4"},[(0,n._)("div",En,[(0,n._)("div",An,[(0,n._)("p",$n,(0,a.zw)(e.type),1),e.photo?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.photo,class:"img-fluid rounded mb-2",style:{"max-height":"150px","object-fit":"cover"}},null,8,On)):(0,n.kq)("",!0),(0,n._)("div",Un,[(0,n._)("button",{onClick:t=>s.editCategory(e),class:"btn btn-outline-warning btn-sm"}," Edit ",8,jn),(0,n._)("button",{onClick:t=>s.deleteCategory(e._id),class:"btn btn-outline-danger btn-sm"}," Delete ",8,Mn)])])])])))),128))])):((0,n.wg)(),(0,n.iD)("div",Fn,"No categories found."))]),o.spinner?((0,n.wg)(),(0,n.j4)(l,{key:1,class:"mt-3"})):(0,n.kq)("",!0)])}var zn={components:{spinner:dn.Z},data(){return{baseUrl:"https://event-ticket-qa70.onrender.com/api",categories:[],newCategory:{type:"",photo:null},editingCategory:null,spinner:!1,selectedFile:null,editingFile:null,singleCategory:null}},mounted(){this.fetchCategories()},methods:{async fetchCategories(){const e=await ke.Z.get(`${this.baseUrl}/categories`);this.categories=e.data.categories},handleFileChange(e){this.selectedFile=e.target.files[0]},async createCategory(){this.spinner=!0;const e=new FormData;e.append("type",this.newCategory.type),this.selectedFile&&e.append("photo",this.selectedFile),await ke.Z.post(`${this.baseUrl}/categories`,e,{headers:{"Content-Type":"multipart/form-data"}}),this.newCategory={type:"",photo:null},this.selectedFile=null,this.spinner=!1,this.fetchCategories()},editCategory(e){this.editingCategory={...e},this.editingFile=null},handleEditFileChange(e){this.editingFile=e.target.files[0]},async updateCategory(){this.spinner=!0;const e=new FormData;e.append("type",this.editingCategory.type),this.editingFile&&e.append("photo",this.editingFile),await ke.Z.put(`${this.baseUrl}/categories/${this.editingCategory._id}`,e,{headers:{"Content-Type":"multipart/form-data"}}),this.editingCategory=null,this.editingFile=null,this.spinner=!1,this.fetchCategories()},async deleteCategory(e){await ke.Z["delete"](`${this.baseUrl}/categories/${e}`),alert("category deleted"),this.fetchCategories()},async getCategory(e){const t=await ke.Z.get(`${this.baseUrl}/categories/${e}`);this.singleCategory=t.data.category}}};const In=(0,Te.Z)(zn,[["render",qn],["__scopeId","data-v-ae555db2"]]);var Vn=In,Nn={components:{Events:Se,Orders:Ve,addEvent:hn,Banks:Xe,Category:Vn,Scanner:Ne.Z,Users:ct},data(){return{isSectionVisible:!1,mobileTab:"events",seen:!0,see:!0,isOpen:!1,se:!0,sidenavWidth:250,isDropdownOpen:!1,isOpen:!1,isAccountHomeVisible:!0,isAccountHomVisible:!0,isUsersVisible:!0,isScannerVisible:!0,isCalenderVisible:!1,isOrdersVisible:!1,isOrderVisible:!1,isAddEventVisible:!1,isEmailComposeVisible:!1}},watch:{"$route.query.activeTab"(e,t){this.$router.push({query:{activeTab:e}}).catch((e=>{})),this.initialize()}},computed:{...(0,y.Se)(["isAdmin"]),isTablet(){return window.innerWidth>=768&&window.innerWidth<1024}},methods:{openSidebar(){this.isOpen=!0},closeSidebar(){this.isOpen=!1},Resize(){this.sidenavWidth=0,this.isNavOpen=!1},toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen},toggleNav(){this.isNavOpen=!this.isNavOpen,this.sidenavWidth=this.isNavOpen?250:0},closeNav(){this.isNavOpen=!1,this.sidenavWidth=0},toggleSection(){this.isSectionVisible=!this.isSectionVisible},...(0,y.nv)(["getUser","getTokenFromStorage"]),hideAll(){this.isAccountHomeVisible=!1,this.isUsersVisible=!1,this.isScannerVisible=!1,this.isOrdersVisible=!1,this.isAddEventVisible=!1,this.isAccountHomVisible=!1,this.isBanksVisible=!1,this.isCategoryVisible=!1},onClickHomeTab(){this.hideAll(),this.isAccountHomeVisible=!0,this.mobileTab="events",this.$router.push({query:{activeTab:"events"}}).catch((e=>{}))},onClickOrderTab(){this.hideAll(),this.isOrdersVisible=!0,this.mobileTab="orders",this.$router.push({query:{activeTab:"orders"}}).catch((e=>{}))},onClickAddEventTab(){this.hideAll(),this.isAddEventVisible=!0,this.mobileTab="add-event",this.$router.push({query:{activeTab:"add-event"}}).catch((e=>{}))},onClickUserTab(){this.hideAll(),this.isUsersVisible=!0,this.mobileTab="users",this.$router.push({query:{activeTab:"users"}}).catch((e=>{}))},onClickScannerTab(){this.hideAll(),this.isScannerVisible=!0,this.mobileTab="scanner",this.$router.push({query:{activeTab:"scanner"}}).catch((e=>{}))},onClickBankTab(){this.hideAll(),this.isBanksVisible=!0,this.mobileTab="bank",this.$router.push({query:{activeTab:"bank"}}).catch((e=>{}))},onClickCategoryTab(){this.hideAll(),this.isCategoryVisible=!0,this.mobileTab="categories",this.$router.push({query:{activeTab:"categories"}}).catch((e=>{}))},onClickTab(){"event"==this.mobileTab?this.onClickHomeTab():"categories"==this.mobileTab?this.onClickCategoryTab():"users"==this.mobileTab?this.onClickUserTab():"scanner"==this.mobileTab?this.onClickScannerTab():"profile"==this.mobileTab?this.onClickProfileTab():"email"==this.mobileTab?this.onClickEmailComposeTab():"bank"==this.mobileTab?this.onClickBankTab():"orders"===this.mobileTab?this.onClickOrderTab():"Add Product"===this.mobileTab&&this.onClickAddEventTab()},initialize(){this.$route.query?"event"==this.$route.query.activeTab?this.onClickHomeTab():"categories"==this.$route.query.activeTab?this.onClickCategoryTab():"users"==this.$route.query.activeTab?this.onClickUserTab():"scanner"==this.$route.query.activeTab?this.onClickScannerTab():"categories"==this.$route.query.activeTab&&this.onClickCategoryTab():"bank"==this.$route.query.activeTab?this.onClickBankTab():"orders"==this.$route.query.activeTab?this.onClickOrderTab():"add-event"==this.$route.query.activeTab?this.onClickAddEventTab():this.onClickHomeTab()}},mounted(){this.initialize(),window.addEventListener("resize",this.Resize)},beforeUnmount(){window.removeEventListener("resize",this.Resize)}};const Rn=(0,Te.Z)(Nn,[["render",b],["__scopeId","data-v-135d4b22"]]);var Ln=Rn},6711:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return O}});var n=r(3396),a=r(7139),i=r(9242);const o={class:"container text-start"},s={class:"navbar navbar-expand-md navbar-light bg-white"},l={class:"container-fluid p-0"},c={class:"navbar-brand text-uppercase fw-800",href:"#"},d=(0,n._)("span",{class:"border-red pe-2"},"Products",-1),u=(0,n._)("span",{class:"fas fa-bars"},null,-1),p=[u],h={class:"d-md-none"},m=(0,n._)("div",{class:"modal-content text-start"},null,-1),f=[m],v={class:"row"},g={key:0,class:""},b={class:"row"},y=["src"],_={class:"pt-2"},w={class:"mb-1"},k=(0,n._)("i",{class:"bi bi-calendar-event me-2"},null,-1),C={class:"mb-1"},D=(0,n._)("i",{class:"bi bi-geo-alt me-2"},null,-1),T=["onClick"],x={key:1};function S(e,t,r,u,m,S){return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("nav",s,[(0,n._)("div",l,[(0,n._)("a",c,[d,(0,n.Uk)(" "+(0,a.zw)(m.products.length)+" found ",1)]),(0,n._)("button",{class:"navbar-toggler d-md-none",onClick:t[0]||(t[0]=(...t)=>e.openModal&&e.openModal(...t)),type:"button","data-bs-toggle":"collapse","data-bs-target":"#myNav","aria-controls":"myNav","aria-expanded":"false","aria-label":"Toggle navigation"},p)])]),(0,n._)("div",h,[m.isModalOpen?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"modal",onClick:t[1]||(t[1]=(0,i.iM)(((...t)=>e.closeModal&&e.closeModal(...t)),["self"]))},f)):(0,n.kq)("",!0)]),(0,n._)("div",v,[m.products.length>0?((0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("div",b,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(m.products,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col-md-4 pt-3 pt-md-0",key:e._id},[(0,n._)("div",null,[(0,n._)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,y),(0,n._)("div",_,[(0,n._)("div",null,[(0,n._)("h5",null,(0,a.zw)(e.title),1),(0,n._)("p",w,[k,(0,n.Uk)(" "+(0,a.zw)(S.formatDate(e.event.date)),1)]),(0,n._)("p",C,[D,(0,n.Uk)(" "+(0,a.zw)(e.event.location||"No location"),1)]),(0,n._)("p",null,(0,a.zw)(0===e.event.tickets[0].price&&0===e.event.tickets[e.event.tickets.length-1].price?"Free":e.event.tickets[0].price===e.event.tickets[e.event.tickets.length-1].price?S.formatPrice(e.event.tickets[0].price):`${S.formatPrice(e.event.tickets[0].price)} - ${S.formatPrice(e.event.tickets[e.event.tickets.length-1].price)}`),1)]),(0,n._)("button",{class:"btn btn-outline-primary",onClick:t=>S.goToProduct(e.title)}," View Event ",8,T)])])])))),128))])])):((0,n.wg)(),(0,n.iD)("p",x,"No products found in this category."))])])}var P=r(4161),E={data(){return{minPrice:0,maxPrice:1e3,selectedMinPrice:0,selectedMaxPrice:1e3,isModalOpen:!1,products:[],searchQuery:""}},computed:{},async created(){const e=this.$route.params.categoryType,t=e.replace(/-/g," "),r=t.replace(/\b\w/g,(e=>e.toUpperCase())),n=await P.Z.get(`https://event-ticket-qa70.onrender.com/api/categories/${encodeURIComponent(r)}`);console.log("Category Products Response:",n.data),this.products=n.data.products},methods:{goToProduct(e){const t=e.replace(/\s+/g,"-").toLowerCase();window.open(`/product/${t}`,"_blank")},formatDate(e){if(!e)return"No date";const t={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`₦${e}`:"Free"}}},A=r(89);const $=(0,A.Z)(E,[["render",S]]);var O=$},6748:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Ce}});var n=r(3396),a=r(7139),i=r(9242);const o=e=>((0,n.dD)("data-v-765e0be2"),e=e(),(0,n.Cn)(),e),s={class:"container my-5"},l={class:"ticket-footer d-block d-md-none p-2"},c={class:"text-white d-flex justify-content-center align-items-center p-3 rounded-3",style:{"background-color":"#047143"}},d={class:"fw-bold fs-5"},u={class:"row"},p={class:"col-md-8"},h={class:"stepper mb-5 position-relative"},m={class:"progress-line"},f={class:"circle"},v={key:0},g={key:1},b={class:"label"},y={key:0,class:"ticket-section text-start"},_=o((()=>(0,n._)("h3",null,"🎟️ Choose Tickets",-1))),w={class:"ticket-content d-flex justify-content-between"},k={class:"price"},C=["onUpdate:modelValue"],D=["value"],T=o((()=>(0,n._)("small",null," Total includes a service fee",-1))),x={key:1,class:"text-start"},S=o((()=>(0,n._)("h3",null,"📇 Contact Information",-1))),P={class:"row mb-3"},E={class:"col"},A=o((()=>(0,n._)("label",{class:"form-label"},"First Name *",-1))),$={class:"col"},O=o((()=>(0,n._)("label",{class:"form-label"},"Last Name *",-1))),U={class:"mb-3"},j=o((()=>(0,n._)("label",{class:"form-label"},"Email Address *",-1))),M={class:"mb-3"},F=o((()=>(0,n._)("label",{class:"form-label"},"Confirm Email Address *",-1))),q={class:"mb-3"},z=o((()=>(0,n._)("label",{class:"form-label"},"Phone Number *",-1))),I={class:"input-group"},V=o((()=>(0,n._)("span",{class:"input-group-text"},"+234",-1))),N={key:2,class:"text-start"},R=o((()=>(0,n._)("h3",null,"💳 Payment Options",-1))),L={class:"alert alert-warning"},B={class:"form-check mb-2"},H=o((()=>(0,n._)("label",{class:"form-check-label",for:"payCard"},"Pay with Paystack",-1))),W={class:"mb-3"},Z=o((()=>(0,n._)("label",null,"Email",-1))),Y=["value"],G={class:"form-check mb-2"},Q=o((()=>(0,n._)("label",{class:"form-check-label",for:"terms"},[(0,n.Uk)(" I accept the "),(0,n._)("a",{href:"#"},"234Africa Terms and Conditions"),(0,n.Uk)(", "),(0,n._)("a",{href:"#"},"Refund Policy"),(0,n.Uk)(" and "),(0,n._)("a",{href:"#"},"Privacy Policy"),(0,n.Uk)(". ")],-1))),K={class:"text-center mt-4 d-flex justify-content-between"},J=["disabled"],X=["disabled"],ee={class:"col-md-4 text-start d-none d-md-block"},te={class:"p-4 bg-light border-start"},re=o((()=>(0,n._)("h5",null,"Summary",-1))),ne={key:0,class:"mt-4"},ae=o((()=>(0,n._)("h5",null,"🎟️ Selected Tickets:",-1))),ie={key:1,class:"text-muted small"},oe={class:"fw-bold fs-5"},se={class:""},le=o((()=>(0,n._)("h2",null,"Apply Promo Code",-1))),ce={key:0},de=o((()=>(0,n._)("strong",null,"Discount:",-1))),ue=o((()=>(0,n._)("strong",null,"New Total:",-1))),pe=o((()=>(0,n._)("strong",null,"Message:",-1)));function he(e,t,r,o,he,me){const fe=(0,n.up)("spinner");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",l,[(0,n._)("div",c,[(0,n._)("span",d," Total: ₦"+(0,a.zw)(me.cartTotal.toLocaleString()),1)])]),(0,n._)("div",u,[(0,n._)("div",p,[(0,n._)("div",h,[(0,n._)("div",m,[(0,n._)("div",{class:"progress-fill",style:(0,a.j5)({width:he.currentStep/(me.steps.length-1)*100+"%"})},null,4)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(me.steps,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:(0,a.C_)(["currentStep text-center",{active:he.currentStep===t,completed:t<he.currentStep}])},[(0,n._)("div",f,[t<he.currentStep?((0,n.wg)(),(0,n.iD)("span",v,"✔")):((0,n.wg)(),(0,n.iD)("span",g,(0,a.zw)(t+1),1))]),(0,n._)("div",b,(0,a.zw)(e),1)],2)))),128))]),0===he.currentStep?((0,n.wg)(),(0,n.iD)("div",y,[_,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.getCart,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"ticket-card",key:e._id},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.event.tickets,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e._id,class:""},[(0,n._)("div",w,[(0,n._)("div",null,[(0,n._)("h5",null,(0,a.zw)(e.name),1),(0,n._)("p",k," ₦"+(0,a.zw)((e.price*(e.selectedQuantity||1)).toLocaleString()),1)]),(0,n.wy)((0,n._)("select",{class:"ticket-select mt-2","onUpdate:modelValue":t=>e.selectedQuantity=t},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.quantity+1,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e,value:e-1},(0,a.zw)(e-1),9,D)))),128))],8,C),[[i.bM,e.selectedQuantity,void 0,{number:!0}]])])])))),128))])))),128)),T])):1===he.currentStep?((0,n.wg)(),(0,n.iD)("div",x,[S,(0,n._)("form",{ref:"myForm",onSubmit:t[5]||(t[5]=(0,i.iM)((()=>{}),["prevent"]))},[(0,n._)("div",P,[(0,n._)("div",E,[A,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>he.contact.firstName=e),type:"text",class:"form-control",required:""},null,512),[[i.nr,he.contact.firstName]])]),(0,n._)("div",$,[O,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>he.contact.lastName=e),type:"text",class:"form-control",required:""},null,512),[[i.nr,he.contact.lastName]])])]),(0,n._)("div",U,[j,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>he.contact.email=e),type:"email",class:"form-control",required:""},null,512),[[i.nr,he.contact.email]])]),(0,n._)("div",M,[F,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>he.contact.confirmEmail=e),type:"email",class:"form-control",required:""},null,512),[[i.nr,he.contact.confirmEmail]])]),(0,n._)("div",q,[z,(0,n._)("div",I,[V,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>he.contact.phone=e),type:"tel",class:"form-control",required:""},null,512),[[i.nr,he.contact.phone]])])])],544)])):2===he.currentStep?((0,n.wg)(),(0,n.iD)("div",N,[R,(0,n._)("p",L," We've reserved your ticket. Please complete checkout within "+(0,a.zw)(he.timer)+" to secure your tickets. ",1),(0,n._)("div",B,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[6]||(t[6]=e=>he.paymentMethod=e),value:"card",id:"payCard"},null,512),[[i.G2,he.paymentMethod]]),H,(0,n._)("form",null,[(0,n._)("div",W,[Z,(0,n._)("input",{value:e.getContactInfo.email,type:"email",class:"form-control",readonly:""},null,8,Y)])])]),(0,n._)("div",G,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>he.termsAccepted=e),id:"terms"},null,512),[[i.e8,he.termsAccepted]]),Q])])):(0,n.kq)("",!0),(0,n._)("div",K,[(0,n._)("button",{type:"button",class:"btn btn-danger",onClick:t[8]||(t[8]=(...e)=>me.prevStep&&me.prevStep(...e)),disabled:0===he.currentStep}," Back ",8,J),2===he.currentStep?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"submit",onClick:t[9]||(t[9]=e=>me.initializePayment()),disabled:!he.termsAccepted,class:"btn btn-success"}," Pay Now ₦"+(0,a.zw)(me.cartTotal.toLocaleString()),9,X)):(0,n.kq)("",!0),he.currentStep<me.steps.length-1?((0,n.wg)(),(0,n.iD)("button",{key:1,type:"button",class:"btn btn-primary",onClick:t[10]||(t[10]=(...e)=>me.nextStep&&me.nextStep(...e))}," Next ")):0===me.cartTotal?((0,n.wg)(),(0,n.iD)("button",{key:2,type:"submit",class:"btn btn-primary",onClick:t[11]||(t[11]=e=>me.getTicket())}," Get tickets ")):(0,n.kq)("",!0)]),he.spinner?((0,n.wg)(),(0,n.j4)(fe,{key:3})):(0,n.kq)("",!0)]),(0,n._)("div",ee,[(0,n._)("div",te,[re,me.selectedTickets.length?((0,n.wg)(),(0,n.iD)("div",ne,[ae,(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(me.selectedTickets,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:t},(0,a.zw)(e.name)+" x "+(0,a.zw)(e.quantity),1)))),128))])])):(0,n.kq)("",!0),null!==e.getCart[0]?.price?((0,n.wg)(),(0,n.iD)("div",ie," Service Charge (7.5%): ₦"+(0,a.zw)(me.serviceCharge),1)):(0,n.kq)("",!0),(0,n._)("span",oe," Total: ₦"+(0,a.zw)(me.cartTotal),1)]),(0,n._)("div",se,[le,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>he.promoCode=e),placeholder:"Enter promo code",class:"form-control mb-2"},null,512),[[i.nr,he.promoCode]]),(0,n._)("button",{onClick:t[13]||(t[13]=(...e)=>me.applyPromo&&me.applyPromo(...e)),class:"btn btn-primary"},"Apply"),he.discountResult?((0,n.wg)(),(0,n.iD)("div",ce,[(0,n._)("p",null,[de,(0,n.Uk)(" "+(0,a.zw)(he.discountResult.discount),1)]),(0,n._)("p",null,[ue,(0,n.Uk)(" "+(0,a.zw)(he.discountResult.newTotal),1)]),(0,n._)("p",null,[pe,(0,n.Uk)(" "+(0,a.zw)(he.discountResult.message),1)])])):(0,n.kq)("",!0)])])])])}r(7658);var me=r(65),fe=r(4161),ve=r(6272),ge=r.n(ve),be=r(85),ye=r(497),_e=(r(7069),{components:{paystack:ge(),QrcodeVue:be.ZP,spinner:ye.Z},data(){return{currentStep:0,timer:"10:00",spinner:!1,reference:"",showQRCode:!1,countdown:null,full_name:"",publicKey:"pk_test_39500fe5625254b064b82558ae701fce46e5f2d1",steps:["Tickets","Contact","Payment"],tickets:[],promoCode:"",discountResult:null,contact:{firstName:"",lastName:"",email:"",confirmEmail:"",phone:""},paymentMethod:"",termsAccepted:!1,subscribe:!1}},computed:{serviceCharge(){return(.075*this.cartTotal).toFixed(2)},email(){return this.getContactInfo.email},amount(){return this.cartTotal},steps(){return this.cartTotal>0?["Tickets","Contact","Payment"]:["Tickets","Contact"]},...(0,me.Se)(["getCart","getContactInfo","getSelectedTickets","cartTotal"]),cartTotal(){const e=this.getCart.reduce(((e,t)=>{const r=t.event.tickets.reduce(((e,t)=>e+(t.selectedQuantity||0)*(t.price||0)),0);return e+r}),0),t=this.discountResult?.discount||0;return Math.max(e-t,0)},selectedTickets(){return this.getCart.flatMap((e=>e.event?.tickets?.filter((e=>e.selectedQuantity>0)).map((e=>({name:e.name,quantity:e.selectedQuantity})))||[]))},canCheckout(){return this.paymentMethod&&this.termsAccepted}},watch:{currentStep(){this.updateProgressLine()},getCart:{handler(){this.discountResult=null,this.promoCode=null},deep:!0}},methods:{...(0,me.OI)(["setSelectedTickets"]),generateReference(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<10;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},extractSelectedTickets(){const e=this.getCart.flatMap((e=>e.event?.tickets?.filter((e=>e.selectedQuantity>0)).map((e=>({name:e.name,quantity:e.selectedQuantity})))||[]));this.setSelectedTickets(e)},async initializePayment(){try{this.spinner=!0;const e=await fe.Z.post("https://event-ticket-qa70.onrender.com/api/initialize",{email:this.email,amount:this.amount});console.log(e.data);const{authorization_url:t,reference:r}=e.data.data;localStorage.setItem("paystack_reference",r),this.spinner=!1,window.location.href=t}catch(e){alert("Payment initialization failed"),console.error(e)}},async getTicket(){try{this.reference=this.generateReference(),localStorage.setItem("paystack_reference",this.reference),this.spinner=!0;const e=localStorage.getItem("affiliateCode"),t={reference:this.reference,userId:this.getCart[0]?.user,title:this.getCart[0]?.title,contact:{email:this.getContactInfo.email,phone:this.getContactInfo.phone},tickets:this.getSelectedTickets,price:this.cartTotal,affiliate:e};console.log("Sending order info:",t);const r=await fe.Z.post("https://event-ticket-qa70.onrender.com/api/order",t);this.spinner=!1,alert("ticket has been sent to your email"),this.$refs.myForm.reset(),this.$router.push({name:"home"}),console.log("Order info sent:",r.data)}catch(e){console.error("Failed to send order info:",e)}},async applyPromo(){try{const e={code:this.promoCode,orderTotal:this.cartTotal,id:this.getCart[0].id};console.log("Payload being sent:",e);const t=await fe.Z.post("https://event-ticket-qa70.onrender.com/api/apply-promo",e);this.discountResult=t.data,localStorage.setItem("discountedTotal",t.data.newTotal),localStorage.setItem("promoCode",this.promoCode),console.log("Promo response:",t.data)}catch(e){alert(`❌ ${e.response?.data?.message||e.message}`)}},processPayment:()=>{window.alert("Payment recieved")},close:()=>{console.log("You closed checkout page")},updateProgressLine(){const e=this.$el.querySelector(".stepper-wrapper");if(e){const t=this.currentStep/(this.steps.length-1);e.style.setProperty("--progress",t)}},nextStep(){this.$store.dispatch("setContactInfo",this.contact);const e=this.getCart.flatMap((e=>e.event.tickets.filter((e=>e.selectedQuantity>0)).map((e=>({name:e.name,quantity:e.selectedQuantity})))));this.$store.commit("setSelectedTickets",e),this.currentStep<this.steps.length-1&&this.currentStep++},prevStep(){this.currentStep>0&&this.currentStep--},checkout(){alert("✅ Checkout successful!")},startTimer(){let e=600;this.countdown=setInterval((()=>{e--;const t=String(Math.floor(e/60)).padStart(2,"0"),r=String(e%60).padStart(2,"0");this.timer=`${t}:${r}`,e<=0&&(clearInterval(this.countdown),alert("⏰ Time expired! Please restart."),location.reload())}),1e3)}},mounted(){this.startTimer(),this.updateProgressLine()},beforeUnmount(){clearInterval(this.countdown)}}),we=r(89);const ke=(0,we.Z)(_e,[["render",he],["__scopeId","data-v-765e0be2"]]);var Ce=ke},7020:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return J}});var n=r(3396),a=r(7139);const i=e=>((0,n.dD)("data-v-23399029"),e=e(),(0,n.Cn)(),e),o={class:"text-start my-5"},s={class:"background-wrapper container"},l=["src"],c={class:"container"},d={class:"row pt-3 text-start"},u={class:"col-md-6"},p=i((()=>(0,n._)("div",{class:"tab-content"},null,-1))),h={class:""},m={class:"fw-bold"},f={key:0,class:"mt-3"},v={class:"mb-2"},g=i((()=>(0,n._)("i",{class:"bi bi-calendar-event me-2"},null,-1))),b={key:0},y={class:"mb-2"},_=i((()=>(0,n._)("i",{class:"bi bi-clock me-2"},null,-1))),w={class:"mb-2"},k=i((()=>(0,n._)("i",{class:"bi bi-geo-alt me-2"},null,-1))),C={class:"card shadow-sm custom-card-mobile mt-3 d-block d-md-none"},D={class:"d-flex justify-content-between align-items-center mb-3"},T=i((()=>(0,n._)("span",{class:"text-muted fw-medium"},"Price",-1))),x={class:"d-grid mb-2"},S=i((()=>(0,n._)("hr",null,null,-1))),P={class:"mb-5"},E=i((()=>(0,n._)("h5",{class:"fw-bold text-dark"},"Tags",-1))),A={class:"d-flex flex-wrap gap-2 mt-3"},$={class:"col-md-6"},O={class:"card shadow-sm custom-card d-none d-md-block"},U={key:0,class:"d-flex justify-content-between align-items-center mb-3"},j=i((()=>(0,n._)("span",{class:"text-muted fw-medium"},"Price",-1))),M={class:"fw-bold fs-5"},F={class:"d-grid mb-2"},q=i((()=>(0,n._)("h1",{class:"text-start fw-bold"},"You may also like",-1))),z=["src"],I={class:"pt-2"},V={class:"mb-1"},N=i((()=>(0,n._)("i",{class:"bi bi-calendar-event me-2"},null,-1))),R={key:0},L={class:"mb-1"},B=i((()=>(0,n._)("i",{class:"bi bi-geo-alt me-2"},null,-1))),H=["onClick"];function W(e,t,r,i,W,Z){const Y=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",s,[(0,n._)("img",{class:"img-fluid",src:W.product.photos[0]||"https://via.placeholder.com/400x300?text=No+Image"},null,8,l)]),(0,n._)("div",c,[(0,n._)("div",d,[(0,n._)("div",u,[p,(0,n._)("div",h,[(0,n._)("h2",m,(0,a.zw)(W.product.title),1),W.product&&W.product.event?((0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("p",v,[g,(0,n.Uk)(" "+(0,a.zw)(Z.formatDate(W.product.event.start))+" ",1),W.product.event.end?((0,n.wg)(),(0,n.iD)("span",b," - "+(0,a.zw)(Z.formatDate(W.product.event.end)),1)):(0,n.kq)("",!0)]),(0,n._)("p",y,[_,(0,n.Uk)(" "+(0,a.zw)(W.product.event.startTime),1)]),(0,n._)("p",w,[k,(0,n.Uk)(" "+(0,a.zw)(W.product.event.location.name),1)]),(0,n.Uk)(" "+(0,a.zw)(W.product.description)+" ",1),(0,n._)("div",C,[(0,n._)("div",D,[T,(0,n._)("p",null,(0,a.zw)(Z.formatPrice(W.product.event.tickets[0].price))+" - "+(0,a.zw)(Z.formatPrice(W.product.event.tickets[W.product.event.tickets.length-1].price)),1)]),(0,n._)("div",x,[(0,n.Wm)(Y,{to:"/checkout",onClick:t[0]||(t[0]=t=>e.addProductToCart(W.product)),class:"btn btn-primary text-dark w-100 text-decoration-none"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Get Tickets ")])),_:1})])])])):(0,n.kq)("",!0),S,(0,n._)("div",P,[E,(0,n._)("div",A,[(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(W.product.tag,((e,t)=>((0,n.wg)(),(0,n.iD)("span",{key:t,class:"tag-badge"}," #"+(0,a.zw)(e),1)))),128))])])])])]),(0,n._)("div",$,[(0,n._)("div",O,[W.product&&W.product.event?((0,n.wg)(),(0,n.iD)("div",U,[j,(0,n._)("span",M,(0,a.zw)(Z.formatPrice(W.product.event.tickets[0]?.price))+" - "+(0,a.zw)(Z.formatPrice(W.product.event.tickets[W.product.event.tickets.length-1]?.price)),1)])):(0,n.kq)("",!0),(0,n._)("div",F,[(0,n.Wm)(Y,{to:"/checkout",onClick:t[1]||(t[1]=t=>e.addProductToCart(W.product)),class:"btn btn-primary text-dark w-100 text-decoration-none"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Get Tickets ")])),_:1})])])]),q,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(W.products,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col-md-4 pt-3 pt-md-0",key:e._id},[(0,n._)("div",null,[(0,n._)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,z),(0,n._)("div",I,[(0,n._)("h5",null,(0,a.zw)(e.title),1),(0,n._)("p",V,[N,(0,n.Uk)(" "+(0,a.zw)(Z.formatDate(e.event.start))+" ",1),e.event.end?((0,n.wg)(),(0,n.iD)("span",R,"- "+(0,a.zw)(Z.formatDate(e.event.end)),1)):(0,n.kq)("",!0)]),(0,n._)("p",L,[B,(0,n.Uk)(" "+(0,a.zw)(e.event.location.name||"No location"),1)]),(0,n._)("p",null,(0,a.zw)(Z.formatPrice(e.event.tickets[0]?.price))+" - "+(0,a.zw)(Z.formatPrice(e.event.tickets[e.event.tickets.length-1]?.price)),1),(0,n._)("button",{class:"btn btn-outline-primary",onClick:t=>Z.goToProduct(e.title)}," View Event ",8,H)])])])))),128))])])])}r(7658);var Z=r(4161),Y=r(65),G={props:{props:["title"],product:{type:Object,required:!0}},data(){return{affiliateCode:null,products:[],product:{photos:[],price:0},selectedTab:0,quantity:1,coordinates:null,API_KEY:"AIzaSyCkbHZXmqyIxjFpN8bMvDeURTmlpEhDHv4"}},async created(){try{const e=this.$route.params.title;console.log(e);const t=await Z.Z.get(`https://event-ticket-qa70.onrender.com/api/product/${e}`);this.product=t.data.product||{},console.log(this.product)}catch(e){console.error("Error fetching product details:",e)}try{const e=await Z.Z.get("https://event-ticket-qa70.onrender.com/api/products");console.log("API Response:",e.data),this.products=this.shuffleArray(e.data.products||[]).slice(0,3)}catch(e){console.error("Error fetching products:",e)}},computed:{mapUrl(){if(!this.coordinates)return"";const{lat:e,lng:t}=this.coordinates;return`https://www.google.com/maps/embed/v1/view?key=${this.API_KEY}&center=${e},${t}&zoom=15`},totalPrice(){return this.product.price*this.quantity},productTitle(){return this.$store.state.productTitle}},methods:{...(0,Y.nv)(["addProductToCart"]),formatDate(e){if(!e)return"No date";const t={weekday:"short",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`₦${e}`:"Free"},slugify(e){return e.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\s'-]/g,"")},goToProduct(e){const t=e.replace(/\s+/g,"-").toLowerCase();window.open(`/product/${t}`,"_blank")},buyNow(e){this.addProductToCart(e),this.$router.push("/cart")},shuffleArray(e){return e.sort((()=>Math.random()-.5))},onChangeQuantity(e,t){let r=parseInt(e.target.value);console.log("Selected Quantity:",r),isNaN(r)?console.error("Invalid Quantity Selected"):(this.quantity=r,this.$store.commit("changeQty",{product:t,qty:r}))}},mounted(){const e=this.$route.query,t=e.aff||e.Aff||e.AFF;console.log(t),t?(this.affiliateCode=t,localStorage.setItem("affiliateCode",t)):(this.affiliateCode=null,localStorage.removeItem("affiliateCode"))}},Q=r(89);const K=(0,Q.Z)(G,[["render",W],["__scopeId","data-v-23399029"]]);var J=K},4695:function(e,t,r){"use strict";r.d(t,{Z:function(){return Xe}});var n=r(3396),a=r(7139),i=r(9242);const o=e=>((0,n.dD)("data-v-5fdd01b5"),e=e(),(0,n.Cn)(),e),s={class:""},l={class:"stepper pt-2 mx-auto"},c={class:"circle"},d={key:0},u={key:1},p={class:"label"},h={class:"progress-line"},m={class:"row justify-content-center"},f={class:"col-12"},v={key:0,class:""},g={class:"row"},b={class:"mb-3 col-md-7"},y=o((()=>(0,n._)("label",{for:"title",class:"form-label"},"What is your event name:",-1))),_={class:"mb-3 col-md-5"},w=o((()=>(0,n._)("label",{for:"title",class:"form-label"},"Tag:",-1))),k={class:"row mb-3"},C={class:"col-md-7"},D=o((()=>(0,n._)("label",{class:"form-label"},"Event Category",-1))),T=o((()=>(0,n._)("option",{value:"",disabled:""},"Select a category",-1))),x=["value"],S={class:"col-md-5 d-none"},P=o((()=>(0,n._)("label",{for:"Price",class:"form-label mb-3"},"Price:",-1))),E=o((()=>(0,n._)("small",null,"Leave blank for a free event",-1))),A={class:"mb-3"},$=o((()=>(0,n._)("label",{class:"form-label"},"What's your event about:",-1))),O={key:1},U={class:"mt-4 text-start"},j=o((()=>(0,n._)("h4",null,[(0,n._)("strong",null,"When is your event?")],-1))),M=o((()=>(0,n._)("p",{class:"text-muted"},"Select all the dates of your event",-1))),F={class:"btn-group mb-3",role:"group"},q={class:"row mb-3"},z={class:""},I={class:"mb-3"},V=o((()=>(0,n._)("label",{for:"address",class:"form-label"},"Enter Address:",-1))),N={class:"row"},R=o((()=>(0,n._)("label",{class:"form-label"},"* Select time zone",-1))),L=o((()=>(0,n._)("option",{value:""},"Select Time Zone",-1))),B=o((()=>(0,n._)("option",{value:"UTC+01:00"},"(UTC+01:00) West Central Africa",-1))),H=o((()=>(0,n._)("option",{value:"UTC+00:00"},"(UTC+00:00) GMT",-1))),W=o((()=>(0,n._)("option",{value:"UTC-05:00"}," (UTC-05:00) Eastern Time (US & Canada) ",-1))),Z=[L,B,H,W],Y={class:"row"},G={class:"col-md-6 mb-3"},Q=o((()=>(0,n._)("label",{class:"form-label"},"* Start date",-1))),K={key:0,class:"col-md-6 mb-3"},J=o((()=>(0,n._)("label",{class:"form-label"},"* End date",-1))),X={class:"row"},ee={class:"col-md-6 mb-3"},te=o((()=>(0,n._)("label",{class:"form-label"},"Start time",-1))),re={class:"d-flex justify-content-between"},ne={class:"mt-2"},ae={key:0,class:"col-md-4 mb-3"},ie=o((()=>(0,n._)("label",{class:"form-label"},"* Event frequency",-1))),oe=o((()=>(0,n._)("option",null,"Every day",-1))),se=o((()=>(0,n._)("option",null,"Weekdays",-1))),le=o((()=>(0,n._)("option",null,"Weekends",-1))),ce=o((()=>(0,n._)("option",null,"Every week",-1))),de=[oe,se,le,ce],ue={key:2},pe={class:"container py-5 text-start"},he={class:"row"},me={class:"col-md-6"},fe=o((()=>(0,n._)("h5",null,[(0,n._)("strong",null,"Event Image")],-1))),ve=o((()=>(0,n._)("p",{class:"text-muted"},"Upload a JPEG or PNG file",-1))),ge=o((()=>(0,n._)("div",{class:"alert alert-light border text-muted py-2 small d-flex align-items-start"},[(0,n._)("i",{class:"bi bi-info-circle-fill me-2 text-danger"}),(0,n.Uk)(" Images with a 1:1 ratio (a square) work best on all event themes ")],-1))),be={for:"imageUpload",class:"border rounded bg-light d-flex flex-column justify-content-center align-items-center text-center py-5 mb-2",style:{cursor:"pointer"}},ye=o((()=>(0,n._)("i",{class:"bi bi-image fs-1 mb-2"},null,-1))),_e=o((()=>(0,n._)("span",null,[(0,n.Uk)(" Drag an image here or "),(0,n._)("span",{class:"text-danger fw-bold"},"click to upload")],-1))),we={key:0},ke={key:0,class:"text-center mt-3"},Ce=["src"],De=o((()=>(0,n._)("p",{class:"text-muted small"}," Upload an image with a size less than 2mb ",-1))),Te={key:3},xe={class:"my-4 text-start"},Se=o((()=>(0,n._)("h5",null,[(0,n._)("strong",null,"Create your ticket types")],-1))),Pe={class:"col-md-3"},Ee=o((()=>(0,n._)("label",{class:"form-label"},"Ticket name",-1))),Ae=["onUpdate:modelValue"],$e={class:"col-md-2"},Oe=o((()=>(0,n._)("label",{class:"form-label"},"Quantity",-1))),Ue=["onUpdate:modelValue"],je={class:"col-md-3"},Me=o((()=>(0,n._)("label",{class:"form-label"},"Price",-1))),Fe=["onUpdate:modelValue"],qe={class:"col-md-2 d-flex align-items-end"},ze=["onClick"],Ie=o((()=>(0,n._)("i",{class:"bi bi-trash"},null,-1))),Ve=[Ie],Ne={class:"d-flex gap-3"},Re={class:"text-center mt-4 d-flex justify-content-between"},Le=["disabled"],Be={key:1,type:"submit",class:"btn btn-primary btn-primary:hover"};function He(e,t,r,o,L,B){const H=(0,n.up)("spinner");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(L.steps,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:(0,a.C_)(["step",{active:L.currentStep===t,completed:t<L.currentStep}])},[(0,n._)("div",c,[t<L.currentStep?((0,n.wg)(),(0,n.iD)("span",d,"✔")):((0,n.wg)(),(0,n.iD)("span",u,(0,a.zw)(t+1),1))]),(0,n._)("div",p,(0,a.zw)(e),1)],2)))),128)),(0,n._)("div",h,[(0,n._)("div",{class:"progress-fill",style:(0,a.j5)({width:L.currentStep/(L.steps.length-1)*100+"%"})},null,4)])]),(0,n._)("div",m,[(0,n._)("div",f,[(0,n._)("form",{onSubmit:t[17]||(t[17]=(0,i.iM)(((...e)=>B.submitProduct&&B.submitProduct(...e)),["prevent"])),enctype:"multipart/form-data",class:"shadow p-4"},[0===L.currentStep?((0,n.wg)(),(0,n.iD)("div",v,[(0,n._)("div",g,[(0,n._)("div",b,[y,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>L.product.title=e),placeholder:"Tech Summit, Afro summit",type:"text",id:"title",class:"form-control"},null,512),[[i.nr,L.product.title]])]),(0,n._)("div",_,[(0,n._)("div",null,[(0,n._)("div",null,[w,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>L.product.tag=e),type:"text",placeholder:"Tags (comma-separated)",id:"title",class:"form-control"},null,512),[[i.nr,L.product.tag]])])])])]),(0,n._)("div",k,[(0,n._)("div",C,[D,(0,n._)("div",null,[L.categories.length>0?(0,n.wy)(((0,n.wg)(),(0,n.iD)("select",{key:0,class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>L.categoryID=e)},[T,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(L.categories,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e._id,value:e._id},(0,a.zw)(e.type),9,x)))),128))],512)),[[i.bM,L.categoryID]]):(0,n.kq)("",!0)])]),(0,n._)("div",S,[P,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>L.product.price=e),type:"text",placeholder:"price",id:"price",class:"form-control"},null,512),[[i.nr,L.product.price]]),E])]),(0,n._)("div",A,[$,(0,n._)("div",null,[(0,n.wy)((0,n._)("textarea",{class:"w-100 h-50","onUpdate:modelValue":t[4]||(t[4]=e=>L.product.description=e)},null,512),[[i.nr,L.product.description]])])])])):(0,n.kq)("",!0),1===L.currentStep?((0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("div",U,[j,M,(0,n._)("div",F,[(0,n._)("button",{type:"button",class:(0,a.C_)(["btn","single"===L.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[5]||(t[5]=e=>L.eventType="single")}," Single Event ",2),(0,n._)("button",{type:"button",class:(0,a.C_)(["btn","recurring"===L.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[6]||(t[6]=e=>L.eventType="recurring")}," Recurring Event ",2)]),(0,n._)("div",q,[(0,n._)("div",z,[(0,n._)("div",I,[V,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>L.address=e),type:"text",class:"form-control",id:"address",placeholder:"e.g. 1600 Amphitheatre Parkway, CA",required:""},null,512),[[i.nr,L.address]])])])]),(0,n._)("div",N,[R,(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":t[8]||(t[8]=e=>L.product.event.timezone=e)},Z,512),[[i.bM,L.product.event.timezone]])]),(0,n._)("div",Y,[(0,n._)("div",G,[Q,(0,n.wy)((0,n._)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>L.product.event.startDate=e)},null,512),[[i.nr,L.product.event.startDate]])]),"recurring"===L.eventType?((0,n.wg)(),(0,n.iD)("div",K,[J,(0,n.wy)((0,n._)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>L.product.event.endDate=e)},null,512),[[i.nr,L.product.event.endDate]])])):(0,n.kq)("",!0)]),(0,n._)("div",X,[(0,n._)("div",ee,[te,(0,n._)("div",re,[(0,n._)("div",ne,[(0,n.wy)((0,n._)("input",{type:"time",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=e=>L.product.event.startTime=e)},null,512),[[i.nr,L.product.event.startTime]])])])]),"recurring"===L.eventType?((0,n.wg)(),(0,n.iD)("div",ae,[ie,(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=e=>L.eventFrequency=e)},de,512),[[i.bM,L.eventFrequency]])])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0),2===L.currentStep?((0,n.wg)(),(0,n.iD)("div",ue,[(0,n._)("div",pe,[(0,n._)("div",he,[(0,n._)("div",me,[fe,ve,ge,(0,n._)("div",null,[(0,n._)("label",be,[ye,_e,(0,n._)("input",{type:"file",multiple:"",onChange:t[13]||(t[13]=(...e)=>B.handleFiles&&B.handleFiles(...e)),accept:"image/*",id:"imageUpload",class:"d-none"},null,32),L.photos.length?((0,n.wg)(),(0,n.iD)("p",we,"Selected: "+(0,a.zw)(L.photos.length)+" image(s)",1)):(0,n.kq)("",!0)]),L.previewUrl?((0,n.wg)(),(0,n.iD)("div",ke,[(0,n._)("img",{src:L.previewUrl,alt:"Preview",class:"img-fluid rounded shadow",style:{"max-height":"250px"}},null,8,Ce)])):(0,n.kq)("",!0)]),De])])])])):(0,n.kq)("",!0),3===L.currentStep?((0,n.wg)(),(0,n.iD)("div",Te,[(0,n._)("div",xe,[Se,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(L.tickets,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"row g-3 align-items-end mb-2"},[(0,n._)("div",Pe,[Ee,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.name=t,type:"text",class:"form-control",placeholder:"e.g. General Admission"},null,8,Ae),[[i.nr,e.name]])]),(0,n._)("div",$e,[Oe,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.quantity=t,type:"number",class:"form-control"},null,8,Ue),[[i.nr,e.quantity,void 0,{number:!0}]])]),(0,n._)("div",je,[Me,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.price=t,type:"number",class:"form-control",placeholder:"Blank for free event"},null,8,Fe),[[i.nr,e.price,void 0,{number:!0}]])]),(0,n._)("div",qe,[(0,n._)("button",{class:"btn btn-outline-danger w-100",title:"Delete",onClick:e=>B.removeTicket(t)},Ve,8,ze)])])))),128)),(0,n._)("div",Ne,[(0,n._)("button",{class:"btn btn-primary btn-primary:hover",type:"button",onClick:t[14]||(t[14]=e=>B.addTicket("Paid"))}," + ticket ")])])])):(0,n.kq)("",!0),(0,n._)("div",Re,[(0,n._)("button",{type:"button",class:"btn btn-danger",onClick:t[15]||(t[15]=(...e)=>B.prevStep&&B.prevStep(...e)),disabled:0===L.currentStep}," Back ",8,Le),L.currentStep<L.steps.length-1?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-primary:hover",onClick:t[16]||(t[16]=(...e)=>B.nextStep&&B.nextStep(...e))}," Next ")):((0,n.wg)(),(0,n.iD)("button",Be," Create Event "))]),L.spinner?((0,n.wg)(),(0,n.j4)(H,{key:4})):(0,n.kq)("",!0)],32)])])])}r(7658);var We=r(4161),Ze=r(65),Ye=r(6149),Ge=r(497),Qe={props:{productId:{type:String,required:!0}},components:{QuillEditor:Ye.Bn,spinner:Ge.Z},data(){return{currentStep:0,steps:["Basic Info","Event Details","Media Upload","Tickets"],categories:[],spinner:!1,categoryID:"",product:{title:"",description:"",tag:"",price:"",event:{startDate:"",endDate:"",startTime:"",endTime:"",timezone:"UTC",location:""}},address:"",startAmPm:"AM",endAmPm:"PM",eventType:"single",eventFrequency:"",photos:[],previewUrl:null,tickets:[{name:"",price:null,quantity:null}]}},computed:{...(0,Ze.Se)(["getToken"]),mapUrl(){if(!this.coordinates)return"";const{lat:e,lng:t}=this.coordinates;return`https://www.google.com/maps/embed/v1/view?key=${this.API_KEY}&center=${e},${t}&zoom=15`}},async created(){try{const e=await We.Z.get("https://event-ticket-qa70.onrender.com/api/categories");this.categories=e.data.categories||e.data,console.log("Categories fetched:",this.categories),this.productId&&await this.fetchProduct()}catch(e){console.error("Failed to fetch categories:",e)}},watch:{productId(e){e&&this.fetchProduct()}},methods:{async fetchProduct(){try{const e=await We.Z.get(`https://event-ticket-qa70.onrender.com/api/product/${this.productId}`);console.log("Product data:",e.data);const t=e.data.product;this.product.title=t.title,this.product.description=t.description,this.product.tag=t.tag?.join(", ")||"",this.product.price=t.price,this.categoryID=t.category,this.product.event.startDate=t.event?.startDate?.split("T")[0]||"",this.product.event.endDate=t.event?.endDate?.split("T")[0]||"",this.product.event.startTime=t.event?.startTime||"",this.product.event.timezone=t.event?.timezone||"",this.address=t.event?.location?.name||"",this.tickets=t.tickets||[],console.log("Product loaded:",t)}catch(e){console.error("Failed to fetch product:",e),alert("Failed to load event details.")}},getAmPm(e){if(!e)return"AM";const t=parseInt(e.split(":")[0],10);return t>=12?"PM":"AM"},nextStep(){this.currentStep<this.steps.length-1&&this.currentStep++},prevStep(){this.currentStep>0&&this.currentStep--},handleFiles(e){const t=Array.from(e.target.files);if(this.photos=t,t.length>0){const e=new FileReader;e.onload=e=>{this.previewUrl=e.target.result},e.readAsDataURL(t[0])}},addTicket(e){this.tickets.push({name:"",quantity:"Unlimited",price:null})},removeTicket(e){this.tickets.splice(e,1)},duplicateTicket(e){const t=this.tickets[e];this.tickets.splice(e+1,0,{...t})},async submitProduct(){this.spinner=!0;const e=new FormData;e.append("categoryID",this.categoryID),e.append("title",this.product.title),e.append("description",this.product.description),e.append("tag",this.product.tag),e.append("price",this.product.price),e.append("eventDate",new Date(this.product.event.startDate).toISOString()),this.product.event.endDate&&e.append("endDate",new Date(this.product.event.endDate).toISOString()),e.append("startTime",this.product.event.startTime+" "+this.startAmPm),e.append("endTime",this.product.event.endTime+" "+this.endAmPm),e.append("timezone",this.product.event.timezone),e.append("locationName",this.address),"recurring"===this.eventType&&e.append("eventFrequency",this.eventFrequency),e.append("tickets",JSON.stringify(this.tickets)),this.photos.forEach((t=>{e.append("photos",t)}));try{const t=await We.Z.put(`https://event-ticket-qa70.onrender.com/api/product/${this.productId}`,e,{headers:{Authorization:`Bearer ${this.getToken}`,"Content-Type":"multipart/form-data"}});console.log("Product updated:",t.data),alert("Event updated successfully!"),this.$emit("close"),this.$emit("refresh")}catch(t){if(!t.response||401!==t.response.status)throw t;localStorage.removeItem("token"),router.push("/login")}this.spinner=!1}}},Ke=r(89);const Je=(0,Ke.Z)(Qe,[["render",He],["__scopeId","data-v-5fdd01b5"]]);var Xe=Je},274:function(e,t,r){"use strict";r.d(t,{Z:function(){return Vt}});var n=r(3396),a=r(7139);const i=e=>((0,n.dD)("data-v-9c9f7742"),e=e(),(0,n.Cn)(),e),o={class:"container"},s=i((()=>(0,n._)("h2",null,"🎯 Scan Ticket QR Code",-1))),l={key:2,class:"error"},c={class:"decode-result"},d={key:3,class:"text-start",style:{border:"1px solid #ddd","border-radius":"8px",padding:"16px",background:"#f9f9f9","max-width":"600px"}},u=i((()=>(0,n._)("h4",{style:{"margin-bottom":"16px"}},"🎟️ Ticket Details",-1))),p={style:{width:"120px","font-weight":"bold"}},h={style:{"border-left":"1px solid #ccc","padding-left":"12px"}},m={style:{display:"flex","border-top":"1px solid #ddd",padding:"8px 0"}},f=i((()=>(0,n._)("div",{style:{width:"120px","font-weight":"bold"}},"Tickets:",-1))),v={style:{"border-left":"1px solid #ccc","padding-left":"12px"}},g={style:{margin:"0","padding-left":"20px"}},b={key:4},y=i((()=>(0,n._)("p",{class:"text-danger"},"❌ Ticket not found.",-1))),_=[y];function w(e,t,r,i,y,w){const k=(0,n.up)("qrcode-stream");return(0,n.wg)(),(0,n.iD)("div",o,[s,y.scanning?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>w.startScanning&&w.startScanning(...e)),class:"btn btn-primary mb-3"}," 📷 Start Scanning ")),y.scanning?((0,n.wg)(),(0,n.j4)(k,{key:1,constraints:{facingMode:"environment"},onDetect:w.onDetect,onError:w.onError},null,8,["onDetect","onError"])):(0,n.kq)("",!0),y.error?((0,n.wg)(),(0,n.iD)("p",l,(0,a.zw)(y.error),1)):(0,n.kq)("",!0),(0,n._)("p",c,[(0,n._)("b",null,(0,a.zw)(y.result),1)]),y.ticket?((0,n.wg)(),(0,n.iD)("div",d,[u,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)({Event:y.ticket.title,Reference:y.ticket.reference,Email:y.ticket.contact?.email||"N/A",Phone:y.ticket.contact?.phone||"N/A"},((e,t)=>((0,n.wg)(),(0,n.iD)("div",{style:{display:"flex","border-top":"1px solid #ddd",padding:"8px 0"},key:t},[(0,n._)("div",p,(0,a.zw)(t)+":",1),(0,n._)("div",h,(0,a.zw)(e),1)])))),128)),(0,n._)("div",m,[f,(0,n._)("div",v,[(0,n._)("ul",g,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.ticket.tickets,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e._id},(0,a.zw)(e.name)+" x "+(0,a.zw)(e.quantity),1)))),128))])])])])):(0,n.kq)("",!0),y.notFound?((0,n.wg)(),(0,n.iD)("div",b,_)):(0,n.kq)("",!0)])}r(2801),r(3767),r(8585),r(8696),r(7658);var k=r(4870),C=r(9242),D=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},T=(e,t,r)=>(D(e,t,"read from private field"),r?r.call(e):t.get(e)),x=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},S=(e,t,r,n)=>(D(e,t,"write to private field"),t.set(e,r),r);const P=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],E=[...P,["unknown"]].map((e=>e[0])),A=new Map(P);function $(e){for(const[t,r]of A)if(e===r)return t;return"unknown"}function O(e){if(U(e))return{width:e.naturalWidth,height:e.naturalHeight};if(j(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(M(e))return{width:e.videoWidth,height:e.videoHeight};if(q(e))return{width:e.width,height:e.height};if(I(e))return{width:e.displayWidth,height:e.displayHeight};if(F(e))return{width:e.width,height:e.height};if(z(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function U(e){try{return e instanceof HTMLImageElement}catch(t){return!1}}function j(e){try{return e instanceof SVGImageElement}catch(t){return!1}}function M(e){try{return e instanceof HTMLVideoElement}catch(t){return!1}}function F(e){try{return e instanceof HTMLCanvasElement}catch(t){return!1}}function q(e){try{return e instanceof ImageBitmap}catch(t){return!1}}function z(e){try{return e instanceof OffscreenCanvas}catch(t){return!1}}function I(e){try{return e instanceof VideoFrame}catch(t){return!1}}function V(e){try{return e instanceof Blob}catch(t){return!1}}function N(e){try{return e instanceof ImageData}catch(t){return!1}}function R(e,t){try{const r=new OffscreenCanvas(e,t);if(r.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return r;throw void 0}catch(r){const n=document.createElement("canvas");return n.width=e,n.height=t,n}}async function L(e){if(U(e)&&!await Z(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(j(e)&&!await Y(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(I(e)&&G(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(M(e)&&(0===e.readyState||1===e.readyState))throw new DOMException("Invalid element or state.","InvalidStateError");if(q(e)&&K(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:t,height:r}=O(e);if(0===t||0===r)return null;const n=R(t,r).getContext("2d");n.drawImage(e,0,0);try{return n.getImageData(0,0,t,r)}catch(a){throw new DOMException("Source would taint origin.","SecurityError")}}async function B(e){let t;try{if(globalThis.createImageBitmap)t=await createImageBitmap(e);else{if(!globalThis.Image)return e;{t=new Image;let r="";try{r=URL.createObjectURL(e),t.src=r,await t.decode()}finally{URL.revokeObjectURL(r)}}}}catch(r){throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await L(t)}function H(e){const{width:t,height:r}=e;if(0===t||0===r)return null;const n=e.getContext("2d");try{return n.getImageData(0,0,t,r)}catch(a){throw new DOMException("Source would taint origin.","SecurityError")}}async function W(e){if(V(e))return await B(e);if(N(e)){if(Q(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return F(e)||z(e)?H(e):await L(e)}async function Z(e){try{return await e.decode(),!0}catch(t){return!1}}async function Y(e){var t;try{return await(null==(t=e.decode)?void 0:t.call(e)),!0}catch(r){return!1}}function G(e){return null===e.format}function Q(e){return 0===e.data.buffer.byteLength}function K(e){return 0===e.width&&0===e.height}function J(e,t){return e instanceof DOMException?new DOMException(`${t}: ${e.message}`,e.name):e instanceof Error?new e.constructor(`${t}: ${e.message}`):new Error(`${t}: ${e}`)}const X=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function ee(e){return e.join("|")}function te(e){const t=re(e);let r=0,n=X.length-1;for(;r<=n;){const e=Math.floor((r+n)/2),a=X[e],i=re(a);if(i===t)return a;i<t?r=e+1:n=e-1}return"None"}function re(e){return e.toLowerCase().replace(/_-\[\]/g,"")}function ne(e,t){return e.Binarizer[t]}function ae(e,t){return e.CharacterSet[t]}const ie=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function oe(e){return ie[e.value]}function se(e,t){return e.EanAddOnSymbol[t]}function le(e,t){return e.TextMode[t]}const ce={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function de(e,t){return{...t,formats:ee(t.formats),binarizer:ne(e,t.binarizer),eanAddOnSymbol:se(e,t.eanAddOnSymbol),textMode:le(e,t.textMode),characterSet:ae(e,t.characterSet)}}function ue(e){return{...e,format:te(e.format),eccLevel:e.eccLevel,contentType:oe(e.contentType)}}const pe={locateFile:(e,t)=>{const r=e.match(/_(.+?)\.wasm$/);return r?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${r[1]}/${e}`:t+e}};let he=new WeakMap;function me(e,t){var r;const n=he.get(e);if(null!=n&&n.modulePromise&&void 0===t)return n.modulePromise;const a=null!=(r=null==n?void 0:n.moduleOverrides)?r:pe,i=e({...a});return he.set(e,{moduleOverrides:a,modulePromise:i}),i}async function fe(e,t,r=ce){const n={...ce,...r},a=await me(e),{size:i}=t,o=new Uint8Array(await t.arrayBuffer()),s=a._malloc(i);a.HEAPU8.set(o,s);const l=a.readBarcodesFromImage(s,i,de(a,n));a._free(s);const c=[];for(let d=0;d<l.size();++d)c.push(ue(l.get(d)));return c}async function ve(e,t,r=ce){const n={...ce,...r},a=await me(e),{data:i,width:o,height:s,data:{byteLength:l}}=t,c=a._malloc(l);a.HEAPU8.set(i,c);const d=a.readBarcodesFromPixmap(c,o,s,de(a,n));a._free(c);const u=[];for(let p=0;p<d.size();++p)u.push(ue(d.get(p)));return u}ce.formats;var ge,be=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t={}){var r,n,a=t;a.ready=new Promise(((e,t)=>{r=e,n=t}));var i=Object.assign({},a),o="./this.program",s="object"==typeof window,l="function"==typeof importScripts;"object"==typeof process&&"object"==typeof process.versions&&process.versions.node;var c,d="";function u(e){return a.locateFile?a.locateFile(e,d):d+e}(s||l)&&(l?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),e&&(d=e),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",l&&(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),a.print||console.log.bind(console);var p,h=a.printErr||console.error.bind(console);Object.assign(a,i),i=null,a.arguments&&a.arguments,a.thisProgram&&(o=a.thisProgram),a.quit&&a.quit,a.wasmBinary&&(p=a.wasmBinary),"object"!=typeof WebAssembly&&z("no native wasm support detected");var m,f,v,g,b,y,_,w,k,C=!1;function D(){var e=m.buffer;a.HEAP8=f=new Int8Array(e),a.HEAP16=g=new Int16Array(e),a.HEAPU8=v=new Uint8Array(e),a.HEAPU16=b=new Uint16Array(e),a.HEAP32=y=new Int32Array(e),a.HEAPU32=_=new Uint32Array(e),a.HEAPF32=w=new Float32Array(e),a.HEAPF64=k=new Float64Array(e)}var T=[],x=[],S=[];function P(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)$(a.preRun.shift());Z(T)}function E(){Z(x)}function A(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)U(a.postRun.shift());Z(S)}function $(e){T.unshift(e)}function O(e){x.unshift(e)}function U(e){S.unshift(e)}var j=0,M=null;function F(e){var t;j++,null===(t=a.monitorRunDependencies)||void 0===t||t.call(a,j)}function q(e){var t;if(j--,null===(t=a.monitorRunDependencies)||void 0===t||t.call(a,j),0==j&&M){var r=M;M=null,r()}}function z(e){var t;null===(t=a.onAbort)||void 0===t||t.call(a,e),e="Aborted("+e+")",h(e),C=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw n(r),r}var I,V="data:application/octet-stream;base64,",N=e=>e.startsWith(V);function R(e){if(e==I&&p)return new Uint8Array(p);if(c)return c(e);throw"both async and sync fetching of the wasm failed"}function L(e){return p||!s&&!l||"function"!=typeof fetch?Promise.resolve().then((()=>R(e))):fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((()=>R(e)))}function B(e,t,r){return L(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{h(`failed to asynchronously prepare wasm: ${e}`),z(e)}))}function H(e,t,r,n){return e||"function"!=typeof WebAssembly.instantiateStreaming||N(t)||"function"!=typeof fetch?B(t,r,n):fetch(t,{credentials:"same-origin"}).then((e=>{var a=WebAssembly.instantiateStreaming(e,r);return a.then(n,(function(e){return h(`wasm streaming compile failed: ${e}`),h("falling back to ArrayBuffer instantiation"),B(t,r,n)}))}))}function W(){var e={a:Yr};function t(e,t){return Gr=e.exports,m=Gr.ia,D(),ut=Gr.ma,O(Gr.ja),q(),Gr}function r(e){t(e.instance)}if(F(),a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(i){h(`Module.instantiateWasm callback failed with error: ${i}`),n(i)}return H(p,I,e,r).catch(n),{}}I="zxing_reader.wasm",N(I)||(I=u(I));var Z=e=>{for(;e.length>0;)e.shift()(a)};a.noExitRuntime;var Y=[],G=0,Q=e=>{var t=new X(e);return t.get_caught()||(t.set_caught(!0),G--),t.set_rethrown(!1),Y.push(t),an(t.excPtr),t.get_exception_ptr()},K=0,J=()=>{Xr(0,0);var e=Y.pop();nn(e.excPtr),K=0};function X(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){_[this.ptr+4>>2]=e},this.get_type=function(){return _[this.ptr+4>>2]},this.set_destructor=function(e){_[this.ptr+8>>2]=e},this.get_destructor=function(){return _[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,f[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=f[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,f[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=f[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){_[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return _[this.ptr+16>>2]},this.get_exception_ptr=function(){var e=sn(this.get_type());if(e)return _[this.excPtr>>2];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var ee=e=>{throw K||(K=e),K},te=e=>{var t=K;if(!t)return en(0),0;var r=new X(t);r.set_adjusted_ptr(t);var n=r.get_type();if(!n)return en(0),t;for(var a in e){var i=e[a];if(0===i||i===n)break;var o=r.ptr+16;if(on(i,n,o))return en(i),t}return en(n),t},re=()=>te([]),ne=e=>te([e]),ae=(e,t)=>te([e,t]),ie=()=>{var e=Y.pop();e||z("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Y.push(e),e.set_rethrown(!0),e.set_caught(!1),G++),K=t,K},oe=(e,t,r)=>{var n=new X(e);throw n.init(t,r),K=e,G++,K},se=()=>G,le={},ce=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function de(e){return this.fromWireType(y[e>>2])}var ue,pe,he,me={},fe={},ve={},ge=e=>{throw new ue(e)},be=(e,t,r)=>{function n(t){var n=r(t);n.length!==e.length&&ge("Mismatched type converter count");for(var a=0;a<e.length;++a)Te(e[a],n[a])}e.forEach((function(e){ve[e]=t}));var a=new Array(t.length),i=[],o=0;t.forEach(((e,t)=>{fe.hasOwnProperty(e)?a[t]=fe[e]:(i.push(e),me.hasOwnProperty(e)||(me[e]=[]),me[e].push((()=>{a[t]=fe[e],++o,o===i.length&&n(a)})))})),0===i.length&&n(a)},ye=e=>{var t=le[e];delete le[e];var r=t.rawConstructor,n=t.rawDestructor,a=t.fields,i=a.map((e=>e.getterReturnType)).concat(a.map((e=>e.setterArgumentType)));be([e],i,(e=>{var i={};return a.forEach(((t,r)=>{var n=t.fieldName,o=e[r],s=t.getter,l=t.getterContext,c=e[r+a.length],d=t.setter,u=t.setterContext;i[n]={read:e=>o.fromWireType(s(l,e)),write:(e,t)=>{var r=[];d(u,e,c.toWireType(r,t)),ce(r)}}})),[{name:t.name,fromWireType:e=>{var t={};for(var r in i)t[r]=i[r].read(e);return n(e),t},toWireType:(e,t)=>{for(var a in i)if(!(a in t))throw new TypeError(`Missing field: "${a}"`);var o=r();for(a in i)i[a].write(o,t[a]);return null!==e&&e.push(n,o),o},argPackAdvance:Se,readValueFromPointer:de,destructorFunction:n}]}))},_e=(e,t,r,n,a)=>{},we=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);pe=e},ke=e=>{for(var t="",r=e;v[r];)t+=pe[v[r++]];return t},Ce=e=>{throw new he(e)};function De(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=t.name;if(e||Ce(`type "${n}" must have a positive integer typeid pointer`),fe.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;Ce(`Cannot register type '${n}' twice`)}if(fe[e]=t,delete ve[e],me.hasOwnProperty(e)){var a=me[e];delete me[e],a.forEach((e=>e()))}}function Te(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return De(e,t,r)}var xe,Se=8,Pe=(e,t,r,n)=>{t=ke(t),Te(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:n},argPackAdvance:Se,readValueFromPointer:function(e){return this.fromWireType(v[e])},destructorFunction:null})},Ee=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Ae=e=>{function t(e){return e.$$.ptrType.registeredClass.name}Ce(t(e)+" instance already deleted")},$e=!1,Oe=e=>{},Ue=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},je=e=>{e.count.value-=1;var t=0===e.count.value;t&&Ue(e)},Me=(e,t,r)=>{if(t===r)return e;if(void 0===r.baseClass)return null;var n=Me(e,t,r.baseClass);return null===n?null:r.downcast(n)},Fe={},qe=()=>Object.keys(Le).length,ze=()=>{var e=[];for(var t in Le)Le.hasOwnProperty(t)&&e.push(Le[t]);return e},Ie=[],Ve=()=>{for(;Ie.length;){var e=Ie.pop();e.$$.deleteScheduled=!1,e.delete()}},Ne=e=>{xe=e,Ie.length&&xe&&xe(Ve)},Re=()=>{a.getInheritedInstanceCount=qe,a.getLiveInheritedInstances=ze,a.flushPendingDeletes=Ve,a.setDelayFunction=Ne},Le={},Be=(e,t)=>{for(void 0===t&&Ce("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},He=(e,t)=>(t=Be(e,t),Le[t]),We=(e,t)=>{(!t.ptrType||!t.ptr)&&ge("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,n=!!t.smartPtr;return r!==n&&ge("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Ye(Object.create(e,{$$:{value:t,writable:!0}}))};function Ze(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=He(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function a(){return this.isSmartPointer?We(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):We(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i,o=this.registeredClass.getActualType(t),s=Fe[o];if(!s)return a.call(this);i=this.isConst?s.constPointerType:s.pointerType;var l=Me(t,this.registeredClass,i.registeredClass);return null===l?a.call(this):this.isSmartPointer?We(i.registeredClass.instancePrototype,{ptrType:i,ptr:l,smartPtrType:this,smartPtr:e}):We(i.registeredClass.instancePrototype,{ptrType:i,ptr:l})}var Ye=e=>typeof FinalizationRegistry>"u"?(Ye=e=>e,e):($e=new FinalizationRegistry((e=>{je(e.$$)})),Ye=e=>{var t=e.$$,r=!!t.smartPtr;if(r){var n={$$:t};$e.register(e,n,e)}return e},Oe=e=>$e.unregister(e),Ye(e)),Ge=()=>{Object.assign(Qe.prototype,{isAliasOf(e){if(!(this instanceof Qe)||!(e instanceof Qe))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,a=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return t===n&&r===a},clone(){if(this.$$.ptr||Ae(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Ye(Object.create(Object.getPrototypeOf(this),{$$:{value:Ee(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||Ae(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ce("Object already scheduled for deletion"),Oe(this),je(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Ae(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ce("Object already scheduled for deletion"),Ie.push(this),1===Ie.length&&xe&&xe(Ve),this.$$.deleteScheduled=!0,this}})};function Qe(){}var Ke=(e,t)=>Object.defineProperty(t,"name",{value:e}),Je=(e,t,r)=>{if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Ce(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},Xe=(e,t,r)=>{a.hasOwnProperty(e)?((void 0===r||void 0!==a[e].overloadTable&&void 0!==a[e].overloadTable[r])&&Ce(`Cannot register public name '${e}' twice`),Je(a,e,e),a.hasOwnProperty(r)&&Ce(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),a[e].overloadTable[r]=t):(a[e]=t,void 0!==r&&(a[e].numArguments=r))},et=48,tt=57,rt=e=>{if(void 0===e)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=et&&t<=tt?`_${e}`:e};function nt(e,t,r,n,a,i,o,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=i,this.upcast=o,this.downcast=s,this.pureVirtualFunctions=[]}var at=(e,t,r)=>{for(;t!==r;)t.upcast||Ce(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function it(e,t){if(null===t)return this.isReference&&Ce(`null is not a valid ${this.name}`),0;t.$$||Ce(`Cannot pass "${Rt(t)}" as a ${this.name}`),t.$$.ptr||Ce(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=at(t.$$.ptr,r,this.registeredClass);return n}function ot(e,t){var r;if(null===t)return this.isReference&&Ce(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;(!t||!t.$$)&&Ce(`Cannot pass "${Rt(t)}" as a ${this.name}`),t.$$.ptr||Ce(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&Ce(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=at(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Ce("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:Ce(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var a=t.clone();r=this.rawShare(r,Ft.toHandle((()=>a.delete()))),null!==e&&e.push(this.rawDestructor,r)}break;default:Ce("Unsupporting sharing policy")}return r}function st(e,t){if(null===t)return this.isReference&&Ce(`null is not a valid ${this.name}`),0;t.$$||Ce(`Cannot pass "${Rt(t)}" as a ${this.name}`),t.$$.ptr||Ce(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&Ce(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=at(t.$$.ptr,r,this.registeredClass);return n}function lt(e){return this.fromWireType(_[e>>2])}var ct=()=>{Object.assign(dt.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){var t;null===(t=this.rawDestructor)||void 0===t||t.call(this,e)},argPackAdvance:Se,readValueFromPointer:lt,deleteObject(e){null!==e&&e.delete()},fromWireType:Ze})};function dt(e,t,r,n,a,i,o,s,l,c,d){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=i,this.sharingPolicy=o,this.rawGetPointee=s,this.rawConstructor=l,this.rawShare=c,this.rawDestructor=d,a||void 0!==t.baseClass?this.toWireType=ot:n?(this.toWireType=it,this.destructorFunction=null):(this.toWireType=st,this.destructorFunction=null)}var ut,pt,ht=(e,t,r)=>{a.hasOwnProperty(e)||ge("Replacing nonexistant public symbol"),void 0!==a[e].overloadTable&&void 0!==r?a[e].overloadTable[r]=t:(a[e]=t,a[e].argCount=r)},mt=(e,t,r)=>{var n=a["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)},ft=[],vt=e=>{var t=ft[e];return t||(e>=ft.length&&(ft.length=e+1),ft[e]=t=ut.get(e)),t},gt=(e,t,r)=>{if(e.includes("j"))return mt(e,t,r);var n=vt(t).apply(null,r);return n},bt=(e,t)=>{var r=[];return function(){return r.length=0,Object.assign(r,arguments),gt(e,t,r)}},yt=(e,t)=>{function r(){return e.includes("j")?bt(e,t):vt(t)}e=ke(e);var n=r();return"function"!=typeof n&&Ce(`unknown function pointer with signature ${e}: ${t}`),n},_t=(e,t)=>{var r=Ke(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},r},wt=e=>{var t=Jr(e),r=ke(t);return Qr(t),r},kt=(e,t)=>{var r=[],n={};function a(e){if(!n[e]&&!fe[e]){if(ve[e])return void ve[e].forEach(a);r.push(e),n[e]=!0}}throw t.forEach(a),new pt(`${e}: `+r.map(wt).join([", "]))},Ct=(e,t,r,n,a,i,o,s,l,c,d,u,p)=>{d=ke(d),i=yt(a,i),s&&(s=yt(o,s)),c&&(c=yt(l,c)),p=yt(u,p);var h=rt(d);Xe(h,(function(){kt(`Cannot construct ${d} due to unbound types`,[n])})),be([e,t,r],n?[n]:[],(function(t){var r,a;t=t[0],n?(r=t.registeredClass,a=r.instancePrototype):a=Qe.prototype;var o=Ke(d,(function(){if(Object.getPrototypeOf(this)!==l)throw new he("Use 'new' to construct "+d);if(void 0===f.constructor_body)throw new he(d+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new he(`Tried to invoke ctor of ${d} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(f.constructor_body).toString()}) parameters instead!`);return e.apply(this,arguments)})),l=Object.create(a,{constructor:{value:o}});o.prototype=l;var u,m,f=new nt(d,o,l,p,r,i,s,c);f.baseClass&&(null!==(m=(u=f.baseClass).__derivedClasses)&&void 0!==m||(u.__derivedClasses=[]),f.baseClass.__derivedClasses.push(f));var v=new dt(d,f,!0,!1,!1),g=new dt(d+"*",f,!1,!1,!1),b=new dt(d+" const*",f,!1,!0,!1);return Fe[e]={pointerType:g,constPointerType:b},ht(h,o),[v,g,b]}))},Dt=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(_[t+4*n>>2]);return r};function Tt(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}function xt(e,t,r,n,a,i){var o=t.length;o<2&&Ce("argTypes array size mismatch! Must at least get return value and 'this' types!");var s=null!==t[1]&&null!==r,l=Tt(t),c="void"!==t[0].name,d=o-2,u=new Array(d),p=[],h=[],m=function(){var r;arguments.length!==d&&Ce(`function ${e} called with ${arguments.length} arguments, expected ${d}`),h.length=0,p.length=s?2:1,p[0]=a,s&&(r=t[1].toWireType(h,this),p[1]=r);for(var i=0;i<d;++i)u[i]=t[i+2].toWireType(h,arguments[i]),p.push(u[i]);var o=n.apply(null,p);function m(e){if(l)ce(h);else for(var n=s?1:2;n<t.length;n++){var a=1===n?r:u[n-2];null!==t[n].destructorFunction&&t[n].destructorFunction(a)}if(c)return t[0].fromWireType(e)}return m(o)};return Ke(e,m)}var St=(e,t,r,n,a,i)=>{var o=Dt(t,r);a=yt(n,a),be([],[e],(function(e){e=e[0];var r=`constructor ${e.name}`;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new he(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[t-1]=()=>{kt(`Cannot construct ${e.name} due to unbound types`,o)},be([],o,(n=>(n.splice(1,0,null),e.registeredClass.constructor_body[t-1]=xt(r,n,null,a,i),[]))),[]}))},Pt=e=>{e=e.trim();const t=e.indexOf("(");return-1!==t?e.substr(0,t):e},Et=(e,t,r,n,a,i,o,s,l)=>{var c=Dt(r,n);t=ke(t),t=Pt(t),i=yt(a,i),be([],[e],(function(e){e=e[0];var n=`${e.name}.${t}`;function a(){kt(`Cannot call ${n} due to unbound types`,c)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var l=e.registeredClass.instancePrototype,d=l[t];return void 0===d||void 0===d.overloadTable&&d.className!==e.name&&d.argCount===r-2?(a.argCount=r-2,a.className=e.name,l[t]=a):(Je(l,t,n),l[t].overloadTable[r-2]=a),be([],c,(function(a){var s=xt(n,a,e,i,o);return void 0===l[t].overloadTable?(s.argCount=r-2,l[t]=s):l[t].overloadTable[r-2]=s,[]})),[]}))};function At(){Object.assign($t.prototype,{get(e){return this.allocated[e]},has(e){return void 0!==this.allocated[e]},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}})}function $t(){this.allocated=[void 0],this.freelist=[]}var Ot=new $t,Ut=e=>{e>=Ot.reserved&&0===--Ot.get(e).refcount&&Ot.free(e)},jt=()=>{for(var e=0,t=Ot.reserved;t<Ot.allocated.length;++t)void 0!==Ot.allocated[t]&&++e;return e},Mt=()=>{Ot.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),Ot.reserved=Ot.allocated.length,a.count_emval_handles=jt},Ft={toValue:e=>(e||Ce("Cannot use deleted val. handle = "+e),Ot.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ot.allocate({refcount:1,value:e})}}},qt=(e,t)=>{t=ke(t),Te(e,{name:t,fromWireType:e=>{var t=Ft.toValue(e);return Ut(e),t},toWireType:(e,t)=>Ft.toHandle(t),argPackAdvance:Se,readValueFromPointer:de,destructorFunction:null})},zt=(e,t,r)=>{switch(t){case 1:return r?function(e){return this.fromWireType(f[e>>0])}:function(e){return this.fromWireType(v[e>>0])};case 2:return r?function(e){return this.fromWireType(g[e>>1])}:function(e){return this.fromWireType(b[e>>1])};case 4:return r?function(e){return this.fromWireType(y[e>>2])}:function(e){return this.fromWireType(_[e>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},It=(e,t,r,n)=>{function a(){}t=ke(t),a.values={},Te(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:(e,t)=>t.value,argPackAdvance:Se,readValueFromPointer:zt(t,r,n),destructorFunction:null}),Xe(t,a)},Vt=(e,t)=>{var r=fe[e];return void 0===r&&Ce(t+" has unknown type "+wt(e)),r},Nt=(e,t,r)=>{var n=Vt(e,"enum");t=ke(t);var a=n.constructor,i=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:Ke(`${n.name}_${t}`,(function(){}))}});a.values[r]=i,a[t]=i},Rt=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},Lt=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(w[e>>2])};case 8:return function(e){return this.fromWireType(k[e>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Bt=(e,t,r)=>{t=ke(t),Te(e,{name:t,fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:Se,readValueFromPointer:Lt(t,r),destructorFunction:null})},Ht=(e,t,r,n,a,i,o)=>{var s=Dt(t,r);e=ke(e),e=Pt(e),a=yt(n,a),Xe(e,(function(){kt(`Cannot call ${e} due to unbound types`,s)}),t-1),be([],s,(function(r){var n=[r[0],null].concat(r.slice(1));return ht(e,xt(e,n,null,a,i),t-1),[]}))},Wt=(e,t,r)=>{switch(t){case 1:return r?e=>f[e>>0]:e=>v[e>>0];case 2:return r?e=>g[e>>1]:e=>b[e>>1];case 4:return r?e=>y[e>>2]:e=>_[e>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Zt=(e,t,r,n,a)=>{t=ke(t);var i=e=>e;if(0===n){var o=32-8*r;i=e=>e<<o>>>o}var s,l=t.includes("unsigned"),c=(e,t)=>{};s=l?function(e,t){return c(t,this.name),t>>>0}:function(e,t){return c(t,this.name),t},Te(e,{name:t,fromWireType:i,toWireType:s,argPackAdvance:Se,readValueFromPointer:Wt(t,r,0!==n),destructorFunction:null})},Yt=(e,t,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=n[t];function i(e){var t=_[e>>2],r=_[e+4>>2];return new a(f.buffer,r,t)}r=ke(r),Te(e,{name:r,fromWireType:i,argPackAdvance:Se,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},Gt=(e,t,r,n)=>{if(!(n>0))return 0;for(var a=r,i=r+n-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){var l=e.charCodeAt(++o);s=65536+((1023&s)<<10)|1023&l}if(s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-a},Qt=(e,t,r)=>Gt(e,v,t,r),Kt=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},Jt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Xt=(e,t,r)=>{for(var n=t+r,a=t;e[a]&&!(a>=n);)++a;if(a-t>16&&e.buffer&&Jt)return Jt.decode(e.subarray(t,a));for(var i="";t<a;){var o=e[t++];if(128&o){var s=63&e[t++];if(192!=(224&o)){var l=63&e[t++];if(o=224==(240&o)?(15&o)<<12|s<<6|l:(7&o)<<18|s<<12|l<<6|63&e[t++],o<65536)i+=String.fromCharCode(o);else{var c=o-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&o)<<6|s)}else i+=String.fromCharCode(o)}return i},er=(e,t)=>e?Xt(v,e,t):"",tr=(e,t)=>{t=ke(t);var r="std::string"===t;Te(e,{name:t,fromWireType(e){var t,n=_[e>>2],a=e+4;if(r)for(var i=a,o=0;o<=n;++o){var s=a+o;if(o==n||0==v[s]){var l=s-i,c=er(i,l);void 0===t?t=c:(t+="\0",t+=c),i=s+1}}else{var d=new Array(n);for(o=0;o<n;++o)d[o]=String.fromCharCode(v[a+o]);t=d.join("")}return Qr(e),t},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n,a="string"==typeof t;a||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Ce("Cannot pass non-string to std::string"),n=r&&a?Kt(t):t.length;var i=Kr(4+n+1),o=i+4;if(_[i>>2]=n,r&&a)Qt(t,o,n+1);else if(a)for(var s=0;s<n;++s){var l=t.charCodeAt(s);l>255&&(Qr(o),Ce("String has UTF-16 code units that do not fit in 8 bits")),v[o+s]=l}else for(s=0;s<n;++s)v[o+s]=t[s];return null!==e&&e.push(Qr,i),i},argPackAdvance:Se,readValueFromPointer:lt,destructorFunction(e){Qr(e)}})},rr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,nr=(e,t)=>{for(var r=e,n=r>>1,a=n+t/2;!(n>=a)&&b[n];)++n;if(r=n<<1,r-e>32&&rr)return rr.decode(v.subarray(e,r));for(var i="",o=0;!(o>=t/2);++o){var s=g[e+2*o>>1];if(0==s)break;i+=String.fromCharCode(s)}return i},ar=(e,t,r)=>{var n;if(null!==(n=r)&&void 0!==n||(r=2147483647),r<2)return 0;r-=2;for(var a=t,i=r<2*e.length?r/2:e.length,o=0;o<i;++o){var s=e.charCodeAt(o);g[t>>1]=s,t+=2}return g[t>>1]=0,t-a},ir=e=>2*e.length,or=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var a=y[e+4*r>>2];if(0==a)break;if(++r,a>=65536){var i=a-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(a)}return n},sr=(e,t,r)=>{var n;if(null!==(n=r)&&void 0!==n||(r=2147483647),r<4)return 0;for(var a=t,i=a+r-4,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){var l=e.charCodeAt(++o);s=65536+((1023&s)<<10)|1023&l}if(y[t>>2]=s,t+=4,t+4>i)break}return y[t>>2]=0,t-a},lr=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},cr=(e,t,r)=>{var n,a,i,o,s;r=ke(r),2===t?(n=nr,a=ar,o=ir,i=()=>b,s=1):4===t&&(n=or,a=sr,o=lr,i=()=>_,s=2),Te(e,{name:r,fromWireType:e=>{for(var r,a=_[e>>2],o=i(),l=e+4,c=0;c<=a;++c){var d=e+4+c*t;if(c==a||0==o[d>>s]){var u=d-l,p=n(l,u);void 0===r?r=p:(r+="\0",r+=p),l=d+t}}return Qr(e),r},toWireType:(e,n)=>{"string"!=typeof n&&Ce(`Cannot pass non-string to C++ string type ${r}`);var i=o(n),l=Kr(4+i+t);return _[l>>2]=i>>s,a(n,l+4,i+t),null!==e&&e.push(Qr,l),l},argPackAdvance:Se,readValueFromPointer:de,destructorFunction(e){Qr(e)}})},dr=(e,t,r,n,a,i)=>{le[e]={name:ke(t),rawConstructor:yt(r,n),rawDestructor:yt(a,i),fields:[]}},ur=(e,t,r,n,a,i,o,s,l,c)=>{le[e].fields.push({fieldName:ke(t),getterReturnType:r,getter:yt(n,a),getterContext:i,setterArgumentType:o,setter:yt(s,l),setterContext:c})},pr=(e,t)=>{t=ke(t),Te(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(e,t)=>{}})},hr=[],mr=(e,t,r,n)=>(e=hr[e],t=Ft.toValue(t),e(null,t,r,n)),fr={},vr=e=>{var t=fr[e];return void 0===t?ke(e):t},gr=()=>{if("object"==typeof globalThis)return globalThis;function e(e){e.$$$embind_global$$$=e;var t="object"==typeof $$$embind_global$$$&&e.$$$embind_global$$$==e;return t||delete e.$$$embind_global$$$,t}if("object"==typeof $$$embind_global$$$||("object"==typeof global&&e(global)?$$$embind_global$$$=global:"object"==typeof self&&e(self)&&($$$embind_global$$$=self),"object"==typeof $$$embind_global$$$))return $$$embind_global$$$;throw Error("unable to get global object.")},br=e=>0===e?Ft.toHandle(gr()):(e=vr(e),Ft.toHandle(gr()[e])),yr=e=>{var t=hr.length;return hr.push(e),t},_r=(e,t)=>{for(var r=new Array(e),n=0;n<e;++n)r[n]=Vt(_[t+4*n>>2],"parameter "+n);return r},wr=Reflect.construct,kr=(e,t,r)=>{var n=[],a=e.toWireType(n,r);return n.length&&(_[t>>2]=Ft.toHandle(n)),a},Cr=(e,t,r)=>{var n=_r(e,t),a=n.shift();e--;var i=new Array(e),o=(t,o,s,l)=>{for(var c=0,d=0;d<e;++d)i[d]=n[d].readValueFromPointer(l+c),c+=n[d].argPackAdvance;var u=1===r?wr(o,i):o.apply(t,i);for(d=0;d<e;++d){var p,h;null===(p=(h=n[d]).deleteObject)||void 0===p||p.call(h,i[d])}return kr(a,s,u)},s=`methodCaller<(${n.map((e=>e.name)).join(", ")}) => ${a.name}>`;return yr(Ke(s,o))},Dr=e=>{e>4&&(Ot.get(e).refcount+=1)},Tr=e=>{var t=Ft.toValue(e);ce(t),Ut(e)},xr=(e,t)=>{e=Vt(e,"_emval_take_value");var r=e.readValueFromPointer(t);return Ft.toHandle(r)},Sr=()=>{z("")},Pr=(e,t,r)=>v.copyWithin(e,t,t+r),Er=()=>2147483648,Ar=e=>{var t=m.buffer,r=(e-t.byteLength+65535)/65536;try{return m.grow(r),D(),1}catch(n){}},$r=e=>{var t=v.length;e>>>=0;var r=Er();if(e>r)return!1;for(var n=(e,t)=>e+(t-e%t)%t,a=1;a<=4;a*=2){var i=t*(1+.2/a);i=Math.min(i,e+100663296);var o=Math.min(r,n(Math.max(e,i),65536)),s=Ar(o);if(s)return!0}return!1},Or={},Ur=()=>o||"./this.program",jr=()=>{if(!jr.strings){var e=("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Ur()};for(var r in Or)void 0===Or[r]?delete t[r]:t[r]=Or[r];var n=[];for(var r in t)n.push(`${r}=${t[r]}`);jr.strings=n}return jr.strings},Mr=(e,t)=>{for(var r=0;r<e.length;++r)f[t++>>0]=e.charCodeAt(r);f[t>>0]=0},Fr=(e,t)=>{var r=0;return jr().forEach(((n,a)=>{var i=t+r;_[e+4*a>>2]=i,Mr(n,i),r+=n.length+1})),0},qr=(e,t)=>{var r=jr();_[e>>2]=r.length;var n=0;return r.forEach((e=>n+=e.length+1)),_[t>>2]=n,0},zr=e=>e,Ir=e=>e%4===0&&(e%100!==0||e%400===0),Vr=(e,t)=>{for(var r=0,n=0;n<=t;r+=e[n++]);return r},Nr=[31,29,31,30,31,30,31,31,30,31,30,31],Rr=[31,28,31,30,31,30,31,31,30,31,30,31],Lr=(e,t)=>{for(var r=new Date(e.getTime());t>0;){var n=Ir(r.getFullYear()),a=r.getMonth(),i=(n?Nr:Rr)[a];if(!(t>i-r.getDate()))return r.setDate(r.getDate()+t),r;t-=i-r.getDate()+1,r.setDate(1),a<11?r.setMonth(a+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r};function Br(e,t,r){var n=Kt(e)+1,a=new Array(n);return Gt(e,a,0,a.length),a}var Hr=(e,t)=>{f.set(e,t)},Wr=(e,t,r,n)=>{var a=_[n+40>>2],i={tm_sec:y[n>>2],tm_min:y[n+4>>2],tm_hour:y[n+8>>2],tm_mday:y[n+12>>2],tm_mon:y[n+16>>2],tm_year:y[n+20>>2],tm_wday:y[n+24>>2],tm_yday:y[n+28>>2],tm_isdst:y[n+32>>2],tm_gmtoff:y[n+36>>2],tm_zone:a?er(a):""},o=er(r),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in s)o=o.replace(new RegExp(l,"g"),s[l]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function u(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function p(e,t){return u(e,t,"0")}function h(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function m(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function f(e){var t=Lr(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),a=m(r),i=m(n);return h(a,t)<=0?h(i,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var v={"%a":e=>c[e.tm_wday].substring(0,3),"%A":e=>c[e.tm_wday],"%b":e=>d[e.tm_mon].substring(0,3),"%B":e=>d[e.tm_mon],"%C":e=>{var t=e.tm_year+1900;return p(t/100|0,2)},"%d":e=>p(e.tm_mday,2),"%e":e=>u(e.tm_mday,2," "),"%g":e=>f(e).toString().substring(2),"%G":e=>f(e),"%H":e=>p(e.tm_hour,2),"%I":e=>{var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),p(t,2)},"%j":e=>p(e.tm_mday+Vr(Ir(e.tm_year+1900)?Nr:Rr,e.tm_mon-1),3),"%m":e=>p(e.tm_mon+1,2),"%M":e=>p(e.tm_min,2),"%n":()=>"\n","%p":e=>e.tm_hour>=0&&e.tm_hour<12?"AM":"PM","%S":e=>p(e.tm_sec,2),"%t":()=>"\t","%u":e=>e.tm_wday||7,"%U":e=>{var t=e.tm_yday+7-e.tm_wday;return p(Math.floor(t/7),2)},"%V":e=>{var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var r=(e.tm_wday+371-e.tm_yday)%7;4!=r&&(3!=r||!Ir(e.tm_year))&&(t=1)}}else{t=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&Ir(e.tm_year%400-1))&&t++}return p(t,2)},"%w":e=>e.tm_wday,"%W":e=>{var t=e.tm_yday+7-(e.tm_wday+6)%7;return p(Math.floor(t/7),2)},"%y":e=>(e.tm_year+1900).toString().substring(2),"%Y":e=>e.tm_year+1900,"%z":e=>{var t=e.tm_gmtoff,r=t>=0;return t=Math.abs(t)/60,t=t/60*100+t%60,(r?"+":"-")+("0000"+t).slice(-4)},"%Z":e=>e.tm_zone,"%%":()=>"%"};for(var l in o=o.replace(/%%/g,"\0\0"),v)o.includes(l)&&(o=o.replace(new RegExp(l,"g"),v[l](i)));o=o.replace(/\0\0/g,"%");var g=Br(o);return g.length>t?0:(Hr(g,e),g.length-1)},Zr=(e,t,r,n,a)=>Wr(e,t,r,n);ue=a.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},we(),he=a.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Ge(),Re(),ct(),pt=a.UnboundTypeError=_t(Error,"UnboundTypeError"),At(),Mt();var Yr={s:Q,u:J,b:re,g:ne,q:ae,J:ie,f:oe,V:se,d:ee,da:ye,Q:_e,_:Pe,ca:Ct,ba:St,w:Et,Y:qt,x:It,h:Nt,L:Bt,M:Ht,t:Zt,o:Yt,K:tr,C:cr,A:dr,ea:ur,$:pr,R:mr,ha:Ut,fa:br,Z:Cr,N:Dr,O:Tr,aa:xr,B:Sr,X:Pr,W:$r,T:Fr,U:qr,E:Tn,D:mn,F:Dn,n:xn,a:dn,e:vn,m:hn,k:bn,H:kn,v:_n,G:Cn,z:Pn,P:An,l:gn,j:fn,c:pn,p:un,I:wn,r:Sn,i:yn,y:En,ga:zr,S:Zr},Gr=W(),Qr=a._free=e=>(Qr=a._free=Gr.ka)(e),Kr=a._malloc=e=>(Kr=a._malloc=Gr.la)(e),Jr=e=>(Jr=Gr.na)(e),Xr=(e,t)=>(Xr=Gr.oa)(e,t),en=e=>(en=Gr.pa)(e),tn=()=>(tn=Gr.qa)(),rn=e=>(rn=Gr.ra)(e),nn=e=>(nn=Gr.sa)(e),an=e=>(an=Gr.ta)(e),on=(e,t,r)=>(on=Gr.ua)(e,t,r),sn=e=>(sn=Gr.va)(e);a.dynCall_viijii=(e,t,r,n,i,o,s)=>(a.dynCall_viijii=Gr.wa)(e,t,r,n,i,o,s);var ln,cn=a.dynCall_jiiii=(e,t,r,n,i)=>(cn=a.dynCall_jiiii=Gr.xa)(e,t,r,n,i);function dn(e,t){var r=tn();try{return vt(e)(t)}catch(n){if(rn(r),n!==n+0)throw n;Xr(1,0)}}function un(e,t,r,n){var a=tn();try{vt(e)(t,r,n)}catch(i){if(rn(a),i!==i+0)throw i;Xr(1,0)}}function pn(e,t,r){var n=tn();try{vt(e)(t,r)}catch(a){if(rn(n),a!==a+0)throw a;Xr(1,0)}}function hn(e,t,r,n){var a=tn();try{return vt(e)(t,r,n)}catch(i){if(rn(a),i!==i+0)throw i;Xr(1,0)}}function mn(e,t,r,n,a){var i=tn();try{return vt(e)(t,r,n,a)}catch(o){if(rn(i),o!==o+0)throw o;Xr(1,0)}}function fn(e,t){var r=tn();try{vt(e)(t)}catch(n){if(rn(r),n!==n+0)throw n;Xr(1,0)}}function vn(e,t,r){var n=tn();try{return vt(e)(t,r)}catch(a){if(rn(n),a!==a+0)throw a;Xr(1,0)}}function gn(e){var t=tn();try{vt(e)()}catch(r){if(rn(t),r!==r+0)throw r;Xr(1,0)}}function bn(e,t,r,n,a){var i=tn();try{return vt(e)(t,r,n,a)}catch(o){if(rn(i),o!==o+0)throw o;Xr(1,0)}}function yn(e,t,r,n,a,i,o,s,l,c,d){var u=tn();try{vt(e)(t,r,n,a,i,o,s,l,c,d)}catch(p){if(rn(u),p!==p+0)throw p;Xr(1,0)}}function _n(e,t,r,n,a,i,o){var s=tn();try{return vt(e)(t,r,n,a,i,o)}catch(l){if(rn(s),l!==l+0)throw l;Xr(1,0)}}function wn(e,t,r,n,a){var i=tn();try{vt(e)(t,r,n,a)}catch(o){if(rn(i),o!==o+0)throw o;Xr(1,0)}}function kn(e,t,r,n,a,i){var o=tn();try{return vt(e)(t,r,n,a,i)}catch(s){if(rn(o),s!==s+0)throw s;Xr(1,0)}}function Cn(e,t,r,n,a,i,o,s){var l=tn();try{return vt(e)(t,r,n,a,i,o,s)}catch(c){if(rn(l),c!==c+0)throw c;Xr(1,0)}}function Dn(e,t,r,n){var a=tn();try{return vt(e)(t,r,n)}catch(i){if(rn(a),i!==i+0)throw i;Xr(1,0)}}function Tn(e,t,r,n){var a=tn();try{return vt(e)(t,r,n)}catch(i){if(rn(a),i!==i+0)throw i;Xr(1,0)}}function xn(e){var t=tn();try{return vt(e)()}catch(r){if(rn(t),r!==r+0)throw r;Xr(1,0)}}function Sn(e,t,r,n,a,i,o,s){var l=tn();try{vt(e)(t,r,n,a,i,o,s)}catch(c){if(rn(l),c!==c+0)throw c;Xr(1,0)}}function Pn(e,t,r,n,a,i,o,s,l,c,d,u){var p=tn();try{return vt(e)(t,r,n,a,i,o,s,l,c,d,u)}catch(h){if(rn(p),h!==h+0)throw h;Xr(1,0)}}function En(e,t,r,n,a,i,o,s,l,c,d,u,p,h,m,f){var v=tn();try{vt(e)(t,r,n,a,i,o,s,l,c,d,u,p,h,m,f)}catch(g){if(rn(v),g!==g+0)throw g;Xr(1,0)}}function An(e,t,r,n,a){var i=tn();try{return cn(e,t,r,n,a)}catch(o){if(rn(i),o!==o+0)throw o;Xr(1,0)}}function $n(){function e(){ln||(ln=!0,a.calledRun=!0,!C&&(E(),r(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),A()))}j>0||(P(),j>0)||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),e()}),1)):e())}if(a.dynCall_iiiiij=(e,t,r,n,i,o,s)=>(a.dynCall_iiiiij=Gr.ya)(e,t,r,n,i,o,s),a.dynCall_iiiiijj=(e,t,r,n,i,o,s,l,c)=>(a.dynCall_iiiiijj=Gr.za)(e,t,r,n,i,o,s,l,c),a.dynCall_iiiiiijj=(e,t,r,n,i,o,s,l,c,d)=>(a.dynCall_iiiiiijj=Gr.Aa)(e,t,r,n,i,o,s,l,c,d),M=function e(){ln||$n(),ln||(M=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return $n(),t.ready}})();function ye(e){return me(be,e)}async function _e(e,t){return fe(be,e,t)}async function we(e,t){return ve(be,e,t)}class ke extends EventTarget{constructor(e={}){var t;super(),x(this,ge,void 0);try{const r=null==(t=null==e?void 0:e.formats)?void 0:t.filter((e=>"unknown"!==e));if(0===(null==r?void 0:r.length))throw new TypeError("Hint option provided, but is empty.");null==r||r.forEach((e=>{if(!A.has(e))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${e}' is not a valid enum value of type BarcodeFormat.`)})),S(this,ge,null!=r?r:[]),ye().then((e=>{this.dispatchEvent(new CustomEvent("load",{detail:e}))})).catch((e=>{this.dispatchEvent(new CustomEvent("error",{detail:e}))}))}catch(r){throw J(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return E.filter((e=>"unknown"!==e))}async detect(e){try{const r=await W(e);if(null===r)return[];let n;try{n=V(r)?await _e(r,{tryHarder:!0,formats:T(this,ge).map((e=>A.get(e)))}):await we(r,{tryHarder:!0,formats:T(this,ge).map((e=>A.get(e)))})}catch(t){throw console.error(t),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return n.map((e=>{const{topLeft:{x:t,y:r},topRight:{x:n,y:a},bottomLeft:{x:i,y:o},bottomRight:{x:s,y:l}}=e.position,c=Math.min(t,n,i,s),d=Math.min(r,a,o,l),u=Math.max(t,n,i,s),p=Math.max(r,a,o,l);return{boundingBox:new DOMRectReadOnly(c,d,u-c,p-d),rawValue:e.text,format:$(e.format),cornerPoints:[{x:t,y:r},{x:n,y:a},{x:s,y:l},{x:i,y:o}]}}))}catch(r){throw J(r,"Failed to execute 'detect' on 'BarcodeDetector'")}}}ge=new WeakMap;const Ce=(e,t,r="error")=>{let n,a;const i=new Promise(((i,o)=>{n=i,a=o,e.addEventListener(t,n),e.addEventListener(r,a)}));return i.finally((()=>{e.removeEventListener(t,n),e.removeEventListener(r,a)})),i},De=e=>new Promise((t=>setTimeout(t,e)));Error;class Te extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class xe extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Se extends Error{constructor(){super("Loading camera stream timed out after 6 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let Pe;function Ee(e){Pe=new ke({formats:e})}const Ae=async(e,{detectHandler:t,locateHandler:r,minDelay:n,formats:a})=>{console.debug("[vue-qrcode-reader] start scanning"),Ee(a);const i=a=>async o=>{if(0===e.readyState)console.debug("[vue-qrcode-reader] stop scanning: video element readyState is 0");else{const{lastScanned:s,contentBefore:l,lastScanHadContent:c}=a;if(o-s<n)window.requestAnimationFrame(i(a));else{const n=await Pe.detect(e),a=n.some((e=>!l.includes(e.rawValue)));a&&t(n);const s=n.length>0;s&&r(n),!s&&c&&r(n);const d={lastScanned:o,lastScanHadContent:s,contentBefore:a?n.map((e=>e.rawValue)):l};window.requestAnimationFrame(i(d))}}};i({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var $e={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.compactObject=Ye,Oe.deprecated=He;var Ue=Oe.detectBrowser=We;function je(e,t,r){return t=Me(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Me(e){var t=Fe(e,"string");return"symbol"===qe(t)?t:String(t)}function Fe(e,t){if("object"!==qe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}Oe.disableLog=Re,Oe.disableWarnings=Le,Oe.extractVersion=Ve,Oe.filterStats=Qe,Oe.log=Be,Oe.walkStats=Ge,Oe.wrapPeerConnectionEvent=Ne;var ze=!0,Ie=!0;function Ve(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function Ne(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,a=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return a.apply(this,arguments);var i=function(e){var t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,i),a.apply(this,[e,i])};var i=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(r))return i.apply(this,arguments);var n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function Re(e){return"boolean"!=typeof e?new Error("Argument type: "+qe(e)+". Please use a boolean."):(ze=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Le(e){return"boolean"!=typeof e?new Error("Argument type: "+qe(e)+". Please use a boolean."):(Ie=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Be(){if("object"===(typeof window>"u"?"undefined":qe(window))){if(ze)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function He(e,t){Ie&&console.warn(e+" is deprecated, please use "+t+" instead.")}function We(e){var t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;var r=e.navigator;if(r.mozGetUserMedia)t.browser="firefox",t.version=Ve(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Ve(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=Ve(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function Ze(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ye(e){return Ze(e)?Object.keys(e).reduce((function(t,r){var n=Ze(e[r]),a=n?Ye(e[r]):e[r],i=n&&!Object.keys(a).length;return void 0===a||i?t:Object.assign(t,je({},r,a))}),{}):e}function Ge(e,t,r){!t||r.has(t.id)||(r.set(t.id,t),Object.keys(t).forEach((function(n){n.endsWith("Id")?Ge(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((function(t){Ge(e,e.get(t),r)}))})))}function Qe(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",a=new Map;if(null===t)return a;var i=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((function(t){e.forEach((function(r){r.type===n&&r.trackId===t.id&&Ge(e,r,a)}))})),a}Object.defineProperty($e,"__esModule",{value:!0});var Ke=$e.shimGetUserMedia=nt,Je=et(Oe);function Xe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(Xe=function(e){return e?r:t})(e)}function et(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==tt(e)&&"function"!=typeof e)return{default:e};var r=Xe(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function tt(e){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(e)}var rt=Je.log;function nt(e,t){var r=e&&e.navigator;if(r.mediaDevices){var n=function(e){if("object"!==tt(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"===tt(e[r])?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var a=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var i={};"number"==typeof n.ideal?(i[a("min",r)]=n.ideal,t.optional.push(i),i={},i[a("max",r)]=n.ideal,t.optional.push(i)):(i[a("",r)]=n.ideal,t.optional.push(i))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[a("",r)]=n.exact):["min","max"].forEach((function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[a(e,r)]=n[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},a=function(e,a){if(t.version>=61)return a(e);if(e=JSON.parse(JSON.stringify(e)),e&&"object"===tt(e.audio)){var i=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};e=JSON.parse(JSON.stringify(e)),i(e.audio,"autoGainControl","googAutoGainControl"),i(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"===tt(e.video)){var o=e.video.facingMode;o=o&&("object"===tt(o)?o:{ideal:o});var s,l=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||l))if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?s=["back","rear"]:("user"===o.exact||"user"===o.ideal)&&(s=["front"]),s)return r.mediaDevices.enumerateDevices().then((function(t){t=t.filter((function(e){return"videoinput"===e.kind}));var r=t.find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!r&&t.length&&s.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=o.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=n(e.video),rt("chrome: "+JSON.stringify(e)),a(e)}));e.video=n(e.video)}return rt("chrome: "+JSON.stringify(e)),a(e)},i=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},o=function(e,t,n){a(e,(function(e){r.webkitGetUserMedia(e,t,(function(e){n&&n(i(e))}))}))};if(r.getUserMedia=o.bind(r),r.mediaDevices.getUserMedia){var s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return a(e,(function(e){return s(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(i(e))}))}))}}}}var at={};Object.defineProperty(at,"__esModule",{value:!0});var it=at.shimGetUserMedia=dt,ot=lt(Oe);function st(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(st=function(e){return e?r:t})(e)}function lt(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==ct(e)&&"function"!=typeof e)return{default:e};var r=st(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function dt(e,t){var r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){ot.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var a=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},i=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"===ct(e)&&"object"===ct(e.audio)&&(e=JSON.parse(JSON.stringify(e)),a(e.audio,"autoGainControl","mozAutoGainControl"),a(e.audio,"noiseSuppression","mozNoiseSuppression")),i(e)},n&&n.prototype.getSettings){var o=n.prototype.getSettings;n.prototype.getSettings=function(){var e=o.apply(this,arguments);return a(e,"mozAutoGainControl","autoGainControl"),a(e,"mozNoiseSuppression","noiseSuppression"),e}}if(n&&n.prototype.applyConstraints){var s=n.prototype.applyConstraints;n.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===ct(e)&&(e=JSON.parse(JSON.stringify(e)),a(e,"autoGainControl","mozAutoGainControl"),a(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.shimAudioContext=Tt,ut.shimCallbacksAPI=yt,ut.shimConstraints=wt,ut.shimCreateOfferLegacy=Dt;var pt=ut.shimGetUserMedia=_t;ut.shimLocalStreamsAPI=gt,ut.shimRTCIceServerUrls=kt,ut.shimRemoteStreamsAPI=bt,ut.shimTrackEventTransceiver=Ct;var ht=ft(Oe);function mt(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(mt=function(e){return e?r:t})(e)}function ft(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==vt(e)&&"function"!=typeof e)return{default:e};var r=mt(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function gt(e){if("object"===vt(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(n){return t.call(r,n,e)})),e.getVideoTracks().forEach((function(n){return t.call(r,n,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=this,n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a&&a.forEach((function(e){r._localStreams?r._localStreams.includes(e)||r._localStreams.push(e):r._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var n=e.getTracks();this.getSenders().forEach((function(e){n.includes(e.track)&&t.removeTrack(e)}))}})}}function bt(e){if("object"===vt(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}}))}),t.apply(e,arguments)}}}function yt(e){if("object"===vt(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,a=t.setLocalDescription,i=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],a=r.apply(this,[n]);return t?(a.then(e,t),Promise.resolve()):a},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],a=n.apply(this,[r]);return t?(a.then(e,t),Promise.resolve()):a};var s=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){var n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}}function _t(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return n(wt(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function wt(e){return e&&void 0!==e.video?Object.assign({},e,{video:ht.compactObject(e.video)}):e}function kt(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var n=[],a=0;a<e.iceServers.length;a++){var i=e.iceServers[a];void 0===i.urls&&i.url?(ht.deprecated("RTCIceServer.url","RTCIceServer.urls"),i=JSON.parse(JSON.stringify(i)),i.urls=i.url,delete i.url,n.push(i)):n.push(e.iceServers[a])}e.iceServers=n}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function Ct(e){"object"===vt(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Dt(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){typeof e.offerToReceiveAudio<"u"&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0===e.offerToReceiveAudio&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),typeof e.offerToReceiveVideo<"u"&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0===e.offerToReceiveVideo&&!n&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Tt(e){"object"!==vt(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const xt=e=>{let t,r=!1;return(...n)=>(r||(t=e(n),r=!0),t)};function St(e,t){if(!1===e)throw new Error(null!=t?t:"assertion failure")}function Pt(e){throw new Error("this code should be unreachable")}const Et=xt((()=>{const e=Ue(window);switch(e.browser){case"chrome":Ke(window,e);break;case"firefox":it(window,e);break;case"safari":pt(window,e);break;default:throw new Te}}));let At=Promise.resolve({type:"stop",data:{}});async function $t(e,t,r){var n,a,i;if(console.debug("[vue-qrcode-reader] starting camera with constraints: ",JSON.stringify(t)),!0!==window.isSecureContext)throw new xe;if(void 0===(null==(n=null==navigator?void 0:navigator.mediaDevices)?void 0:n.getUserMedia))throw new Te;Et(),console.debug("[vue-qrcode-reader] calling getUserMedia");const o=await navigator.mediaDevices.getUserMedia({audio:!1,video:t});void 0!==e.srcObject?e.srcObject=o:void 0!==e.mozSrcObject?e.mozSrcObject=o:window.URL.createObjectURL?e.src=window.URL.createObjectURL(o):window.webkitURL?e.src=window.webkitURL.createObjectURL(o):e.src=o.id,e.play(),console.debug("[vue-qrcode-reader] waiting for video element to load"),await Promise.race([Ce(e,"loadeddata"),De(6e3).then((()=>{throw new Se}))]),console.debug("[vue-qrcode-reader] video element loaded"),await De(500);const[s]=o.getVideoTracks(),l=null!=(i=null==(a=null==s?void 0:s.getCapabilities)?void 0:a.call(s))?i:{};let c=!1;return r&&l.torch&&(await s.applyConstraints({advanced:[{torch:!0}]}),c=!0),console.debug("[vue-qrcode-reader] camera ready"),{type:"start",data:{videoEl:e,stream:o,capabilities:l,constraints:t,isTorchOn:c}}}async function Ot(e,{constraints:t,torch:r,restart:n=!1}){At=At.then((a=>{if("start"===a.type){const{data:{videoEl:i,stream:o,constraints:s,isTorchOn:l}}=a;return n||e!==i||t!==s||r!==l?Ut(i,o,l).then((()=>$t(e,t,r))):a}if("stop"===a.type||"failed"===a.type)return $t(e,t,r);Pt()})).catch((e=>(console.debug(`[vue-qrcode-reader] starting camera failed with "${e}"`),{type:"failed",error:e})));const a=await At;if("stop"===a.type)throw new Error("Something went wrong with the camera task queue (start task).");if("failed"===a.type)throw a.error;if("start"===a.type)return a.data.capabilities;Pt()}async function Ut(e,t,r){console.debug("[vue-qrcode-reader] stopping camera"),e.src="",e.srcObject=null,e.load(),await Ce(e,"error");for(const n of t.getTracks())null!=r||await n.applyConstraints({advanced:[{torch:!1}]}),t.removeTrack(n),n.stop();return{type:"stop",data:{}}}async function jt(){if(At=At.then((e=>{if("stop"===e.type||"failed"===e.type)return e;const{data:{videoEl:t,stream:r,isTorchOn:n}}=e;return Ut(t,r,n)})),"start"===(await At).type)throw new Error("Something went wrong with the camera task queue (stop task).")}const Mt=(0,n.aZ)({__name:"QrcodeStream",props:{constraints:{default:()=>({facingMode:"environment"})},formats:{default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function,default:void 0}},emits:["detect","camera-on","camera-off","error"],setup(e,{emit:t}){const r=e,i=t,o=(0,k.iH)(r.constraints),s=(0,k.iH)(r.formats);(0,n.YP)((()=>r.constraints),((e,t)=>{JSON.stringify(e)!==JSON.stringify(t)&&(o.value=e)}),{deep:!0}),(0,n.YP)((()=>r.formats),((e,t)=>{JSON.stringify(e)!==JSON.stringify(t)&&(s.value=e)}),{deep:!0});const l=(0,k.iH)(),c=(0,k.iH)(),d=(0,k.iH)(),u=(0,k.iH)(!1),p=(0,k.iH)(!1);(0,n.bv)((()=>{p.value=!0})),(0,n.Ah)((()=>{jt()}));const h=(0,n.Fl)((()=>({torch:r.torch,constraints:o.value,shouldStream:p.value&&!r.paused})));(0,n.YP)(h,(async e=>{const t=d.value;St(void 0!==t,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const r=l.value;St(void 0!==r,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const n=r.getContext("2d");if(St(null!==n,"if cavnas is defined, canvas 2d context should also be non-null"),e.shouldStream){jt(),u.value=!1;try{const r=await Ot(t,e);p.value?(u.value=!0,i("camera-on",r)):await jt()}catch(a){i("error",a)}}else r.width=t.videoWidth,r.height=t.videoHeight,n.drawImage(t,0,0,t.videoWidth,t.videoHeight),jt(),u.value=!1,i("camera-off")}),{deep:!0}),(0,n.YP)(s,(e=>{p.value&&Ee(e)}));const m=(0,n.Fl)((()=>h.value.shouldStream&&u.value));(0,n.YP)(m,(e=>{if(e){St(void 0!==l.value,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),f(l.value),St(void 0!==c.value,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),f(c.value);const e=()=>void 0===r.track?500:40;St(void 0!==d.value,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),Ae(d.value,{detectHandler:e=>i("detect",e),formats:s.value,locateHandler:v,minDelay:e()})}}));const f=e=>{const t=e.getContext("2d");St(null!==t,"canvas 2d context should always be non-null"),t.clearRect(0,0,e.width,e.height)},v=e=>{const t=c.value;St(void 0!==t,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const n=d.value;if(St(void 0!==n,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),0===e.length||void 0===r.track)f(t);else{const a=n.offsetWidth,i=n.offsetHeight,o=n.videoWidth,s=n.videoHeight,l=Math.max(a/o,i/s),c=o*l,d=s*l,u=c/o,p=d/s,h=(a-c)/2,m=(i-d)/2,f=({x:e,y:t})=>({x:Math.floor(e*u),y:Math.floor(t*p)}),v=({x:e,y:t})=>({x:Math.floor(e+h),y:Math.floor(t+m)}),g=e.map((e=>{const{boundingBox:t,cornerPoints:r}=e,{x:n,y:a}=v(f({x:t.x,y:t.y})),{x:i,y:o}=f({x:t.width,y:t.height});return{...e,cornerPoints:r.map((e=>v(f(e)))),boundingBox:DOMRectReadOnly.fromRect({x:n,y:a,width:i,height:o})}}));t.width=n.offsetWidth,t.height=n.offsetHeight;const b=t.getContext("2d");St(null!==b,"canvas 2d context should always be non-null"),r.track(g,b)}},g={width:"100%",height:"100%",position:"relative","z-index":"0"},b={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},y={width:"100%",height:"100%","object-fit":"cover"},_=(0,n.Fl)((()=>m.value?y:{...y,visibility:"hidden",position:"absolute"}));return(e,t)=>((0,n.wg)(),(0,n.iD)("div",{style:g},[(0,n._)("video",{ref_key:"videoRef",ref:d,style:(0,a.j5)(_.value),autoplay:"",muted:"",playsinline:""},null,4),(0,n.wy)((0,n._)("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:l,style:y},null,512),[[C.F8,!m.value]]),(0,n._)("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:c,style:b},null,512),(0,n._)("div",{style:b},[(0,n.WI)(e.$slots,"default")])]))}});var Ft=r(4161),qt={name:"QRScanner",components:{QrcodeStream:Mt},data(){return{scanning:!1,result:"",ticket:null,error:"",notFound:!1}},methods:{startScanning(){this.scanning=!0},async onDetect(e){const t=e[0]?.rawValue;this.result=t,this.ticket=null,this.notFound=!1;try{const e=await Ft.Z.get(`https://event-ticket-qa70.onrender.com/api/order/${t}`);this.ticket=e.data.order}catch(r){r.response&&404===r.response.status?this.notFound=!0:this.error="Server error. Please try again.",console.error(r)}},onError(e){console.error(e),this.error="Camera access or scanning failed."}}},zt=r(89);const It=(0,zt.Z)(qt,[["render",w],["__scopeId","data-v-9c9f7742"]]);var Vt=It},8189:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var n=r(3396),a=r(9242);const i={class:"h-100 pt-5"},o={class:"authincation h-100"},s={class:"container h-100"},l={class:"row justify-content-center h-100 align-items-center"},c={class:"col-md-6"},d={class:"authincation-content"},u={class:"row no-gutters"},p={class:"col-xl-12"},h={class:"auth-form"},m=(0,n._)("h4",{class:"text-center mb-4"},"Forgot Password",-1),f={class:"form-group"},v=(0,n._)("label",null,[(0,n._)("strong",null,"Email")],-1),g=(0,n._)("div",{class:"text-center"},[(0,n._)("button",{type:"submit",class:"btn btn-primary btn-block"},"SUBMIT")],-1);function b(e,t,r,b,y,_){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("body",i,[(0,n._)("div",o,[(0,n._)("div",s,[(0,n._)("div",l,[(0,n._)("div",c,[(0,n._)("div",d,[(0,n._)("div",u,[(0,n._)("div",p,[(0,n._)("div",h,[m,(0,n._)("form",{onSubmit:t[1]||(t[1]=(0,a.iM)(((...e)=>_.handleSubmit&&_.handleSubmit(...e)),["prevent"]))},[(0,n._)("div",f,[v,(0,n.wy)((0,n._)("input",{type:"email",class:"form-control",placeholder:"hello@example.com","onUpdate:modelValue":t[0]||(t[0]=e=>y.email=e)},null,512),[[a.nr,y.email]])]),g],32)])])])])])])])])])])}var y=r(4161),_=r(2492),w=r.n(_),k={data(){return{email:"",message:""}},methods:{async handleSubmit(){const e=await y.Z.post("https://event-ticket-qa70.onrender.com/api/auth/forgotPassword",{email:this.email}).then((e=>{this.message=e.data.message,w().fire(e.data.message)})).catch((e=>console.log(e)));console.log(e)},clear(){this.$refs.form.reset()}}},C=r(89);const D=(0,C.Z)(k,[["render",b]]);var T=D},3802:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var n=r(3396),a=r(9242);const i=e=>((0,n.dD)("data-v-5a5753e9"),e=e(),(0,n.Cn)(),e),o={class:"login-wrapper"},s={class:"login-container"},l={class:"login-card"},c=i((()=>(0,n._)("h4",{class:"login-title"},"Welcome back",-1))),d={class:"form-group"},u={class:"form-group"},p=i((()=>(0,n._)("div",{class:"form-submit"},[(0,n._)("button",{type:"submit",class:"btn-primary"},"log in")],-1))),h={class:"text-center mt-3"},m={class:"text-center mt-3"},f={class:"auth-buttons"},v=i((()=>(0,n._)("span",{class:"google-icon"},"G",-1)));function g(e,t,r,i,g,b){const y=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",s,[(0,n._)("div",l,[c,(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>b.loginUser&&b.loginUser(...e)),["prevent"]))},[(0,n._)("div",d,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>g.email=e),type:"email",class:"form-input",placeholder:"Email",required:""},null,512),[[a.nr,g.email]])]),(0,n._)("div",u,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>g.password=e),type:"password",class:"form-input",placeholder:"Password",required:""},null,512),[[a.nr,g.password]])]),p,(0,n._)("p",h,[(0,n.Wm)(y,{to:"/forgot-password",class:"link-blue"},{default:(0,n.w5)((()=>[(0,n.Uk)("reset password")])),_:1})]),(0,n._)("p",m,[(0,n.Uk)(" dont have an account? "),(0,n.Wm)(y,{to:"/register",class:"link-blue"},{default:(0,n.w5)((()=>[(0,n.Uk)("Sign up")])),_:1})])],32),(0,n._)("div",f,[(0,n._)("button",{class:"btn-google",onClick:t[3]||(t[3]=(...e)=>b.login&&b.login(...e))},[v,(0,n.Uk)(" Log in with Google ")])])])])])}var b=r(65),y=r(6070),_=r(2492),w=r.n(_);r(2801);function k(e){this.message=e}k.prototype=new Error,k.prototype.name="InvalidCharacterError";"undefined"!=typeof window&&window.atob&&window.atob.bind(window);function C(e){this.message=e}C.prototype=new Error,C.prototype.name="InvalidTokenError";var D={data(){return{name:"",email:"",password:""}},methods:{...(0,b.nv)(["LOGIN_USER","sendCodeToBackend"]),login(){(0,y.hW)((e=>{e.accounts.oauth2.initCodeClient({client_id:"914476969936-ipf8ai34icgm2ob2der1u5b6bt4qca4s.apps.googleusercontent.com",scope:"email profile openid",redirect_uri:"https://event-ticket-qa70.onrender.com/auth/callback",callback:e=>{e.code&&this.sendCodeToBackend(e.code)}}).requestCode()}))},loginUser(){const e={email:this.email,password:this.password};this.LOGIN_USER(e).then((e=>{w().fire("login successful")})).catch((e=>{const t=e.message;w().fire("Oh oo!",`${t}`,"error")}))}}},T=r(89);const x=(0,T.Z)(D,[["render",g],["__scopeId","data-v-5a5753e9"]]);var S=x},6954:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var n=r(3396),a=r(9242);const i=e=>((0,n.dD)("data-v-08702cb6"),e=e(),(0,n.Cn)(),e),o={class:"signup-wrapper"},s={class:"signup-container"},l={class:"signup-card"},c=i((()=>(0,n._)("h4",{class:"signup-title"},"Sign up your account",-1))),d={class:"form-group"},u={class:"form-group"},p={class:"form-group"},h=i((()=>(0,n._)("div",{class:"form-submit"},[(0,n._)("button",{type:"submit",class:"btn-primary"},"Sign me up")],-1))),m={class:"text-center mt-3"};function f(e,t,r,i,f,v){const g=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",s,[(0,n._)("div",l,[c,(0,n._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>v.registerUser&&v.registerUser(...e)),["prevent"]))},[(0,n._)("div",d,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>f.name=e),type:"text",class:"form-input",placeholder:"Name",required:""},null,512),[[a.nr,f.name]])]),(0,n._)("div",u,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>f.email=e),type:"email",class:"form-input",placeholder:"Email",required:""},null,512),[[a.nr,f.email]])]),(0,n._)("div",p,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>f.password=e),type:"password",class:"form-input",placeholder:"Password",required:""},null,512),[[a.nr,f.password]])]),h],32),(0,n._)("p",m,[(0,n.Uk)(" Already have an account? "),(0,n.Wm)(g,{to:"/login",class:"link-blue"},{default:(0,n.w5)((()=>[(0,n.Uk)("Sign in")])),_:1})])])])])}r(7658);var v=r(65),g=r(2492),b=r.n(g),y={data(){return{name:"",email:"",password:""}},methods:{...(0,v.nv)(["REGISTER_USER"]),registerUser(){const e={name:this.name,email:this.email,password:this.password};this.REGISTER_USER(e).then((e=>{b().fire("Registration successful:"),this.$router.push({name:"login"})})).catch((e=>{const t=e.message;b().fire("Oh oo!",`${t}`,"error")}))}}},_=r(89);const w=(0,_.Z)(y,[["render",f],["__scopeId","data-v-08702cb6"]]);var k=w},3063:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var n=r(3396),a=r(9242);const i={class:"h-100 pt-5"},o={class:"authincation h-100"},s={class:"container h-100"},l={class:"row justify-content-center h-100 align-items-center"},c={class:"col-md-6"},d={class:"authincation-content"},u={class:"row no-gutters"},p={class:"col-xl-12"},h={class:"auth-form"},m=(0,n._)("h4",{class:"text-center mb-4"},"Update Password",-1),f={class:"form-group"},v=(0,n._)("label",null,[(0,n._)("strong",null,"password")],-1),g=(0,n._)("div",{class:"text-center"},[(0,n._)("button",{type:"submit",class:"btn btn-primary btn-block"}," SUBMIT ")],-1);function b(e,t,r,b,y,_){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("body",i,[(0,n._)("div",o,[(0,n._)("div",s,[(0,n._)("div",l,[(0,n._)("div",c,[(0,n._)("div",d,[(0,n._)("div",u,[(0,n._)("div",p,[(0,n._)("div",h,[m,(0,n._)("form",{onSubmit:t[1]||(t[1]=(0,a.iM)(((...e)=>_.handleSubmit&&_.handleSubmit(...e)),["prevent"]))},[(0,n._)("div",f,[v,(0,n.wy)((0,n._)("input",{class:"form-control",id:"inputPasswordOld",required:"",type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>y.password=e)},null,512),[[a.nr,y.password]])]),g],32)])])])])])])])])])])}var y=r(4161),_=r(2492),w=r.n(_),k={data(){return{password:"",message:""}},mounted(){},methods:{async handleSubmit(){const e=await y.Z.post("https://event-ticket-qa70.onrender.com/api/auth/updatePassword",{password:this.password,token:this.$route.query.token}).then((e=>{this.message=e.data.message,w().fire(e.data.message)})).catch((e=>console.log(e)));console.log(e)},clear(){this.$refs.form.reset()}}},C=r(89);const D=(0,C.Z)(k,[["render",b]]);var T=D},289:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(3396),a=r(9242);const i=e=>((0,n.dD)("data-v-74a4466f"),e=e(),(0,n.Cn)(),e),o={class:"login-wrapper"},s={class:"login-container"},l={class:"login-card"},c=i((()=>(0,n._)("h4",{class:"login-title"},"Staff Login",-1))),d={class:"form-group"},u={class:"form-group"},p=i((()=>(0,n._)("button",{type:"submit",class:"btn-primary"},"Log in",-1)));function h(e,t,r,i,h,m){return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",s,[(0,n._)("div",l,[c,(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>m.loginStaff&&m.loginStaff(...e)),["prevent"]))},[(0,n._)("div",d,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>h.name=e),type:"text",class:"form-control",required:"",placeholder:"Enter staff name"},null,512),[[a.nr,h.name]])]),(0,n._)("div",u,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>h.passcode=e),type:"passcode",class:"form-control",required:"",placeholder:"Enter passcode"},null,512),[[a.nr,h.passcode]])]),p],32)])])])}r(7658);var m=r(4161),f={data(){return{name:"",passcode:""}},methods:{async loginStaff(){try{const e=await m.Z.post("https://event-ticket-qa70.onrender.com/api/staff/login",{name:this.name,passcode:this.passcode});e.data.success?(localStorage.setItem("staffToken",e.data.token),alert("Staff login successful!"),this.$router.push("/scanner")):alert(e.data.message)}catch(e){alert(e.response?.data?.message||"Login failed")}}}},v=r(89);const g=(0,v.Z)(f,[["render",h],["__scopeId","data-v-74a4466f"]]);var b=g},2829:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Vi}});var n=r(3396),a=r(7139);const i=e=>((0,n.dD)("data-v-8d2ba94a"),e=e(),(0,n.Cn)(),e),o={class:""},s={class:"sidebar-header d-flex justify-content-between align-items-center p-3"},l=i((()=>(0,n._)("h5",{class:"mb-0 text-white"},"Menu",-1))),c={class:"sidebar-content p-3 text-white"},d={class:"list-unstyled"},u=i((()=>(0,n._)("i",{class:"flaticon-381-networking"},null,-1))),p={key:0,class:"list-unstyled ms-3"},h=i((()=>(0,n._)("i",{class:"flaticon-381-television"},null,-1))),m={key:0,class:"list-unstyled ms-3"},f={class:"d-block d-md-none p-2"};function v(e,t,r,i,v,g){const b=(0,n.up)("Dashboard"),y=(0,n.up)("Orders"),_=(0,n.up)("Bank"),w=(0,n.up)("event"),k=(0,n.up)("addEvent");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",{class:(0,a.C_)([["sidebar",{"sidebar-open":v.isOpen}],"d-none d-md-block"])},[(0,n._)("div",s,[l,(0,n._)("button",{class:"btn btn-sm btn-light",onClick:t[0]||(t[0]=(...e)=>g.closeSidebar&&g.closeSidebar(...e))},"×")]),(0,n._)("div",c,[(0,n._)("ul",d,[(0,n._)("li",null,[(0,n._)("a",{onClick:t[1]||(t[1]=e=>v.seen=!v.seen),class:"text-white d-block"},[u,(0,n.Uk)(" Dashboard ")]),v.seen?((0,n.wg)(),(0,n.iD)("ul",p,[(0,n._)("li",null,[(0,n._)("a",{onClick:t[2]||(t[2]=(...e)=>g.onClickHomeTab&&g.onClickHomeTab(...e)),class:"text-white"},"Dashboard")]),(0,n._)("li",null,[(0,n._)("a",{onClick:t[3]||(t[3]=(...e)=>g.onClickOrderTab&&g.onClickOrderTab(...e)),class:"text-white"},"User Management")])])):(0,n.kq)("",!0)]),(0,n._)("li",null,[(0,n._)("a",{onClick:t[4]||(t[4]=e=>v.see=!v.see),class:"text-white d-block"},[h,(0,n.Uk)(" Apps ")]),v.see?((0,n.wg)(),(0,n.iD)("ul",m,[(0,n._)("li",null,[(0,n._)("a",{onClick:t[5]||(t[5]=(...e)=>g.onClickBankTab&&g.onClickBankTab(...e)),class:"text-white"},"Bank Info")]),(0,n._)("li",null,[(0,n._)("a",{onClick:t[6]||(t[6]=(...e)=>g.onClickEventTab&&g.onClickEventTab(...e)),class:"text-white"},"My Event")]),(0,n._)("li",null,[(0,n._)("a",{onClick:t[7]||(t[7]=(...e)=>g.onClickAddEventTab&&g.onClickAddEventTab(...e)),class:"text-white"},"Add Event")])])):(0,n.kq)("",!0)])])])],2),(0,n._)("div",f,[(0,n._)("div",{class:"dropdown form-control p-2",onClick:t[13]||(t[13]=(...e)=>g.toggleDropdown&&g.toggleDropdown(...e)),style:{width:"fit-content"}},[(0,n._)("a",{class:(0,a.C_)(["dropdown-toggle",{active:v.isDropdownOpen}])},(0,a.zw)(v.mobileTab),3),(0,n._)("div",{class:(0,a.C_)(["dropdown-menu",{show:v.isDropdownOpen}])},[(0,n._)("a",{class:"dropdown-item",onClick:t[8]||(t[8]=(...e)=>g.onClickHomeTab&&g.onClickHomeTab(...e))},"Dashboard"),(0,n._)("a",{class:"dropdown-item",onClick:t[9]||(t[9]=(...e)=>g.onClickOrderTab&&g.onClickOrderTab(...e))},"User Management"),(0,n._)("a",{class:"dropdown-item",onClick:t[10]||(t[10]=(...e)=>g.onClickBankTab&&g.onClickBankTab(...e))},"Bank Info"),(0,n._)("a",{class:"dropdown-item",onClick:t[11]||(t[11]=(...e)=>g.onClickEventTab&&g.onClickEventTab(...e))},"My Event"),(0,n._)("a",{class:"dropdown-item",onClick:t[12]||(t[12]=(...e)=>g.onClickAddEventTab&&g.onClickAddEventTab(...e))},"Add Event")],2)])]),(0,n._)("div",{class:(0,a.C_)(["page-content",{"page-shift":v.isOpen}])},[v.isOpen?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"btn btn-primary m-2 d-none d-md-block",onClick:t[14]||(t[14]=(...e)=>g.openSidebar&&g.openSidebar(...e))}," ☰ ")),v.isAccountHomeVisible?((0,n.wg)(),(0,n.j4)(b,{key:1})):(0,n.kq)("",!0),v.isOrdersVisible?((0,n.wg)(),(0,n.j4)(y,{key:2})):(0,n.kq)("",!0),v.isBankVisible?((0,n.wg)(),(0,n.j4)(_,{key:3})):(0,n.kq)("",!0),v.isEventVisible?((0,n.wg)(),(0,n.j4)(w,{key:4})):(0,n.kq)("",!0),v.isAddEventVisible?((0,n.wg)(),(0,n.j4)(k,{key:5})):(0,n.kq)("",!0)],2)])}r(7658);var g=r(65),b=r(9242);const y={class:"container py-4"},_=(0,n._)("h2",{class:"mb-4 text-center"},"Dashboard Overview",-1),w={class:"row g-3"},k={class:"col-md-4"},C={class:"p-3 border rounded text-center bg-light"},D=(0,n._)("p",{class:"mb-1 fw-bold"},"Total Events",-1),T={class:"col-md-4"},x={class:"p-3 border rounded text-center bg-light"},S=(0,n._)("p",{class:"mb-1 fw-bold"},"Total Revenue",-1),P={class:"col-md-4"},E={class:"p-3 border rounded text-center bg-light"},A=(0,n._)("p",{class:"mb-1 fw-bold"},"Total Orders",-1),$={class:"container-flui"},O={class:"filter pt-2 row align-items-center"},U={class:"col-auto"},j=(0,n._)("div",{class:"text-center bg-success text-white p-2"},[(0,n._)("h5",{class:"mb-0"},"My orders")],-1),M={class:"card-body p-0"},F={class:"table-container"},q={class:"table table-striped mb-0"},z=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Order ID"),(0,n._)("th",null,"Date"),(0,n._)("th",null,"reference"),(0,n._)("th",null,"name of event"),(0,n._)("th",null,"Customer Name"),(0,n._)("th",null,"Phone number"),(0,n._)("th",null,"Amount"),(0,n._)("th",null,"Ticket type")])],-1),I={class:""},V={class:"tes"},N={class:"pagination"},R=["disabled"],L=["onClick"],B=["disabled"];function H(e,t,r,i,o,s){return(0,n.wg)(),(0,n.iD)("div",y,[_,(0,n._)("div",w,[(0,n._)("div",k,[(0,n._)("div",C,[(0,n.Uk)((0,a.zw)(e.getProductsByUser.length)+" ",1),D])]),(0,n._)("div",T,[(0,n._)("div",x,[(0,n.Uk)((0,a.zw)(o.totalPrice)+" ",1),S])]),(0,n._)("div",P,[(0,n._)("div",E,[(0,n.Uk)((0,a.zw)(o.orders.length)+" ",1),A])])]),(0,n._)("div",$,[(0,n._)("div",null,[(0,n._)("div",O,[(0,n._)("div",U,[(0,n.wy)((0,n._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchQuery=e),placeholder:"Search by Order ID"},null,512),[[b.nr,o.searchQuery]])])]),j,(0,n._)("div",M,[(0,n._)("div",F,[(0,n._)("table",q,[z,(0,n._)("tbody",I,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.filteredOrders,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e._id},[(0,n._)("td",null,(0,a.zw)(e._id),1),(0,n._)("td",null,(0,a.zw)(new Date(e.createdAt).toLocaleString()),1),(0,n._)("td",V,(0,a.zw)(e.reference),1),(0,n._)("td",null,(0,a.zw)(e.title),1),(0,n._)("td",null,(0,a.zw)(e.contact?.email||"N/A"),1),(0,n._)("td",null,(0,a.zw)(e.contact?.phone||"N/A"),1),(0,n._)("td",null,"$"+(0,a.zw)(e.price),1),(0,n._)("td",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.tickets,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e._id},(0,a.zw)(e.name)+" x "+(0,a.zw)(e.quantity),1)))),128))])])))),128))])])]),(0,n._)("div",N,[(0,n._)("button",{class:"pagination-btn",disabled:1===o.currentPage,onClick:t[1]||(t[1]=(...e)=>s.prevPage&&s.prevPage(...e))}," Previous ",8,R),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.totalPages,(e=>((0,n.wg)(),(0,n.iD)("button",{key:e,class:(0,a.C_)(["pagination-btn",{active:o.currentPage===e}]),onClick:t=>s.changePage(e)},(0,a.zw)(e),11,L)))),128)),(0,n._)("button",{class:"pagination-btn",disabled:o.currentPage===e.totalPages,onClick:t[2]||(t[2]=(...e)=>s.nextPage&&s.nextPage(...e))}," Next ",8,B)])])])])])}var W=r(4161),Z={components:{},data(){return{selectedStatus:"",searchQuery:"",currentPage:1,rowsPerPage:10,totalPrice:0,orders:[]}},computed:{...(0,g.Se)(["getToken","getProductsByUser"]),productsByUser(){return this.getProductsByUser},filteredOrders(){return this.searchQuery?this.orders.filter((e=>e._id.toLowerCase().includes(this.searchQuery.toLowerCase()))):this.orders}},methods:{prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},changePage(e){this.currentPage=e},applyFilters(){this.currentPage=1}},mounted(){W.Z.get("https://event-ticket-qa70.onrender.com/api/orders",{headers:{Authorization:`Bearer ${this.getToken}`}}).then((e=>{this.orders=e.data.orders,console.log("Orders fetched:",this.orders);const t=this.orders.reduce(((e,t)=>e+t.price),0);this.totalPrice=t,console.log("Total price:",this.totalPrice)})).catch((e=>{console.error("Error fetching orders:",e.response?.data||e)})),this.$store.dispatch("fetchProductsByUser")}},Y=r(89);const G=(0,Y.Z)(Z,[["render",H]]);var Q=G;const K={class:""},J={class:"tabs pt-2"},X=["onClick"],ee={class:"tab-content"},te={key:0},re={class:""},ne={class:""},ae={class:"row justify-content-center"},ie={class:"col-12 col-sm-10 col-md-8 col-lg-6"},oe=(0,n._)("div",{class:"text-center mb-3 bg-success text-white"},[(0,n._)("h5",{class:"m-0"},"Create Affiliate Link")],-1),se=(0,n._)("option",{value:"",disabled:""},"Select an event",-1),le=["value"],ce={class:"mb-3"},de=(0,n._)("label",{for:"affiliateName",class:"form-label"},"Affiliate Name:",-1),ue={class:"mb-3"},pe=(0,n._)("label",{for:"affiliateCode",class:"form-label"},"Affiliate Code:",-1),he=(0,n._)("div",{class:"d-grid justify-content-center"},[(0,n._)("button",{type:"submit",class:"btn btn-sm btn-primary"}," Generate Affiliate Link ")],-1),me={key:0,class:"alert alert-info mt-3"},fe=(0,n._)("strong",null,"Affiliate Link:",-1),ve=["href"],ge={class:"container my-4"},be=(0,n._)("h2",{class:"mb-4 text-center"},"Affiliates",-1),ye={class:"mb-3"},_e={class:"card mb-4 shadow-sm"},we=(0,n._)("div",{class:"text-center bg-success p-2 text-white"},[(0,n._)("h5",{class:"mb-0 text-center"},"My Affiliates")],-1),ke={class:"card-body p-0"},Ce={class:"table-responsive"},De={class:"table table-striped mb-0"},Te=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"ID"),(0,n._)("th",null,"Name"),(0,n._)("th",null,"Code"),(0,n._)("th",null,"Link")])],-1),xe={key:0},Se=(0,n._)("td",{colspan:"4",class:"text-center text-muted"}," No affiliates found ",-1),Pe=[Se],Ee={class:"d-flex justify-content-center mb-4"},Ae=["disabled"],$e=["onClick"],Oe=["disabled"],Ue={class:"card mb-4 shadow-sm"},je=(0,n._)("div",{class:"text-center bg-success p-2 text-white"},[(0,n._)("h5",{class:"mb-0 text-center"},"Affiliate Orders")],-1),Me={class:"card-body p-0"},Fe={class:"table-responsive"},qe={class:"table table-striped mb-0"},ze=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Reference"),(0,n._)("th",null,"Affiliate Name"),(0,n._)("th",null,"Code"),(0,n._)("th",null,"Event Title"),(0,n._)("th",null,"Price ($)"),(0,n._)("th",null,"Date")])],-1),Ie={key:0},Ve=(0,n._)("td",{colspan:"6",class:"text-center text-muted"}," No affiliate orders yet ",-1),Ne=[Ve],Re={class:"card shadow-sm"},Le=(0,n._)("div",{class:"text-center bg-success p-2 text-white"},[(0,n._)("h5",{class:"mb-0 text-center"},"Affiliate Summary")],-1),Be={class:"card-body p-0"},He={class:"table-responsive"},We={class:"table table-striped mb-0"},Ze=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Affiliate Name"),(0,n._)("th",null,"Code"),(0,n._)("th",null,"Total Orders"),(0,n._)("th",null,"Total Earnings ($)")])],-1),Ye={key:0},Ge=(0,n._)("td",{colspan:"4",class:"text-center text-muted"}," No summary available ",-1),Qe=[Ge],Ke={key:1},Je={class:"row pt-2"},Xe={key:0,class:"col-md-4 text-start"},et=(0,n._)("h5",null,"👨‍💼 Staff Members",-1),tt={class:"list-group shadow-sm"},rt=(0,n._)("strong",null,"Name:",-1),nt=(0,n._)("strong",null,"Email:",-1),at={class:"d-flex gap-2"},it=["onClick"],ot={key:2};function st(e,t,r,i,o,s){const l=(0,n.up)("discount");return(0,n.wg)(),(0,n.iD)("div",K,[(0,n._)("div",null,[(0,n._)("div",J,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.tabs,(e=>((0,n.wg)(),(0,n.iD)("button",{key:e,onClick:t=>o.currentTab=e,class:(0,a.C_)({active:o.currentTab===e})},(0,a.zw)(e),11,X)))),128))]),(0,n._)("div",ee,["Affiliate"===o.currentTab?((0,n.wg)(),(0,n.iD)("div",te,[(0,n._)("div",null,[(0,n._)("div",re,[(0,n._)("div",ne,[(0,n._)("div",ae,[(0,n._)("div",ie,[(0,n._)("form",{onSubmit:t[3]||(t[3]=(0,b.iM)(((...e)=>s.createAffiliate&&s.createAffiliate(...e)),["prevent"])),class:"mx-auto mb-4"},[oe,o.products.length>0?(0,n.wy)(((0,n.wg)(),(0,n.iD)("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedProductId=e),class:"form-select"},[se,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.products,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e._id,value:e._id},(0,a.zw)(e.title),9,le)))),128))],512)),[[b.bM,o.selectedProductId]]):(0,n.kq)("",!0),(0,n._)("div",ce,[de,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",id:"affiliateName",placeholder:"Enter name","onUpdate:modelValue":t[1]||(t[1]=e=>o.affiliateName=e),required:""},null,512),[[b.nr,o.affiliateName]])]),(0,n._)("div",ue,[pe,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",id:"affiliateCode",placeholder:"Enter code","onUpdate:modelValue":t[2]||(t[2]=e=>o.affiliateCode=e),required:""},null,512),[[b.nr,o.affiliateCode]])]),he],32),o.affiliateLink?((0,n.wg)(),(0,n.iD)("div",me,[fe,(0,n._)("a",{href:o.affiliateLink,target:"_blank"},(0,a.zw)(o.affiliateLink),9,ve)])):(0,n.kq)("",!0)])])]),(0,n._)("div",ge,[be,(0,n._)("div",ye,[(0,n.wy)((0,n._)("input",{type:"text",class:"form-control w-50","onUpdate:modelValue":t[4]||(t[4]=e=>o.searchQuery=e),placeholder:"Search by Code or Name"},null,512),[[b.nr,o.searchQuery]])]),(0,n._)("div",_e,[we,(0,n._)("div",ke,[(0,n._)("div",Ce,[(0,n._)("table",De,[Te,(0,n._)("tbody",null,[s.filterAffiliates.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("tr",xe,Pe)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.paginatedAffiliates,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e._id},[(0,n._)("td",null,(0,a.zw)(e._id),1),(0,n._)("td",null,(0,a.zw)(e.name),1),(0,n._)("td",null,(0,a.zw)(e.code),1),(0,n._)("td",null,(0,a.zw)(e.link),1)])))),128))])])])])]),(0,n._)("div",Ee,[(0,n._)("button",{class:"btn btn-outline-secondary me-2",disabled:1===o.currentPage,onClick:t[5]||(t[5]=(...e)=>s.prevPage&&s.prevPage(...e))}," Previous ",8,Ae),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.totalPages,(e=>((0,n.wg)(),(0,n.iD)("button",{key:e,class:(0,a.C_)(["btn",o.currentPage===e?"btn-primary":"btn-outline-primary"]),onClick:t=>s.changePage(e)},(0,a.zw)(e),11,$e)))),128)),(0,n._)("button",{class:"btn btn-outline-secondary ms-2",disabled:o.currentPage===s.totalPages,onClick:t[6]||(t[6]=(...e)=>s.nextPage&&s.nextPage(...e))}," Next ",8,Oe)]),(0,n._)("div",Ue,[je,(0,n._)("div",Me,[(0,n._)("div",Fe,[(0,n._)("table",qe,[ze,(0,n._)("tbody",null,[o.affiliateOrders.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("tr",Ie,Ne)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.affiliateOrders,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.reference},[(0,n._)("td",null,(0,a.zw)(e.reference),1),(0,n._)("td",null,(0,a.zw)(e.affiliateName),1),(0,n._)("td",null,(0,a.zw)(e.affiliateCode),1),(0,n._)("td",null,(0,a.zw)(e.title),1),(0,n._)("td",null,(0,a.zw)(e.price),1),(0,n._)("td",null,(0,a.zw)(new Date(e.createdAt).toLocaleDateString()),1)])))),128))])])])])]),(0,n._)("div",Re,[Le,(0,n._)("div",Be,[(0,n._)("div",He,[(0,n._)("table",We,[Ze,(0,n._)("tbody",null,[o.affiliateSummary.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("tr",Ye,Qe)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.affiliateSummary,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.code},[(0,n._)("td",null,(0,a.zw)(e.name),1),(0,n._)("td",null,(0,a.zw)(e.code),1),(0,n._)("td",null,(0,a.zw)(e.totalOrders),1),(0,n._)("td",null,(0,a.zw)(e.totalEarnings),1)])))),128))])])])])])])])])])):"Staff Member"===o.currentTab?((0,n.wg)(),(0,n.iD)("div",Ke,[(0,n._)("div",Je,[o.staff&&o.staff.length?((0,n.wg)(),(0,n.iD)("div",Xe,[et,(0,n._)("ul",tt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.staff,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e._id,class:"list-group-item"},[(0,n._)("div",null,[rt,(0,n.Uk)(" "+(0,a.zw)(e.name),1)]),(0,n._)("div",null,[nt,(0,n.Uk)(" "+(0,a.zw)(e.passcode),1)]),(0,n._)("div",at,[(0,n._)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>s.deleteStaff(e._id)}," 🗑️ Delete ",8,it)])])))),128))])])):(0,n.kq)("",!0)])])):"Discount"===o.currentTab?((0,n.wg)(),(0,n.iD)("div",ot,[(0,n.Wm)(l)])):(0,n.kq)("",!0)])])])}const lt={class:""},ct={class:"row justify-content-center"},dt={class:"col-12 col-sm-10 col-md-8 col-lg-6"},ut={class:"card shadow-sm"},pt=(0,n._)("div",{class:"text-center bg-success p-2 text-white"},[(0,n._)("h5",{class:"mb-0"},"Create Promo Code")],-1),ht={class:"card-body"},mt={class:"row g-3"},ft={class:"col-md-6"},vt={class:"col-md-6"},gt=(0,n._)("option",{value:"percentage"},"Percentage",-1),bt=(0,n._)("option",{value:"fixed"},"Fixed",-1),yt=[gt,bt],_t={class:"col-md-6"},wt={class:"col-md-6"},kt={class:"col-md-6"},Ct={class:"col-12"},Dt=(0,n._)("label",{class:"form-label"},"Select Events",-1),Tt=["value","id"],xt=["for"],St=(0,n._)("div",{class:"col-12 text-center"},[(0,n._)("button",{type:"submit",class:"btn btn-sm btn-primary"}," Create Promo ")],-1),Pt={class:"container my-4"},Et={class:"card mb-4 shadow-sm"},At=(0,n._)("div",{class:"text-center bg-success p-2 text-white"},[(0,n._)("h5",{class:"mb-0"},"My Promos")],-1),$t={class:"card-body p-0"},Ot={class:"table table-striped mb-0"},Ut=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Code"),(0,n._)("th",null,"Discount"),(0,n._)("th",null,"Usage Limit"),(0,n._)("th",null,"used Count"),(0,n._)("th",null,"Expiry"),(0,n._)("th",null,"Status")])],-1),jt={key:0},Mt=(0,n._)("td",{colspan:"4",class:"text-center text-muted"},"No promos available",-1),Ft=[Mt],qt={class:"card shadow-sm"},zt=(0,n._)("div",{class:"text-center bg-success p-2 text-white"},[(0,n._)("h5",{class:"mb-0"},"Promo Orders")],-1),It={class:"card-body p-0"},Vt={class:"table table-striped mb-0"},Nt=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Order ID"),(0,n._)("th",null,"Order title"),(0,n._)("th",null,"Promo Code"),(0,n._)("th",null,"Amount"),(0,n._)("th",null,"order Date")])],-1),Rt={key:0},Lt=(0,n._)("td",{colspan:"4",class:"text-center text-muted"},"No promo orders",-1),Bt=[Lt];function Ht(e,t,r,i,o,s){return(0,n.wg)(),(0,n.iD)("div",lt,[(0,n._)("div",ct,[(0,n._)("div",dt,[(0,n._)("form",{onSubmit:t[6]||(t[6]=(0,b.iM)(((...e)=>s.createPromo&&s.createPromo(...e)),["prevent"])),class:"mx-auto mb-4"},[(0,n._)("div",ut,[pt,(0,n._)("div",ht,[(0,n._)("div",mt,[(0,n._)("div",ft,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.promo.code=e),placeholder:"Code",class:"form-control"},null,512),[[b.nr,o.promo.code]])]),(0,n._)("div",vt,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.promo.discountType=e),class:"form-select"},yt,512),[[b.bM,o.promo.discountType]])]),(0,n._)("div",_t,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.promo.discountValue=e),type:"number",placeholder:"Discount Value",class:"form-control"},null,512),[[b.nr,o.promo.discountValue,void 0,{number:!0}]])]),(0,n._)("div",wt,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.promo.expiryDate=e),type:"date",class:"form-control"},null,512),[[b.nr,o.promo.expiryDate]])]),(0,n._)("div",kt,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.promo.usageLimit=e),type:"number",placeholder:"Usage Limit",class:"form-control"},null,512),[[b.nr,o.promo.usageLimit,void 0,{number:!0}]])]),(0,n._)("div",Ct,[Dt,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.products,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e._id,class:"form-check"},[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"checkbox",value:e._id,"onUpdate:modelValue":t[5]||(t[5]=e=>o.promo.products=e),id:"product-"+e._id},null,8,Tt),[[b.e8,o.promo.products]]),(0,n._)("label",{class:"form-check-label",for:"product-"+e._id},(0,a.zw)(e.title),9,xt)])))),128))]),St])])])],32)])]),(0,n._)("div",Pt,[(0,n._)("div",Et,[At,(0,n._)("div",$t,[(0,n._)("table",Ot,[Ut,(0,n._)("tbody",null,[0===o.promos.length?((0,n.wg)(),(0,n.iD)("tr",jt,Ft)):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.promos,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e._id},[(0,n._)("td",null,(0,a.zw)(e.code),1),(0,n._)("td",null,(0,a.zw)(e.discountValue)+"%",1),(0,n._)("td",null,(0,a.zw)(e.usageLimit),1),(0,n._)("td",null,(0,a.zw)(e.usedCount),1),(0,n._)("td",null,(0,a.zw)(s.formatDate(e.expiryDate)),1),(0,n._)("td",null,[(0,n._)("span",{class:(0,a.C_)(["badge",s.isPromoActive(e)?"bg-success":"bg-secondary"])},(0,a.zw)(s.isPromoActive(e)?"Active":"Inactive"),3)])])))),128))])])])]),(0,n._)("div",qt,[zt,(0,n._)("div",It,[(0,n._)("table",Vt,[Nt,(0,n._)("tbody",null,[0===o.promois.length?((0,n.wg)(),(0,n.iD)("tr",Rt,Bt)):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.promois,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e._id},[(0,n._)("td",null,(0,a.zw)(e.promoId),1),(0,n._)("td",null,(0,a.zw)(e.title),1),(0,n._)("td",null,(0,a.zw)(e.promoCode),1),(0,n._)("td",null,"₦"+(0,a.zw)(e.price),1),(0,n._)("td",null,(0,a.zw)(s.formatDate(e.createdAt)),1)])))),128))])])])])])])}var Wt={data(){return{promo:{code:"",discountType:"percentage",discountValue:0,expiryDate:"",usageLimit:0,minOrderAmount:0,products:[]},promos:[],promois:[],products:[]}},computed:{...(0,g.Se)(["getToken"])},methods:{isPromoActive(e){return e.usedCount<e.usageLimit},formatDate(e){return e?new Date(e).toLocaleDateString():"-"},async createPromo(){try{await W.Z.post("https://event-ticket-qa70.onrender.com/api/create-promo",this.promo,{headers:{Authorization:`Bearer ${this.getToken}`}})}catch(e){console.error(e.response?.data||e.message)}this.fetchMyPromos()},async fetchMyPromos(){try{const e=await W.Z.get("https://event-ticket-qa70.onrender.com/api/my-promos",{headers:{Authorization:`Bearer ${this.getToken}`}});this.promos=e.data.promos||[]}catch(e){console.error("Error fetching my promos:",e.response?.data||e.message)}},async fetchPromos(){try{const e=await W.Z.get("https://event-ticket-qa70.onrender.com/api/promo-orders",{headers:{Authorization:`Bearer ${this.getToken}`}});this.promois=e.data.data||[]}catch(e){console.error("Error fetching promo orders:",e.response?.data||e.message)}},async fetchProducts(){try{const e=await W.Z.get("https://event-ticket-qa70.onrender.com/api/user/products",{headers:{Authorization:`Bearer ${this.getToken}`}});this.products=e.data.products}catch(e){console.error("Error fetching products:",e)}}},mounted(){this.fetchProducts(),this.fetchMyPromos(),this.fetchPromos()}};const Zt=(0,Y.Z)(Wt,[["render",Ht]]);var Yt=Zt,Gt={components:{discount:Yt},data(){return{tabs:["Affiliate","Staff Member","Discount"],currentTab:"Affiliate",searchQuery:"",currentPage:1,rowsPerPage:10,affiliates:[],affiliateOrders:[],affiliateSummary:[],products:[],selectedProductId:"",affiliateName:"",affiliateCode:"",affiliateLink:"",staff:[],isEditing:!1,editId:null}},computed:{...(0,g.Se)(["getToken"]),filterAffiliates(){const e=this.searchQuery.toLowerCase();return this.affiliates.filter((t=>t.name.toLowerCase().includes(e)||t.code.toLowerCase().includes(e)))},totalPages(){return Math.ceil(this.filterAffiliates.length/this.rowsPerPage)},paginatedAffiliates(){const e=(this.currentPage-1)*this.rowsPerPage,t=e+this.rowsPerPage;return this.filterAffiliates.slice(e,t)}},mounted(){this.fetchAffiliates(),this.fetchAffiliateOrders(),this.fetchAffiliateSummary(),this.fetchStaff()},methods:{async fetchStaff(){try{const e=await W.Z.get("https://event-ticket-qa70.onrender.com/api/user-staff",{headers:{Authorization:`Bearer ${this.getToken}`}});this.staff=e.data}catch(e){console.error("Error fetching staff:",e)}},async deleteStaff(e){if(confirm("Delete this bank info?"))try{await W.Z["delete"](`https://event-ticket-qa70.onrender.com/api/staff/${e}`,{headers:{Authorization:`Bearer ${this.getToken}`}}),this.staff=this.staff.filter((t=>t._id!==e))}catch(t){console.error("Error deleting staff:",t)}},async createAffiliate(){if(this.selectedProductId)if(this.affiliateName&&this.affiliateCode)try{const e=await W.Z.post("https://event-ticket-qa70.onrender.com/api/affiliate",{name:this.affiliateName,code:this.affiliateCode,productId:this.selectedProductId},{headers:{Authorization:`Bearer ${this.getToken}`}});console.log("Affiliate created:",e.data),this.fetchAffiliates(),this.affiliateLink=e.data.link,alert("Affiliate link created!")}catch(e){console.error("Error creating affiliate:",e),alert("Failed to create affiliate link!")}else alert("Please fill in both name and code!");else alert("Please select a product!")},fetchAffiliates(){W.Z.get("https://event-ticket-qa70.onrender.com/api/affiliates",{headers:{Authorization:`Bearer ${this.getToken}`}}).then((e=>{this.affiliates=e.data.affiliates||[]})).catch((e=>{console.error("Affiliate fetch error:",e.response?.data||e)}))},fetchAffiliateOrders(){W.Z.get("https://event-ticket-qa70.onrender.com/api/affiliate-orders",{headers:{Authorization:`Bearer ${this.getToken}`}}).then((e=>{this.affiliateOrders=e.data.data||[],console.log("ordery",this.affiliateOrders)})).catch((e=>{console.error("Affiliate orders error:",e.response?.data||e)}))},fetchAffiliateSummary(){W.Z.get("https://event-ticket-qa70.onrender.com/api/affiliate-orders-summary",{headers:{Authorization:`Bearer ${this.getToken}`}}).then((e=>{this.affiliateSummary=e.data.data||[],console.log("orderss",this.affiliateSummary)})).catch((e=>{console.error("Affiliate summary error:",e.response?.data||e)}))},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},changePage(e){this.currentPage=e}},async created(){try{const e=await W.Z.get("https://event-ticket-qa70.onrender.com/api/user/products",{headers:{Authorization:`Bearer ${this.getToken}`}});console.log("Fetched products:",e.data),this.products=e.data.products||[]}catch(e){console.error("Error fetching products:",e)}}};const Qt=(0,Y.Z)(Gt,[["render",st]]);var Kt=Qt;const Jt={class:"container mt-4"},Xt={class:"row"},er={class:"col-md-8"},tr={class:"mb-3"},rr=(0,n._)("label",null,"Account Name",-1),nr={class:"mb-3"},ar=(0,n._)("label",null,"Account Number",-1),ir={class:"mb-3"},or=(0,n._)("label",null,"Bank Name",-1),sr={type:"submit",class:"btn btn-success"},lr={key:0,class:"text-start col-md-4"},cr={class:"list-group shadow-sm"},dr={class:"mb-2"},ur=(0,n._)("strong",null,"Bank Account Name:",-1),pr=(0,n._)("strong",null,"Account Number:",-1),hr=(0,n._)("strong",null,"Bank Name:",-1),mr={class:"d-flex gap-2"},fr=["onClick"],vr=["onClick"];function gr(e,t,r,i,o,s){return(0,n.wg)(),(0,n.iD)("div",Jt,[(0,n._)("div",Xt,[(0,n._)("div",er,[(0,n._)("form",{onSubmit:t[4]||(t[4]=(0,b.iM)((e=>o.isEditing?s.updateBank():s.createBank()),["prevent"])),class:"shadow p-4 w-md-75 mx-auto w-100"},[(0,n._)("h5",null,(0,a.zw)(o.isEditing?"✏️ Edit Bank Info":"➕ Add Bank Info"),1),(0,n._)("div",tr,[rr,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.form.accountName=e),type:"text",class:"form-control",required:""},null,512),[[b.nr,o.form.accountName]])]),(0,n._)("div",nr,[ar,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.form.accountNumber=e),type:"text",class:"form-control",required:""},null,512),[[b.nr,o.form.accountNumber]])]),(0,n._)("div",ir,[or,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.bankName=e),type:"text",class:"form-control",required:""},null,512),[[b.nr,o.form.bankName]])]),(0,n._)("button",sr,(0,a.zw)(o.isEditing?"Update":"Create"),1),o.isEditing?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"btn btn-secondary ms-2",onClick:t[3]||(t[3]=(...e)=>s.cancelEdit&&s.cancelEdit(...e))}," Cancel ")):(0,n.kq)("",!0)],32)]),o.banks&&o.banks.length?((0,n.wg)(),(0,n.iD)("div",lr,[(0,n._)("ul",cr,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.banks,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e._id,class:"list-group-item"},[(0,n._)("div",dr,[(0,n._)("div",null,[ur,(0,n.Uk)(" "+(0,a.zw)(e.accountName),1)]),(0,n._)("div",null,[pr,(0,n.Uk)(" "+(0,a.zw)(e.accountNumber),1)]),(0,n._)("div",null,[hr,(0,n.Uk)(" "+(0,a.zw)(e.bankName),1)])]),(0,n._)("div",mr,[(0,n._)("button",{class:"btn btn-sm btn-outline-warning",onClick:t=>s.editBank(e)}," ✏️ Edit ",8,fr),(0,n._)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>s.deleteBank(e._id)}," 🗑️ Delete ",8,vr)])])))),128))])])):(0,n.kq)("",!0)])])}var br={name:"BankManager",data(){return{form:{accountName:"",accountNumber:"",bankName:""},banks:[],isEditing:!1,editId:null}},mounted(){this.fetchBanks()},computed:{...(0,g.Se)(["getToken"])},methods:{async fetchBanks(){try{const e=await W.Z.get("https://event-ticket-qa70.onrender.com/api/bank",{headers:{Authorization:`Bearer ${this.getToken}`}});this.banks=e.data.banks}catch(e){console.error("Error fetching banks:",e)}},async createBank(){try{const e=await W.Z.post("https://event-ticket-qa70.onrender.com/api/bank",this.form,{headers:{Authorization:`Bearer ${this.getToken}`}});e.data.banks&&e.data.banks.length>0?this.banks.push(e.data.banks[0]):await this.fetchBanks(),this.resetForm()}catch(e){console.error("Error creating bank:",e),alert("❌ Failed to create.")}},editBank(e){this.isEditing=!0,this.editId=e._id,this.form={...e}},cancelEdit(){this.resetForm()},async updateBank(){try{const e=await W.Z.put(`https://event-ticket-qa70.onrender.com/api/bank/${this.editId}`,this.form,{headers:{Authorization:`Bearer ${this.getToken}`}}),t=this.banks.findIndex((e=>e._id===this.editId));e.data.banks&&e.data.banks.length>0?this.banks.splice(t,1,e.data.banks[0]):await this.fetchBanks(),this.resetForm()}catch(e){console.error("Error updating bank:",e)}},async deleteBank(e){if(confirm("Delete this bank info?"))try{await W.Z["delete"](`https://event-ticket-qa70.onrender.com/api/bank/${e}`,{headers:{Authorization:`Bearer ${this.getToken}`}}),this.banks=this.banks.filter((t=>t._id!==e))}catch(t){console.error("Error deleting bank:",t)}},resetForm(){this.form={accountName:"",accountNumber:"",bankName:""},this.isEditing=!1,this.editId=null}}};const yr=(0,Y.Z)(br,[["render",gr]]);var _r=yr;const wr=e=>((0,n.dD)("data-v-7b7af6b6"),e=e(),(0,n.Cn)(),e),kr={class:"container-fluid bg-light"},Cr={class:"section_discover"},Dr={class:"container-large"},Tr={class:"row pt-2 pb-2"},xr={class:"col-12 pt-2 pb-md-0 pb-1 col-md-6"},Sr={class:"col-12 col-md-6 pt-1"},Pr={class:"d-flex flex-column flex-md-row align-items-center justify-content-md-end gap-2"},Er={class:"modal-content w-100"},Ar={class:"d-flex justify-content-between align-items-center mb-3"},$r=wr((()=>(0,n._)("h5",{class:"m-0 fw-bold"},"Price",-1))),Or=wr((()=>(0,n._)("i",{class:"bi bi-x-lg"},null,-1))),Ur=[Or],jr={class:"row"},Mr={class:"col"},Fr=wr((()=>(0,n._)("label",null,"Minimum amount",-1))),qr={class:"col"},zr=wr((()=>(0,n._)("label",null,"Maximum amount",-1))),Ir={class:"d-flex justify-content-between mt-4"},Vr={class:"modal-content"},Nr={class:"d-flex justify-content-between align-items-center mb-3"},Rr=wr((()=>(0,n._)("h5",{class:"m-0 fw-bold"},"Date",-1))),Lr=wr((()=>(0,n._)("i",{class:"bi bi-x-lg"},null,-1))),Br=[Lr],Hr={class:"d-flex justify-content-center gap-3 mb-3"},Wr={class:"row"},Zr={class:"col"},Yr={class:"col"},Gr={class:"d-flex justify-content-between mt-4"},Qr={class:""},Kr={class:"modal-content w-100 h-75",style:{"max-height":"90vh","overflow-y":"auto"}},Jr={class:"d-flex justify-content-between align-items-center mb-3"},Xr=wr((()=>(0,n._)("h5",{class:"m-0 fw-bold"},"Edit",-1))),en=wr((()=>(0,n._)("i",{class:"bi bi-x-lg"},null,-1))),tn=[en],rn={class:""},nn={class:"modal-content w-100 h-75",style:{"max-height":"90vh","overflow-y":"auto"}},an={class:"d-flex justify-content-between align-items-center mb-3"},on=wr((()=>(0,n._)("h5",{class:"m-0 fw-bold"},"Assign",-1))),sn=wr((()=>(0,n._)("i",{class:"bi bi-x-lg"},null,-1))),ln=[sn],cn=wr((()=>(0,n._)("h3",null,"Assign Staff to Event",-1))),dn=wr((()=>(0,n._)("label",{class:"mt-3"},"Staff Name:",-1))),un={class:"mt-3"},pn={class:"container-fluid"},hn={class:"section_discover pt-4"},mn={class:"container-large"},fn={class:"mb-3"},vn={key:0,class:"alert alert-warning"},gn={class:"row"},bn=["src"],yn={class:"pt-2"},_n={class:"mb-1"},wn=wr((()=>(0,n._)("i",{class:"bi bi-calendar-event me-2"},null,-1))),kn={key:0},Cn={class:"mb-1"},Dn=wr((()=>(0,n._)("i",{class:"bi bi-geo-alt me-2"},null,-1))),Tn={class:"d-flex"},xn=["onClick"],Sn=["onClick"],Pn=wr((()=>(0,n._)("i",{class:"bi bi-pencil-fill me-1"},null,-1))),En=["onClick"],An=wr((()=>(0,n._)("i",{class:"bi bi-pencil-fill me-1"},null,-1))),$n=["onClick"],On=wr((()=>(0,n._)("i",{class:"bi bi-trash-fill me-1"},null,-1))),Un=[On],jn=wr((()=>(0,n._)("div",{class:"row g-4"},[(0,n._)("div",{class:"col-md-6"})],-1)));function Mn(e,t,r,i,o,s){const l=(0,n.up)("editProduct");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",kr,[(0,n._)("div",Cr,[(0,n._)("div",Dr,[(0,n._)("div",Tr,[(0,n._)("div",xr,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchTerm=e),type:"text",class:"form-control",placeholder:"Search events by title"},null,512),[[b.nr,o.searchTerm]])]),(0,n._)("div",Sr,[(0,n._)("div",Pr,[(0,n._)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[1]||(t[1]=e=>o.showPriceModal=!0)}," Price "),(0,n._)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[2]||(t[2]=e=>o.showDateModal=!0)}," Date "),(0,n._)("a",{href:"#",class:"text-muted text-decoration-none",onClick:t[3]||(t[3]=(0,b.iM)(((...e)=>s.resetSearch&&s.resetSearch(...e)),["prevent"]))}," Reset Filters ")])])])])])]),o.showPriceModal?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"modal w-100",onClick:t[9]||(t[9]=(0,b.iM)((e=>o.showPriceModal=!1),["self"]))},[(0,n._)("div",Er,[(0,n._)("div",Ar,[$r,(0,n._)("button",{class:"btn-icon",onClick:t[4]||(t[4]=e=>o.showPriceModal=!1)},Ur)]),(0,n._)("div",jr,[(0,n._)("div",Mr,[Fr,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.tempFilters.minPrice=e),type:"number",class:"form-control"},null,512),[[b.nr,o.tempFilters.minPrice,void 0,{number:!0}]])]),(0,n._)("div",qr,[zr,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.tempFilters.maxPrice=e),type:"number",class:"form-control"},null,512),[[b.nr,o.tempFilters.maxPrice,void 0,{number:!0}]])])]),(0,n._)("div",Ir,[(0,n._)("button",{class:"btn btn-outline-secondary",onClick:t[7]||(t[7]=(...e)=>s.clearPriceFilters&&s.clearPriceFilters(...e))}," Clear "),(0,n._)("button",{class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>s.applyPriceFilters&&s.applyPriceFilters(...e))},"Apply")])])])):(0,n.kq)("",!0),o.showDateModal?((0,n.wg)(),(0,n.iD)("div",{key:1,class:"modal",onClick:t[18]||(t[18]=(0,b.iM)((e=>o.showDateModal=!1),["self"]))},[(0,n._)("div",Vr,[(0,n._)("div",Nr,[Rr,(0,n._)("button",{class:"btn-icon",onClick:t[10]||(t[10]=e=>o.showDateModal=!1)},Br)]),(0,n._)("div",Hr,[(0,n._)("button",{class:"btn btn-outline-dark",onClick:t[11]||(t[11]=(...e)=>s.setToday&&s.setToday(...e))},"Today"),(0,n._)("button",{class:"btn btn-outline-dark",onClick:t[12]||(t[12]=(...e)=>s.setTomorrow&&s.setTomorrow(...e))},"Tomorrow"),(0,n._)("button",{class:"btn btn-outline-dark",onClick:t[13]||(t[13]=(...e)=>s.setThisWeekend&&s.setThisWeekend(...e))}," This weekend ")]),(0,n._)("div",Wr,[(0,n._)("div",Zr,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>o.tempFilters.startDate=e),type:"date",class:"form-control"},null,512),[[b.nr,o.tempFilters.startDate]])]),(0,n._)("div",Yr,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>o.tempFilters.endDate=e),type:"date",class:"form-control"},null,512),[[b.nr,o.tempFilters.endDate]])])]),(0,n._)("div",Gr,[(0,n._)("button",{class:"btn btn-outline-secondary",onClick:t[16]||(t[16]=(...e)=>s.clearDateFilters&&s.clearDateFilters(...e))}," Clear "),(0,n._)("button",{class:"btn btn-primary",onClick:t[17]||(t[17]=(...e)=>s.applyDateFilters&&s.applyDateFilters(...e))},"Apply")])])])):(0,n.kq)("",!0),o.showEditModal?((0,n.wg)(),(0,n.iD)("div",{key:2,class:"modal",onClick:t[21]||(t[21]=(0,b.iM)((e=>o.showEditModal=!1),["self"]))},[(0,n._)("div",Qr,[(0,n._)("div",Kr,[(0,n._)("div",Jr,[Xr,(0,n._)("button",{class:"btn-icon",onClick:t[19]||(t[19]=e=>o.showEditModal=!1)},tn)]),o.showEditProduct?((0,n.wg)(),(0,n.j4)(l,{key:0,"product-id":o.selectedProductId,onRefresh:s.fetchProducts,onClose:t[20]||(t[20]=e=>o.showEditModal=!1)},null,8,["product-id","onRefresh"])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0),o.showUserModal?((0,n.wg)(),(0,n.iD)("div",{key:3,class:"modal",onClick:t[27]||(t[27]=(0,b.iM)((e=>o.showUserModal=!1),["self"]))},[(0,n._)("div",rn,[(0,n._)("div",nn,[(0,n._)("div",an,[on,(0,n._)("button",{class:"btn-icon",onClick:t[22]||(t[22]=e=>o.showUserModal=!1)},ln)]),cn,(0,n._)("p",null,[(0,n.Uk)(" Event ID: "),(0,n._)("strong",null,(0,a.zw)(o.selectedProductId),1)]),dn,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[23]||(t[23]=t=>e.staffName=t),placeholder:"Enter staff name",class:"form-control mb-3"},null,512),[[b.nr,e.staffName]]),(0,n._)("label",null,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[24]||(t[24]=t=>e.checkInPermission=t)},null,512),[[b.e8,e.checkInPermission]]),(0,n.Uk)(" Check in tickets ")]),(0,n._)("div",un,[(0,n._)("button",{class:"btn btn-success btn-sm",onClick:t[25]||(t[25]=(...e)=>s.assignStaff&&s.assignStaff(...e))},"Add staff"),(0,n._)("button",{class:"btn btn-secondary btn-sm ms-2",onClick:t[26]||(t[26]=(...t)=>e.closePopup&&e.closePopup(...t))}," Cancel ")])])])])):(0,n.kq)("",!0),(0,n._)("div",pn,[(0,n._)("div",hn,[(0,n._)("div",mn,[(0,n._)("h3",fn,"Explore "+(0,a.zw)(s.filteredProducts.length)+" Events",1),0===s.filteredProducts.length?((0,n.wg)(),(0,n.iD)("div",vn," No events match your search. ")):(0,n.kq)("",!0),(0,n._)("div",gn,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.filteredProducts,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col-md-4 pt-3",key:e._id},[(0,n._)("div",null,[(0,n._)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,bn),(0,n._)("div",yn,[(0,n._)("h5",null,(0,a.zw)(e.title),1),(0,n._)("p",_n,[wn,(0,n.Uk)(" "+(0,a.zw)(s.formatDate(e.event.start))+" ",1),e.event.end?((0,n.wg)(),(0,n.iD)("span",kn,"- "+(0,a.zw)(s.formatDate(e.event.end)),1)):(0,n.kq)("",!0)]),(0,n._)("p",Cn,[Dn,(0,n.Uk)(" "+(0,a.zw)(e.event.location.name||"No location"),1)]),(0,n._)("p",null,(0,a.zw)(0===e.event.tickets[0].price&&0===e.event.tickets[e.event.tickets.length-1].price?"Free":e.event.tickets[0].price===e.event.tickets[e.event.tickets.length-1].price?s.formatPrice(e.event.tickets[0].price):`${s.formatPrice(e.event.tickets[0].price)} - ${s.formatPrice(e.event.tickets[e.event.tickets.length-1].price)}`),1),(0,n._)("div",Tn,[(0,n._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>s.goToProduct(e.title)}," View Event ",8,xn),(0,n._)("button",{class:"btn btn-primary btn-sm ms-2",onClick:t=>s.goToEditProduct(e._id)},[Pn,(0,n.Uk)(" Edit ")],8,Sn),(0,n._)("button",{class:"btn btn-primary btn-sm ms-2",onClick:t=>s.showUserPopup(e._id)},[An,(0,n.Uk)(" Assign User ")],8,En),(0,n._)("button",{class:"btn btn-danger btn-sm ms-2",onClick:t=>s.deleteProduct(e._id)},Un,8,$n)])])])])))),128))]),jn])])])])}var Fn=r(4695),qn={components:{editProduct:Fn.Z},name:"ProductList",data(){return{showEditProduct:!1,selectedProductId:null,products:[],reference:"",loading:!0,searchTerm:"",filters:{minPrice:0,maxPrice:1/0,startDate:null,endDate:null},tempFilters:{minPrice:0,maxPrice:1e5,startDate:null,endDate:null},showPriceModal:!1,showDateModal:!1,showEditModal:!1,showUserModal:!1}},computed:{...(0,g.Se)(["getToken"]),filteredProducts(){if(!this.products)return[];const e=this.searchTerm.toLowerCase();return this.products.filter((t=>{const r=t.title?.toLowerCase().includes(e),n=t.event?.location?.name?.toLowerCase().includes(e.toLowerCase()),a=t.price||0,i=(!this.filters.minPrice||a>=this.filters.minPrice)&&(!this.filters.maxPrice||a<=this.filters.maxPrice),o=new Date(t.event?.date),s=this.filters.startDate?new Date(this.filters.startDate):null,l=this.filters.endDate?new Date(this.filters.endDate):null,c=new Date(o.toDateString()),d=s?new Date(s.toDateString()):null,u=l?new Date(l.toDateString()):null,p=(!d||c>=d)&&(!u||c<=u);return(r||n)&&i&&p}))}},methods:{async fetchProducts(){try{const e=await W.Z.get("https://event-ticket-qa70.onrender.com/api/user/products",{headers:{Authorization:`Bearer ${this.getToken}`}});console.log(e.data),this.products=e.data.products}catch(e){console.error("Error fetching products:",e)}},goToEditProduct(e){console.log(e),this.selectedProductId=e,this.showEditModal=!0,this.showEditProduct=!0},showUserPopup(e){this.selectedProductId=e,this.showUserModal=!0},async assignStaff(){if(this.staffName)try{const e=await W.Z.post("https://event-ticket-qa70.onrender.com/api/staff",{staffName:this.staffName,productId:this.selectedProductId},{headers:{Authorization:`Bearer ${this.getToken}`}});alert(`Staff assigned successfully! Passcode: ${e.data.passcode}`),this.closePopup()}catch(e){console.error(e.response?.data||e.message)}else alert("Please enter a staff name")},async deleteProduct(e){if(confirm("Are you sure you want to delete this order?")){console.log(e);try{await W.Z["delete"](`https://event-ticket-qa70.onrender.com/api/product/${e}`,{headers:{Authorization:`Bearer ${this.getToken}`}}),alert("Product deleted successfully"),this.fetchProducts()}catch(t){console.error("Delete failed:",t)}}},goToProduct(e){const t=e.replace(/\s+/g,"-").toLowerCase();window.open(`/product/${t}`,"_blank")},formatDate(e){if(!e)return"No date";const t={weekday:"short",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`₦${e}`:"Free"},resetSearch(){this.searchTerm="",this.filters={minPrice:0,maxPrice:1/0,startDate:null,endDate:null}},applyPriceFilters(){this.filters.minPrice=this.tempFilters.minPrice,this.filters.maxPrice=this.tempFilters.maxPrice,this.showPriceModal=!1},clearPriceFilters(){this.tempFilters.minPrice=0,this.tempFilters.maxPrice=1e5,this.applyPriceFilters()},applyDateFilters(){this.filters.startDate=this.tempFilters.startDate,this.filters.endDate=this.tempFilters.endDate,this.showDateModal=!1},clearDateFilters(){this.tempFilters.startDate=null,this.tempFilters.endDate=null,this.applyDateFilters()},setToday(){const e=(new Date).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setTomorrow(){const e=new Date(Date.now()+864e5).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setThisWeekend(){const e=new Date,t=e.getDay(),r=new Date(e);r.setDate(e.getDate()+(6-t));const n=new Date(r);n.setDate(r.getDate()+1),this.tempFilters.startDate=r.toISOString().split("T")[0],this.tempFilters.endDate=n.toISOString().split("T")[0]}},mounted(){this.fetchProducts()}};const zn=(0,Y.Z)(qn,[["render",Mn],["__scopeId","data-v-7b7af6b6"]]);var In=zn;const Vn=e=>((0,n.dD)("data-v-53b778fe"),e=e(),(0,n.Cn)(),e),Nn={class:""},Rn={class:"stepper pt-2 mx-auto"},Ln={class:"circle"},Bn={key:0},Hn={key:1},Wn={class:"label"},Zn={class:"progress-line"},Yn={class:"row justify-content-center"},Gn={class:"col-12"},Qn={key:0,class:""},Kn={class:"row"},Jn={class:"mb-3 col-md-7"},Xn=Vn((()=>(0,n._)("label",{for:"title",class:"form-label"},"What is your event name:",-1))),ea={key:0,class:"invalid-feedback"},ta={class:"mb-3 col-md-5"},ra=Vn((()=>(0,n._)("label",{for:"title",class:"form-label"},"Tag:",-1))),na={class:"row mb-3"},aa={class:"col-md-7"},ia=Vn((()=>(0,n._)("label",{class:"form-label"},"Event Category",-1))),oa=Vn((()=>(0,n._)("option",{value:"",disabled:""},"Select a category",-1))),sa=["value"],la={class:"col-md-5 d-none"},ca={class:""},da=Vn((()=>(0,n._)("label",{for:"currency",class:"form-label"},"Currency:",-1))),ua=(0,n.uE)('<option value="" data-v-53b778fe>-- Select Currency --</option><option value="USD" data-v-53b778fe>Dollar ($)</option><option value="NGN" data-v-53b778fe>Naira (₦)</option><option value="GBP" data-v-53b778fe>Pound (£)</option><option value="EUR" data-v-53b778fe>Euro (€)</option><option value="GHS" data-v-53b778fe>Ghanaian Cedi (₵)</option>',6),pa=[ua],ha=Vn((()=>(0,n._)("label",{for:"Price",class:"form-label mb-3 d-none"},"Price:",-1))),ma=Vn((()=>(0,n._)("small",null,"Leave blank for a free event",-1))),fa={class:"mb-3"},va=Vn((()=>(0,n._)("label",{class:"form-label"},"What's your event about:",-1))),ga={key:1},ba={class:"mt-4 text-start"},ya=Vn((()=>(0,n._)("h4",null,[(0,n._)("strong",null,"When is your event?")],-1))),_a=Vn((()=>(0,n._)("p",{class:"text-muted"},"Select all the dates of your event",-1))),wa={class:"row mb-3"},ka={class:"col-md-6"},Ca={class:"mb-3"},Da=Vn((()=>(0,n._)("label",{for:"address",class:"form-label"},"Enter Address:",-1))),Ta={class:"col-md-6"},xa=Vn((()=>(0,n._)("label",{class:"form-label"},"* Select time zone",-1))),Sa=Vn((()=>(0,n._)("option",{value:""},"Select Time Zone",-1))),Pa=Vn((()=>(0,n._)("option",{value:"UTC+01:00"},"(UTC+01:00) West Central Africa",-1))),Ea=Vn((()=>(0,n._)("option",{value:"UTC+00:00"},"(UTC+00:00) GMT",-1))),Aa=Vn((()=>(0,n._)("option",{value:"UTC-05:00"}," (UTC-05:00) Eastern Time (US & Canada) ",-1))),$a=[Sa,Pa,Ea,Aa],Oa={class:"btn-group mb-3",role:"group"},Ua={class:"row"},ja={class:"col-md-6 mb-3"},Ma=Vn((()=>(0,n._)("label",{class:"form-label"},"* Start date",-1))),Fa={key:0,class:"col-md-6 mb-3"},qa=Vn((()=>(0,n._)("label",{class:"form-label"},"* End date",-1))),za={class:"row"},Ia={class:"col-md-6 mb-3"},Va=Vn((()=>(0,n._)("label",{class:"form-label"},"Start time",-1))),Na={class:"d-flex justify-content-between"},Ra={class:"mt-2"},La={key:0,class:"col-md-4 mb-3"},Ba=Vn((()=>(0,n._)("label",{class:"form-label"},"* Event frequency",-1))),Ha=Vn((()=>(0,n._)("option",null,"Every day",-1))),Wa=Vn((()=>(0,n._)("option",null,"Weekdays",-1))),Za=Vn((()=>(0,n._)("option",null,"Weekends",-1))),Ya=Vn((()=>(0,n._)("option",null,"Every week",-1))),Ga=[Ha,Wa,Za,Ya],Qa={key:2},Ka={class:"container py-5 text-start"},Ja={class:"row"},Xa={class:"col-md-6"},ei=Vn((()=>(0,n._)("h5",null,[(0,n._)("strong",null,"Event Image")],-1))),ti=Vn((()=>(0,n._)("p",{class:"text-muted"},"Upload a JPEG or PNG file",-1))),ri=Vn((()=>(0,n._)("div",{class:"alert alert-light border text-muted py-2 small d-flex align-items-start"},[(0,n._)("i",{class:"bi bi-info-circle-fill me-2 text-danger"}),(0,n.Uk)(" Images with a 1:1 ratio (a square) work best on all event themes ")],-1))),ni={for:"imageUpload",class:"border rounded bg-light d-flex flex-column justify-content-center align-items-center text-center py-5 mb-2",style:{cursor:"pointer"}},ai=Vn((()=>(0,n._)("i",{class:"bi bi-image fs-1 mb-2"},null,-1))),ii=Vn((()=>(0,n._)("span",null,[(0,n.Uk)(" Drag an image here or "),(0,n._)("span",{class:"text-danger fw-bold"},"click to upload")],-1))),oi={key:0},si={key:0,class:"text-center mt-3"},li=["src"],ci=Vn((()=>(0,n._)("p",{class:"text-muted small"}," Upload an image with a size less than 2mb ",-1))),di=Vn((()=>(0,n._)("div",{class:"col-md-6"},null,-1))),ui={key:3},pi={class:"my-4 text-start"},hi=Vn((()=>(0,n._)("h5",null,[(0,n._)("strong",null,"Create your ticket types")],-1))),mi=Vn((()=>(0,n._)("p",{class:"text-danger small"},"* prices tickets",-1))),fi={class:"col-md-3"},vi=Vn((()=>(0,n._)("label",{class:"form-label"},"Ticket name",-1))),gi=["onUpdate:modelValue"],bi={class:"col-md-2"},yi=Vn((()=>(0,n._)("label",{class:"form-label"},"Quantity",-1))),_i=["onUpdate:modelValue"],wi={class:"col-md-3"},ki=Vn((()=>(0,n._)("label",{class:"form-label"},"Price",-1))),Ci=["onUpdate:modelValue"],Di={class:"col-md-2 d-flex align-items-end"},Ti=["onClick"],xi=Vn((()=>(0,n._)("i",{class:"bi bi-trash"},null,-1))),Si=[xi],Pi={class:"d-flex gap-3"},Ei={class:"text-center mt-4 d-flex justify-content-between"},Ai=["disabled"],$i={key:1,type:"submit",class:"btn btn-primary btn-primary:hover"};function Oi(e,t,r,i,o,s){const l=(0,n.up)("spinner");return(0,n.wg)(),(0,n.iD)("div",Nn,[(0,n._)("div",Rn,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.steps,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:(0,a.C_)(["step",{"step-active":o.currentStep===t,completed:t<o.currentStep}])},[(0,n._)("div",Ln,[t<o.currentStep?((0,n.wg)(),(0,n.iD)("span",Bn,"✔")):((0,n.wg)(),(0,n.iD)("span",Hn,(0,a.zw)(t+1),1))]),(0,n._)("div",Wn,(0,a.zw)(e),1)],2)))),128)),(0,n._)("div",Zn,[(0,n._)("div",{class:"progress-fill",style:(0,a.j5)({width:o.currentStep/(o.steps.length-1)*100+"%"})},null,4)])]),(0,n._)("div",Yn,[(0,n._)("div",Gn,[(0,n._)("form",{onSubmit:t[18]||(t[18]=(0,b.iM)(((...e)=>s.submitProduct&&s.submitProduct(...e)),["prevent"])),enctype:"multipart/form-data",class:"shadow p-4 w-md-75 mx-auto w-100"},[0===o.currentStep?((0,n.wg)(),(0,n.iD)("div",Qn,[(0,n._)("div",Kn,[(0,n._)("div",Jn,[Xn,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.product.title=e),placeholder:"Tech Summit, Afro summit",type:"text",id:"title",class:(0,a.C_)([{"is-invalid":o.product.title&&!s.isValidTitle()},"form-control"])},null,2),[[b.nr,o.product.title]]),o.product.title&&!s.isValidTitle()?((0,n.wg)(),(0,n.iD)("div",ea," Title must be at least two words. ")):(0,n.kq)("",!0)]),(0,n._)("div",ta,[(0,n._)("div",null,[(0,n._)("div",null,[ra,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.product.tag=e),type:"text",placeholder:"Tags (comma-separated)",id:"title",class:"form-control"},null,512),[[b.nr,o.product.tag]])])])])]),(0,n._)("div",na,[(0,n._)("div",aa,[ia,(0,n._)("div",null,[o.categories.length>0?(0,n.wy)(((0,n.wg)(),(0,n.iD)("select",{key:0,class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>o.categoryID=e)},[oa,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.categories,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e._id,value:e._id},(0,a.zw)(e.type),9,sa)))),128))],512)),[[b.bM,o.categoryID]]):(0,n.kq)("",!0)])]),(0,n._)("div",la,[(0,n._)("div",ca,[da,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.product.currency=e),id:"currency",class:"form-control",required:""},pa,512),[[b.bM,o.product.currency]])]),ha,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.product.price=e),type:"text",placeholder:"price",id:"price",class:"form-control"},null,512),[[b.nr,o.product.price]]),ma])]),(0,n._)("div",fa,[va,(0,n._)("div",null,[(0,n.wy)((0,n._)("textarea",{class:"w-100 h-50","onUpdate:modelValue":t[5]||(t[5]=e=>o.product.description=e)},null,512),[[b.nr,o.product.description]])])])])):(0,n.kq)("",!0),1===o.currentStep?((0,n.wg)(),(0,n.iD)("div",ga,[(0,n._)("div",ba,[ya,_a,(0,n._)("div",wa,[(0,n._)("div",ka,[(0,n._)("div",Ca,[Da,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.address=e),type:"text",class:"form-control",id:"address",placeholder:"e.g. 1600 Amphitheatre Parkway, CA",required:""},null,512),[[b.nr,o.address]])])]),(0,n._)("div",Ta,[xa,(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":t[7]||(t[7]=e=>o.product.event.timezone=e)},$a,512),[[b.bM,o.product.event.timezone]])])]),(0,n._)("div",Oa,[(0,n._)("button",{type:"button",class:(0,a.C_)(["btn","single"===o.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[8]||(t[8]=e=>o.eventType="single")}," Single Event ",2),(0,n._)("button",{type:"button",class:(0,a.C_)(["btn","recurring"===o.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[9]||(t[9]=e=>o.eventType="recurring")}," Recurring Event ",2)]),(0,n._)("div",Ua,[(0,n._)("div",ja,[Ma,(0,n.wy)((0,n._)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>o.product.event.startDate=e)},null,512),[[b.nr,o.product.event.startDate]])]),"recurring"===o.eventType?((0,n.wg)(),(0,n.iD)("div",Fa,[qa,(0,n.wy)((0,n._)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=e=>o.product.event.endDate=e)},null,512),[[b.nr,o.product.event.endDate]])])):(0,n.kq)("",!0)]),(0,n._)("div",za,[(0,n._)("div",Ia,[Va,(0,n._)("div",Na,[(0,n._)("div",Ra,[(0,n.wy)((0,n._)("input",{type:"time",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=e=>o.product.event.startTime=e)},null,512),[[b.nr,o.product.event.startTime]])])])]),"recurring"===o.eventType?((0,n.wg)(),(0,n.iD)("div",La,[Ba,(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":t[13]||(t[13]=e=>o.eventFrequency=e)},Ga,512),[[b.bM,o.eventFrequency]])])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0),2===o.currentStep?((0,n.wg)(),(0,n.iD)("div",Qa,[(0,n._)("div",Ka,[(0,n._)("div",Ja,[(0,n._)("div",Xa,[ei,ti,ri,(0,n._)("div",null,[(0,n._)("label",ni,[ai,ii,(0,n._)("input",{type:"file",multiple:"",onChange:t[14]||(t[14]=(...e)=>s.handleFiles&&s.handleFiles(...e)),accept:"image/*",id:"imageUpload",class:"d-none"},null,32),o.photos.length?((0,n.wg)(),(0,n.iD)("p",oi,"Selected: "+(0,a.zw)(o.photos.length)+" image(s)",1)):(0,n.kq)("",!0)]),o.previewUrl?((0,n.wg)(),(0,n.iD)("div",si,[(0,n._)("img",{src:o.previewUrl,alt:"Preview",class:"img-fluid rounded shadow",style:{"max-height":"250px"}},null,8,li)])):(0,n.kq)("",!0)]),ci]),di])])])):(0,n.kq)("",!0),3===o.currentStep?((0,n.wg)(),(0,n.iD)("div",ui,[(0,n._)("div",pi,[hi,mi,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.tickets,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"row g-3 align-items-end mb-2"},[(0,n._)("div",fi,[vi,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.name=t,type:"text",class:"form-control",placeholder:"e.g. General Admission"},null,8,gi),[[b.nr,e.name]])]),(0,n._)("div",bi,[yi,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.quantity=t,type:"number",class:"form-control"},null,8,_i),[[b.nr,e.quantity,void 0,{number:!0}]])]),(0,n._)("div",wi,[ki,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t=>e.price=t,type:"number",class:"form-control",placeholder:"Blank for free event"},null,8,Ci),[[b.nr,e.price,void 0,{number:!0}]])]),(0,n._)("div",Di,[(0,n._)("button",{class:"btn btn-outline-danger w-25",title:"Delete",onClick:e=>s.removeTicket(t)},Si,8,Ti)])])))),128)),(0,n._)("div",Pi,[(0,n._)("button",{class:"btn btn-primary btn-primary:hover",type:"button",onClick:t[15]||(t[15]=e=>s.addTicket("Paid"))}," + ticket ")])])])):(0,n.kq)("",!0),(0,n._)("div",Ei,[(0,n._)("button",{type:"button",class:"btn btn-danger",onClick:t[16]||(t[16]=(...e)=>s.prevStep&&s.prevStep(...e)),disabled:0===o.currentStep}," Back ",8,Ai),o.currentStep<o.steps.length-1?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"btn btn-primary btn-primary:hover",onClick:t[17]||(t[17]=(...e)=>s.nextStep&&s.nextStep(...e))}," Next ")):((0,n.wg)(),(0,n.iD)("button",$i," Create Event "))])],32)])]),o.spinner?((0,n.wg)(),(0,n.j4)(l,{key:0})):(0,n.kq)("",!0)])}var Ui=r(6149),ji=r(497),Mi={components:{QuillEditor:Ui.Bn,spinner:ji.Z},data(){return{currentStep:0,steps:["Basic Info","Event Details","Media Upload","Tickets"],categories:[],spinner:!1,categoryID:"",product:{title:"",description:"",currency:"",tag:"",price:"",event:{startDate:"",endDate:"",startTime:"",timezone:"UTC",location:""}},address:"",eventType:"single",eventFrequency:"",photos:[],previewUrl:null,tickets:[{name:"",price:null,quantity:null}]}},computed:{...(0,g.Se)(["getToken"])},async created(){try{const e=await W.Z.get("https://event-ticket-qa70.onrender.com/api/categories");this.categories=e.data.categories||e.data,console.log("Categories fetched:",this.categories)}catch(e){console.error("Failed to fetch categories:",e)}},methods:{isValidTitle(){return this.product.title.trim().split(/\s+/).length>=2},nextStep(){this.currentStep<this.steps.length-1&&this.currentStep++},prevStep(){this.currentStep>0&&this.currentStep--},handleFiles(e){const t=Array.from(e.target.files);if(this.photos=t,t.length>0){const e=new FileReader;e.onload=e=>{this.previewUrl=e.target.result},e.readAsDataURL(t[0])}},addTicket(e){this.tickets.push({name:"",quantity:null,price:null})},removeTicket(e){this.tickets.splice(e,1)},duplicateTicket(e){const t=this.tickets[e];this.tickets.splice(e+1,0,{...t})},async submitProduct(){this.spinner=!0;const e=new FormData;e.append("categoryID",this.categoryID),e.append("title",this.product.title),e.append("description",this.product.description),e.append("tag",this.product.tag),e.append("price",this.product.price),e.append("currency",this.product.currency),e.append("eventDate",new Date(this.product.event.startDate).toISOString()),this.product.event.endDate&&e.append("endDate",new Date(this.product.event.endDate).toISOString()),e.append("startTime",this.product.event.startTime+" "),e.append("timezone",this.product.event.timezone),e.append("locationName",this.address),"recurring"===this.eventType&&e.append("eventFrequency",this.eventFrequency),e.append("tickets",JSON.stringify(this.tickets)),console.log(this.tickets),this.photos.forEach((t=>{e.append("photos",t)}));for(let[r,n]of e.entries())console.log(`${r}:`,n);try{const t=await W.Z.post("https://event-ticket-qa70.onrender.com/api/products",e,{headers:{Authorization:`Bearer ${this.getToken}`,"Content-Type":"multipart/form-data"}});console.log("Product created:",t.data),alert("Event created successfully!")}catch(t){if(!t.response||401!==t.response.status)throw t;localStorage.removeItem("token"),router.push("/login")}this.spinner=!1}}};const Fi=(0,Y.Z)(Mi,[["render",Oi],["__scopeId","data-v-53b778fe"]]);var qi=Fi,zi={components:{Bank:_r,Dashboard:Q,event:In,addEvent:qi,Orders:Kt},data(){return{isSectionVisible:!1,mobileTab:"Dashboard",seen:!0,see:!0,se:!0,sidenavWidth:0,isDropdownOpen:!1,isOpen:!1,isAccountHomeVisible:!0,isBankVisible:!1,isOrdersVisible:!1,isEventVisible:!1,isAddEventVisible:!1}},watch:{"$route.query.activeTab"(e,t){this.$router.push({query:{activeTab:e}}).catch((e=>{})),this.initialize()}},computed:{...(0,g.Se)(["isAdmin"]),isTablet(){return window.innerWidth>=768&&window.innerWidth<1024}},methods:{Resize(){this.sidenavWidth=0,this.isNavOpen=!1},toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen},openSidebar(){this.isOpen=!0},closeSidebar(){this.isOpen=!1},toggleSection(){this.isSectionVisible=!this.isSectionVisible},...(0,g.nv)(["getUser","getTokenFromStorage"]),hideAll(){this.isAccountHomeVisible=!1,this.isBankVisible=!1,this.isOrdersVisible=!1,this.isEventVisible=!1,this.isAddEventVisible=!1},onClickHomeTab(){this.hideAll(),this.isAccountHomeVisible=!0,this.mobileTab="Dashboard",this.$router.push({query:{activeTab:"dashboard"}}).catch((e=>{}))},onClickEventTab(){this.hideAll(),this.isEventVisible=!0,this.mobileTab="event",this.$router.push({query:{activeTab:"event"}}).catch((e=>{}))},onClickAddEventTab(){this.hideAll(),this.isAddEventVisible=!0,this.mobileTab="add-event",this.$router.push({query:{activeTab:"add-event"}}).catch((e=>{}))},onClickBankTab(){this.hideAll(),this.isBankVisible=!0,this.mobileTab="bank",this.$router.push({query:{activeTab:"bank"}}).catch((e=>{}))},onClickOrderTab(){this.hideAll(),this.isOrdersVisible=!0,this.mobileTab="user-management",this.$router.push({query:{activeTab:"user-management"}}).catch((e=>{}))},onClickTab(){"dashboard"==this.mobileTab?this.onClickHomeTab():"orders"==this.mobileTab?this.onClickOrderTab():"bank"==this.mobileTab?this.onClickBankTab():"event"===this.mobileTab?this.onClickEventTab():"Add event"===this.mobileTab&&this.onClickAddEventTab()},initialize(){this.$route.query&&("dashboard"==this.$route.query.activeTab?this.onClickHomeTab():"user-management"==this.$route.query.activeTab?this.onClickOrderTab():"bank"==this.$route.query.activeTab?this.onClickBankTab():"event"==this.$route.query.activeTab?this.onClickEventTab():"add-event"==this.$route.query.activeTab?this.onClickAddEventTab():this.onClickHomeTab())}},mounted(){this.initialize(),window.addEventListener("resize",this.Resize)},beforeUnmount(){window.removeEventListener("resize",this.Resize)}};const Ii=(0,Y.Z)(zi,[["render",v],["__scopeId","data-v-8d2ba94a"]]);var Vi=Ii},1369:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return te}});var n=r(3396),a=r(9242),i=r(7139);const o=e=>((0,n.dD)("data-v-27389da8"),e=e(),(0,n.Cn)(),e),s={class:"container-fluid bg-light"},l={class:"section_discover"},c={class:"container-large"},d={class:"row pt-2 pb-2"},u={class:"col-12 pt-2 pb-md-0 pb-1 col-md-6"},p={class:"col-12 col-md-6 pt-1"},h={class:"d-flex flex-column flex-md-row align-items-center justify-content-md-end gap-2"},m={class:"modal-content"},f={class:"d-flex justify-content-between align-items-center mb-3"},v=o((()=>(0,n._)("h5",{class:"m-0 fw-bold"},"Price",-1))),g=o((()=>(0,n._)("i",{class:"bi bi-x-lg"},null,-1))),b=[g],y={class:"row"},_={class:"col"},w=o((()=>(0,n._)("label",null,"Minimum amount",-1))),k={class:"col"},C=o((()=>(0,n._)("label",null,"Maximum amount",-1))),D={class:"d-flex justify-content-between mt-4"},T={class:"modal-content"},x={class:"d-flex justify-content-between align-items-center mb-3"},S=o((()=>(0,n._)("h5",{class:"m-0 fw-bold"},"Date",-1))),P=o((()=>(0,n._)("i",{class:"bi bi-x-lg"},null,-1))),E=[P],A={class:"d-flex justify-content-center gap-3 mb-3"},$={class:"row"},O={class:"col"},U={class:"col"},j={class:"d-flex justify-content-between mt-4"},M={class:"container-fluid"},F={class:"section_discover pt-4"},q={class:"container-large mb-3"},z={class:"mb-3"},I={key:0,class:"alert alert-warning"},V={class:"row"},N=["src"],R={class:"pt-2"},L={class:"mb-1"},B=o((()=>(0,n._)("i",{class:"bi bi-calendar-event me-2"},null,-1))),H={key:0},W={class:"mb-1"},Z=o((()=>(0,n._)("i",{class:"bi bi-geo-alt me-2"},null,-1))),Y=["onClick"],G=o((()=>(0,n._)("div",{class:"row g-4"},[(0,n._)("div",{class:"col-md-6"})],-1)));function Q(e,t,r,o,g,P){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",s,[(0,n._)("div",l,[(0,n._)("div",c,[(0,n._)("div",d,[(0,n._)("div",u,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>g.searchTerm=e),type:"text",class:"form-control",placeholder:"Search events by title"},null,512),[[a.nr,g.searchTerm]])]),(0,n._)("div",p,[(0,n._)("div",h,[(0,n._)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[1]||(t[1]=e=>g.showPriceModal=!0)}," Price "),(0,n._)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[2]||(t[2]=e=>g.showDateModal=!0)}," Date "),(0,n._)("a",{href:"#",class:"text-muted text-decoration-none",onClick:t[3]||(t[3]=(0,a.iM)(((...e)=>P.resetSearch&&P.resetSearch(...e)),["prevent"]))}," Reset Filters ")])])])])])]),g.showPriceModal?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"modal",onClick:t[9]||(t[9]=(0,a.iM)((e=>g.showPriceModal=!1),["self"]))},[(0,n._)("div",m,[(0,n._)("div",f,[v,(0,n._)("button",{class:"btn-icon",onClick:t[4]||(t[4]=e=>g.showPriceModal=!1)},b)]),(0,n._)("div",y,[(0,n._)("div",_,[w,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>g.tempFilters.minPrice=e),type:"number",class:"form-control"},null,512),[[a.nr,g.tempFilters.minPrice,void 0,{number:!0}]])]),(0,n._)("div",k,[C,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>g.tempFilters.maxPrice=e),type:"number",class:"form-control"},null,512),[[a.nr,g.tempFilters.maxPrice,void 0,{number:!0}]])])]),(0,n._)("div",D,[(0,n._)("button",{class:"btn btn-outline-secondary",onClick:t[7]||(t[7]=(...e)=>P.clearPriceFilters&&P.clearPriceFilters(...e))}," Clear "),(0,n._)("button",{class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>P.applyPriceFilters&&P.applyPriceFilters(...e))},"Apply")])])])):(0,n.kq)("",!0),g.showDateModal?((0,n.wg)(),(0,n.iD)("div",{key:1,class:"modal",onClick:t[18]||(t[18]=(0,a.iM)((e=>g.showDateModal=!1),["self"]))},[(0,n._)("div",T,[(0,n._)("div",x,[S,(0,n._)("button",{class:"btn-icon",onClick:t[10]||(t[10]=e=>g.showDateModal=!1)},E)]),(0,n._)("div",A,[(0,n._)("button",{class:"btn btn-outline-dark",onClick:t[11]||(t[11]=(...e)=>P.setToday&&P.setToday(...e))},"Today"),(0,n._)("button",{class:"btn btn-outline-dark",onClick:t[12]||(t[12]=(...e)=>P.setTomorrow&&P.setTomorrow(...e))},"Tomorrow"),(0,n._)("button",{class:"btn btn-outline-dark",onClick:t[13]||(t[13]=(...e)=>P.setThisWeekend&&P.setThisWeekend(...e))}," This weekend ")]),(0,n._)("div",$,[(0,n._)("div",O,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>g.tempFilters.startDate=e),type:"date",class:"form-control"},null,512),[[a.nr,g.tempFilters.startDate]])]),(0,n._)("div",U,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>g.tempFilters.endDate=e),type:"date",class:"form-control"},null,512),[[a.nr,g.tempFilters.endDate]])])]),(0,n._)("div",j,[(0,n._)("button",{class:"btn btn-outline-secondary",onClick:t[16]||(t[16]=(...e)=>P.clearDateFilters&&P.clearDateFilters(...e))}," Clear "),(0,n._)("button",{class:"btn btn-primary",onClick:t[17]||(t[17]=(...e)=>P.applyDateFilters&&P.applyDateFilters(...e))},"Apply")])])])):(0,n.kq)("",!0),(0,n._)("div",M,[(0,n._)("div",F,[(0,n._)("div",q,[(0,n._)("h3",z,"Explore "+(0,i.zw)(P.filteredProducts.length)+" Events",1),0===P.filteredProducts.length?((0,n.wg)(),(0,n.iD)("div",I," No events match your search. ")):(0,n.kq)("",!0),(0,n._)("div",V,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(P.filteredProducts,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col-md-4 pt-3",key:e._id},[(0,n._)("div",null,[(0,n._)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,N),(0,n._)("div",R,[(0,n._)("h5",null,(0,i.zw)(e.title),1),(0,n._)("p",L,[B,(0,n.Uk)(" "+(0,i.zw)(P.formatDate(e.event.start))+" ",1),e.event.end?((0,n.wg)(),(0,n.iD)("span",H,"- "+(0,i.zw)(P.formatDate(e.event.end)),1)):(0,n.kq)("",!0)]),(0,n._)("p",W,[Z,(0,n.Uk)(" "+(0,i.zw)(e.event.location.name||"No location"),1)]),(0,n._)("p",null,(0,i.zw)(0===e.event.tickets[0].price&&0===e.event.tickets[e.event.tickets.length-1].price?"Free":e.event.tickets[0].price===e.event.tickets[e.event.tickets.length-1].price?P.formatPrice(e.event.tickets[0].price):`${P.formatPrice(e.event.tickets[0].price)} - ${P.formatPrice(e.event.tickets[e.event.tickets.length-1].price)}`),1),(0,n._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>P.goToProduct(e.title)}," View Event ",8,Y)])])])))),128))]),G])])])])}var K=r(4161),J={name:"ProductList",data(){return{products:[],reference:"",loading:!0,searchTerm:"",filters:{minPrice:0,maxPrice:1/0,startDate:null,endDate:null},tempFilters:{minPrice:0,maxPrice:1e5,startDate:null,endDate:null},showPriceModal:!1,showDateModal:!1}},computed:{filteredProducts(){const e=this.searchTerm.toLowerCase();return this.products.filter((t=>{const r=t.title?.toLowerCase().includes(e),n=t.event?.location?.name?.toLowerCase().includes(e.toLowerCase()),a=t.price||0,i=(!this.filters.minPrice||a>=this.filters.minPrice)&&(!this.filters.maxPrice||a<=this.filters.maxPrice),o=new Date(t.event?.date),s=this.filters.startDate?new Date(this.filters.startDate):null,l=this.filters.endDate?new Date(this.filters.endDate):null,c=new Date(o.toDateString()),d=s?new Date(s.toDateString()):null,u=l?new Date(l.toDateString()):null,p=(!d||c>=d)&&(!u||c<=u);return(r||n)&&i&&p}))}},methods:{async fetchProducts(){try{const e=await K.Z.get("https://event-ticket-qa70.onrender.com/api/products");this.products=e.data.products,console.log(this.products)}catch(e){console.error("Error fetching products:",e)}},goToProduct(e){const t=e.replace(/\s+/g,"-").toLowerCase();window.open(`/product/${t}`,"_blank")},formatDate(e){if(!e)return"";const t={weekday:"short",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`₦${e}`:"Free"},resetSearch(){this.searchTerm="",this.filters={minPrice:0,maxPrice:1/0,startDate:null,endDate:null}},applyPriceFilters(){this.filters.minPrice=this.tempFilters.minPrice,this.filters.maxPrice=this.tempFilters.maxPrice,this.showPriceModal=!1},clearPriceFilters(){this.tempFilters.minPrice=0,this.tempFilters.maxPrice=1e5,this.applyPriceFilters()},applyDateFilters(){this.filters.startDate=this.tempFilters.startDate,this.filters.endDate=this.tempFilters.endDate,this.showDateModal=!1},clearDateFilters(){this.tempFilters.startDate=null,this.tempFilters.endDate=null,this.applyDateFilters()},setToday(){const e=(new Date).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setTomorrow(){const e=new Date(Date.now()+864e5).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setThisWeekend(){const e=new Date,t=e.getDay(),r=new Date(e);r.setDate(e.getDate()+(6-t));const n=new Date(r);n.setDate(r.getDate()+1),this.tempFilters.startDate=r.toISOString().split("T")[0],this.tempFilters.endDate=n.toISOString().split("T")[0]}},mounted(){this.fetchProducts()}},X=r(89);const ee=(0,X.Z)(J,[["render",Q],["__scopeId","data-v-27389da8"]]);var te=ee},5869:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(3396),a=r(9242),i=r(7139);const o=e=>((0,n.dD)("data-v-bf90f0b4"),e=e(),(0,n.Cn)(),e),s={class:"sidebar-header d-flex justify-content-between align-items-center p-3"},l=o((()=>(0,n._)("h5",{class:"mb-0 text-white"},"Menu",-1))),c=(0,n.uE)('<div class="sidebar-content p-3 text-white" data-v-bf90f0b4><ul class="list-unstyled" data-v-bf90f0b4><li data-v-bf90f0b4><a href="#" class="text-white" data-v-bf90f0b4>Home</a></li><li data-v-bf90f0b4><a href="#" class="text-white" data-v-bf90f0b4>Profile</a></li><li data-v-bf90f0b4><a href="#" class="text-white" data-v-bf90f0b4>Settings</a></li></ul></div>',1);function d(e,t,r,o,d,u){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("button",{class:"btn btn-primary m-2",onClick:t[0]||(t[0]=(...e)=>u.openSidebar&&u.openSidebar(...e))},"Open Sidebar"),d.isOpen?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"sidebar-overlay",onClick:t[1]||(t[1]=(0,a.iM)(((...e)=>u.closeSidebar&&u.closeSidebar(...e)),["self"]))})):(0,n.kq)("",!0),(0,n._)("div",{class:(0,i.C_)(["sidebar",{"sidebar-open":d.isOpen}])},[(0,n._)("div",s,[l,(0,n._)("button",{class:"btn btn-sm btn-light",onClick:t[2]||(t[2]=(...e)=>u.closeSidebar&&u.closeSidebar(...e))},"×")]),c],2)])}var u={name:"SideNav",data(){return{isOpen:!1}},methods:{openSidebar(){this.isOpen=!0},closeSidebar(){this.isOpen=!1}}},p=r(89);const h=(0,p.Z)(u,[["render",d],["__scopeId","data-v-bf90f0b4"]]);var m=h},8360:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return q}});var n=r(3396),a=r(7139);const i=e=>((0,n.dD)("data-v-a89f82fc"),e=e(),(0,n.Cn)(),e),o={class:"container text-start"},s=i((()=>(0,n._)("h2",null,"Staff Products",-1))),l={key:0},c={key:1},d={class:"row"},u={class:"col-md-8"},p=["src"],h={class:"card-body"},m={class:"card-title"},f={class:"border-top pt-2 mt-2"},v=i((()=>(0,n._)("h6",{class:"fw-bold"},"Event Info",-1))),g={class:"mb-1"},b=i((()=>(0,n._)("strong",null,"Location:",-1))),y={class:"mb-1"},_=i((()=>(0,n._)("strong",null,"Start:",-1))),w={class:"mb-1"},k={key:0},C={class:"border-top pt-2 mt-2"},D=i((()=>(0,n._)("h6",{class:"fw-bold"},"Tickets",-1))),T={class:"list-unstyled mb-0"},x={class:"text-muted"},S={class:"col-md-4"},P={class:"card shadow-sm border-0 h-100"},E=i((()=>(0,n._)("div",{class:"text center bg-success p-2",style:{color:"white"}},[(0,n._)("h5",{class:"mb-0"},"Scanner")],-1))),A={class:"card-body d-flex align-items-center justify-content-center"};function $(e,t,r,i,$,O){const U=(0,n.up)("Scanner",!0);return(0,n.wg)(),(0,n.iD)("div",o,[s,$.loading?((0,n.wg)(),(0,n.iD)("div",l,"Loading...")):((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",d,[(0,n._)("div",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.products,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"card mb-4 shadow-sm border-0"},[e.productID.photos&&e.productID.photos.length?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.productID.photos[0],alt:"Product Image",class:"card-img-top",style:{height:"200px","object-fit":"cover"}},null,8,p)):(0,n.kq)("",!0),(0,n._)("div",h,[(0,n._)("h5",m,(0,a.zw)(e.productID.title),1),(0,n._)("div",f,[v,(0,n._)("p",g,[b,(0,n.Uk)(" "+(0,a.zw)(e.productID.event.location.name),1)]),(0,n._)("p",y,[_,(0,n.Uk)(" "+(0,a.zw)(O.formatDate(e.productID.event.start))+" at "+(0,a.zw)(e.productID.event.startTime),1)]),(0,n._)("p",w,[e.productID.event.end?((0,n.wg)(),(0,n.iD)("span",k,"- "+(0,a.zw)(O.formatDate(e.productID.event.end))+" at ",1)):(0,n.kq)("",!0)])]),(0,n._)("div",C,[D,(0,n._)("ul",T,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.productID.event.tickets,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e._id,class:"d-flex justify-content-between"},[(0,n._)("span",null,(0,a.zw)(e.name),1),(0,n._)("span",x," $"+(0,a.zw)(e.price)+" ("+(0,a.zw)(e.quantity)+" left) ",1)])))),128))])])])])))),128))]),(0,n._)("div",S,[(0,n._)("div",P,[E,(0,n._)("div",A,[(0,n.Wm)(U)])])])])]))])}var O=r(4161),U=r(274),j={components:{Scanner:U.Z},data(){return{products:[],loading:!0}},async mounted(){try{const e=localStorage.getItem("staffToken");console.log(e);const t=await O.Z.get("https://event-ticket-qa70.onrender.com/api/staff",{headers:{Authorization:`Bearer ${e}`}});console.log(e),this.products=t.data.products}catch(e){console.error("Error fetching staff products:",e)}finally{this.loading=!1}},methods:{formatDate(e){const t=new Date(e);return t.toLocaleDateString()}}},M=r(89);const F=(0,M.Z)(j,[["render",$],["__scopeId","data-v-a89f82fc"]]);var q=F},497:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(3396);const a={class:"spinner"},i=(0,n._)("div",{class:"double-bounce1"},null,-1),o=(0,n._)("div",{class:"double-bounce2"},null,-1),s=[i,o];function l(e,t){return(0,n.wg)(),(0,n.iD)("div",a,s)}var c=r(89);const d={},u=(0,c.Z)(d,[["render",l]]);var p=u},7808:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(3396);const a={class:"container text-start py-5"},i=(0,n.uE)('<div class="row align-items-center"><div class="col-lg-6 mb-4 mb-lg-0"><h1 class="fw-bold mb-3">About Us</h1><p class="fs-6 text-muted mb-4"> Welcome to 234 AFRICA, your premier event ticketing platform dedicated to connecting people with unforgettable experiences across Africa. </p><p class="fs-6 text-muted"> Our platform connects event organizers and attendees in a seamless way, giving you real-time access to tickets, event details, and more. </p><p class="fs-6 text-muted"> Join our growing community and never miss out on the next big thing around you! </p></div><div class="col-lg-6 text-center"><img src="https://images.unsplash.com/photo-1521737604893-d14cc237f11d" alt="People enjoying an event" class="img-fluid rounded"></div></div>',1),o=[i];function s(e,t){return(0,n.wg)(),(0,n.iD)("div",a,o)}var l=r(89);const c={},d=(0,l.Z)(c,[["render",s]]);var u=d},6164:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var n=r(3396),a=r(7139);const i={class:""},o={class:"padding-global"},s={style:{"background-image":"url('/IMG_0305.PNG')","background-size":"cover",position:"relative","background-position":"center",height:"fit-content",overflow:"hidden"}},l=(0,n._)("div",{style:{position:"absolute",inset:"0","background-color":"rgba(0, 0, 0, 0.6)","z-index":"1"}},null,-1),c={class:"container-large",style:{}},d={class:"home-hero_content text-start"},u={class:"home-hero_content-col-left",style:{position:"relative","z-index":"2",color:"white",padding:"2rem"}},p=(0,n.uE)('<div class="max-width-medium pt-md-4 pt-1"><h1 class="text-white pt-md-5 pt-0">Find It. Book It. Live It.</h1></div><div class="padding-bottom padding-small"><div class="padding-bottom padding-xxsmall"></div></div><p> From concerts to community events — unlock access to experiences that stay with you. </p><div class="padding-bottom padding-custom2"></div>',4),h={class:"home-hero_button-group"},m={class:"container pt-4"},f={class:"overflow-auto"},v={key:0,class:"d-flex flex-nowrap text-center justify-content-between gap-4"},g=["onClick"],b=["src"],y={class:"mt-2 mb-0"},_={key:1},w=(0,n.uE)('<div class="container py-5"><div class="row text-start"><div class="col-md-6 mb-4 mb-md-0"><h1 class="fw-bold display-4">find your vibe</h1></div><div class="col-md-6 d-flex flex-column justify-content-end text-start"><small> From late-night parties to inspiring talks, there’s always an event that matches your energy. </small></div></div></div>',1),k={class:"container pt-4 text-start py-4"},C=(0,n._)("h3",{class:"mb-3"},"Trending Events",-1),D={class:"row"},T=["src"],x={class:"pt-2"},S={class:"mb-1"},P=(0,n._)("i",{class:"bi bi-calendar-event me-2"},null,-1),E={key:0},A={class:"mb-1"},$=(0,n._)("i",{class:"bi bi-clock me-2"},null,-1),O={class:"mb-1"},U=(0,n._)("i",{class:"bi bi-geo-alt me-2"},null,-1),j=["onClick"],M=(0,n.uE)('<div class="container"><div class="row align-items-center text-start pt-5"><div class="col-lg-6 mb-4 mb-lg-0"><h1 class="fw-bold mb-3">About Us</h1><p class="fs-6 text-muted mb-4"> Welcome to 234Tickets — your plug for unforgettable experiences. We’re here to connect you with the best concerts, festivals, parties, and cultural events across the globe. With a smooth booking process, instant ticket access, and real-time updates, we make sure you never miss out on the vibe. </p><p class="fs-6 text-muted"> Our platform connects event organizers and attendees in a seamless way, giving you real-time access to tickets, event details, and more. </p><p class="fs-6 text-muted"> Join our growing community of event lovers and discover what’s next, one ticket at a time. </p></div><div class="col-lg-6 text-center"><img src="https://images.unsplash.com/photo-1521737604893-d14cc237f11d" alt="People enjoying an event" class="img-fluid rounded"></div></div><div class="row align-items-center py-5 text-start"><div class="col-md-6 text-center mt-4 mt-md-0"><img src="/undraw_data-reports_l2u3.svg" class="img-fluid" alt="Manage Events Illustration"></div><div class="col-md-6"><h3 class="fw-bold mb-3">Manage Your Events Easily</h3><p class="text-muted"> Create. Share. Sell. Running an event? We’ve got you covered. </p><ul class="list-unstyled text-muted"><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>Create Set up your event in minutes </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>Monitor Sell tickets and track sales instantly </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i> Get real-time check-ins and guest insights Built-in tools for promo and payments </li></ul><a href="features-create.html" class="btn btn-primary btn-primary:hover mt-3">Create Event</a></div></div><section class=""><div class="row g-4"><section class="container py-5"><div class="row align-items-center text-start"><div class="col-md-6"><h3 class="fw-bold mb-3">24/7 Live Support</h3><ul class="list-unstyled text-muted"><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>We’ve Got Your Back, 24/7 Need help? Our team is always here to keep things moving. </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>Guides, FAQs, and self-help tools </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i> Fast chat &amp; email support </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>Help center with detailed guides and FAQs </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>Event setup specialists on demand </li></ul><a href="#" class="btn btn-primary btn-primary:hover mt-3 mb-3" style="color:#429371;">Get Help Now</a></div><div class="col-md-6 mb-4 mb-md-0 text-center"><img src="/undraw_active-support_v6g0.svg" class="img-fluid" alt="Live Support"></div></div></section></div></section></div><div class="container text-center py-5"><h2 class="fw-bold">Pricing</h2><p class="text-muted">No hidden fees. Only pay when you sell tickets.</p><div class="bg-light rounded-3 p-4 my-4 mx-auto" style="max-width:400px;"><div class="fs-4 fw-semibold">7.5% <span class="fw-bold"></span></div><div class="text-muted">per paid ticket</div></div><p class="text-success fw-medium"> Free tickets? <span class="fw-bold">No charge at all!</span></p></div>',2);function F(e,t,r,F,q,z){const I=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",o,[(0,n._)("div",s,[l,(0,n._)("div",c,[(0,n._)("div",d,[(0,n._)("div",u,[p,(0,n._)("div",h,[(0,n.Wm)(I,{class:"button text-decoration-none btn-primary btn-primary:hover",to:"/dashboard"},{default:(0,n.w5)((()=>[(0,n.Uk)("Host an event")])),_:1}),(0,n.Wm)(I,{class:"button is-secondary text-decoration-none is-white w-button",to:"/events"},{default:(0,n.w5)((()=>[(0,n.Uk)("Find Events")])),_:1})])])])])])]),(0,n._)("div",m,[(0,n._)("div",f,[q.categories.length?((0,n.wg)(),(0,n.iD)("div",v,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(q.categories,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e._id,class:"flex-shrink-0"},[(0,n._)("div",{class:"border rounded-circle icon-box p-4 d-flex align-items-center justify-content-center mx-auto",style:{width:"80px",height:"80px"},onClick:t=>z.goToCategory(e.type)},[(0,n._)("img",{src:e.photo,alt:"Category SVG",width:"40",height:"40"},null,8,b)],8,g),(0,n._)("p",y,(0,a.zw)(e.type),1)])))),128))])):((0,n.wg)(),(0,n.iD)("p",_,"No categories found."))])]),w,(0,n._)("div",k,[C,(0,n._)("div",D,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(q.products,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"col-md-4 mb-2",key:e._id},[(0,n._)("div",null,[(0,n._)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,T),(0,n._)("div",x,[(0,n._)("div",null,[(0,n._)("h5",null,(0,a.zw)(e.title),1),(0,n._)("p",S,[P,(0,n.Uk)(" "+(0,a.zw)(z.formatDate(e.event.start))+" ",1),e.event.end?((0,n.wg)(),(0,n.iD)("span",E,"- "+(0,a.zw)(z.formatDate(e.event.end)),1)):(0,n.kq)("",!0)]),(0,n._)("p",A,[$,(0,n.Uk)(" "+(0,a.zw)(e.event.startTime)+" - "+(0,a.zw)(e.event.endTime),1)]),(0,n._)("p",O,[U,(0,n.Uk)(" "+(0,a.zw)(e.event.location.name||"No location"),1)]),(0,n._)("p",null,(0,a.zw)(0===e.event.tickets[0].price&&0===e.event.tickets[e.event.tickets.length-1].price?"Free":e.event.tickets[0].price===e.event.tickets[e.event.tickets.length-1].price?z.formatPrice(e.event.tickets[0].price):`${z.formatPrice(e.event.tickets[0].price)} - ${z.formatPrice(e.event.tickets[e.event.tickets.length-1].price)}`),1)]),(0,n._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>z.goToProduct(e.title)}," View Event ",8,j)])])])))),128))])]),M])}r(7658);var q=r(4161),z={name:"CategoriesList",data(){return{categories:[],products:[]}},mounted(){this.fetchCategories(),this.fetchProducts()},methods:{goToCategory(e){const t=e.replace(/\s+/g,"-").trim();this.$router.push(`/categories/${t}`)},async fetchCategories(){try{const e=await q.Z.get("https://event-ticket-qa70.onrender.com/api/categories");e.data.status&&(this.categories=e.data.categories),console.log("Categories fetched:",this.categories)}catch(e){console.error("Error fetching categories:",e.message)}},async fetchProducts(){try{const e=await q.Z.get("https://event-ticket-qa70.onrender.com/api/products"),t=e.data.products,r=t.sort((()=>Math.random()-.5));this.products=r.slice(0,3)}catch(e){console.error("Error fetching products:",e)}},goToProduct(e){const t=e.replace(/\s+/g,"-").toLowerCase();window.open(`/product/${t}`,"_blank")},formatDate(e){if(!e)return"No date";const t={weekday:"short",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`₦${e}`:"Free"}}},I=r(89);const V=(0,I.Z)(z,[["render",F]]);var N=V},927:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(3396),a=r(9242);const i={class:"staff-login"},o=(0,n._)("h2",null,"Staff Login",-1),s=(0,n._)("label",null,"Name",-1),l=(0,n._)("label",null,"Passcode",-1),c=(0,n._)("button",{type:"submit"},"Login",-1);function d(e,t,r,d,u,p){return(0,n.wg)(),(0,n.iD)("div",i,[o,(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>p.loginStaff&&p.loginStaff(...e)),["prevent"]))},[(0,n._)("div",null,[s,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>u.name=e),type:"text",required:"",placeholder:"Enter staff name"},null,512),[[a.nr,u.name]])]),(0,n._)("div",null,[l,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.passcode=e),type:"password",required:"",placeholder:"Enter passcode"},null,512),[[a.nr,u.passcode]])]),c],32)])}r(7658);var u=r(4161),p={data(){return{name:"",passcode:""}},methods:{async loginStaff(){try{const e=await u.Z.post("https://event-ticket-qa70.onrender.com/api/staff/login",{name:this.name,passcode:this.passcode});e.data.success?(localStorage.setItem("staffToken",e.data.token),alert("Staff login successful!"),this.$router.push("/scanner")):alert(e.data.message)}catch(e){alert(e.response?.data?.message||"Login failed")}}}},h=r(89);const m=(0,h.Z)(p,[["render",d]]);var f=m}}]);
//# sourceMappingURL=about.3c18b5ca.js.map