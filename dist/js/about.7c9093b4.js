(self["webpackChunkrest"]=self["webpackChunkrest"]||[]).push([[594],{188:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return $n}});var n=r(6768),a=r(4232);const o={class:""},i={class:"sidebar-header d-flex justify-content-between align-items-center p-3"},s={class:"sidebar-content p-3 text-white"},l={class:"list-unstyled"},c={key:0,class:"list-unstyled ms-3"},d={key:0,class:"list-unstyled ms-3"},u={class:"d-block d-md-none p-2"};function p(e,t,r,p,h,m){const f=(0,n.g2)("Dashboard"),v=(0,n.g2)("Orders"),b=(0,n.g2)("Bank"),k=(0,n.g2)("event"),y=(0,n.g2)("addEvent");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("div",{class:(0,a.C4)([["sidebar",{"sidebar-open":h.isOpen}],"d-none d-md-block"])},[(0,n.Lk)("div",i,[t[15]||(t[15]=(0,n.Lk)("h5",{class:"mb-0 text-white"},"Menu",-1)),(0,n.Lk)("button",{class:"btn btn-sm btn-light",onClick:t[0]||(t[0]=(...e)=>m.closeSidebar&&m.closeSidebar(...e))},"Ã—")]),(0,n.Lk)("div",s,[(0,n.Lk)("ul",l,[(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[1]||(t[1]=e=>h.seen=!h.seen),class:"text-white d-block"},[...t[16]||(t[16]=[(0,n.Lk)("i",{class:"flaticon-381-networking"},null,-1),(0,n.eW)(" Dashboard ",-1)])]),h.seen?((0,n.uX)(),(0,n.CE)("ul",c,[(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[2]||(t[2]=(...e)=>m.onClickHomeTab&&m.onClickHomeTab(...e)),class:"text-white"},"Dashboard")]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[3]||(t[3]=(...e)=>m.onClickOrderTab&&m.onClickOrderTab(...e)),class:"text-white"},"User Management")])])):(0,n.Q3)("",!0)]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[4]||(t[4]=e=>h.see=!h.see),class:"text-white d-block"},[...t[17]||(t[17]=[(0,n.Lk)("i",{class:"flaticon-381-television"},null,-1),(0,n.eW)(" Apps ",-1)])]),h.see?((0,n.uX)(),(0,n.CE)("ul",d,[(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[5]||(t[5]=(...e)=>m.onClickBankTab&&m.onClickBankTab(...e)),class:"text-white"},"Bank Info")]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[6]||(t[6]=(...e)=>m.onClickEventTab&&m.onClickEventTab(...e)),class:"text-white"},"My Event")]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[7]||(t[7]=(...e)=>m.onClickAddEventTab&&m.onClickAddEventTab(...e)),class:"text-white"},"Add Event")])])):(0,n.Q3)("",!0)])])])],2),(0,n.Lk)("div",u,[(0,n.Lk)("div",{class:"dropdown form-control p-2",onClick:t[13]||(t[13]=(...e)=>m.toggleDropdown&&m.toggleDropdown(...e)),style:{width:"fit-content"}},[(0,n.Lk)("a",{class:(0,a.C4)(["dropdown-toggle",{active:h.isDropdownOpen}])},(0,a.v_)(h.mobileTab),3),(0,n.Lk)("div",{class:(0,a.C4)(["dropdown-menu",{show:h.isDropdownOpen}])},[(0,n.Lk)("a",{class:"dropdown-item",onClick:t[8]||(t[8]=(...e)=>m.onClickHomeTab&&m.onClickHomeTab(...e))},"Dashboard"),(0,n.Lk)("a",{class:"dropdown-item",onClick:t[9]||(t[9]=(...e)=>m.onClickOrderTab&&m.onClickOrderTab(...e))},"User Management"),(0,n.Lk)("a",{class:"dropdown-item",onClick:t[10]||(t[10]=(...e)=>m.onClickBankTab&&m.onClickBankTab(...e))},"Bank Info"),(0,n.Lk)("a",{class:"dropdown-item",onClick:t[11]||(t[11]=(...e)=>m.onClickEventTab&&m.onClickEventTab(...e))},"My Event"),(0,n.Lk)("a",{class:"dropdown-item",onClick:t[12]||(t[12]=(...e)=>m.onClickAddEventTab&&m.onClickAddEventTab(...e))},"Add Event")],2)])]),(0,n.Lk)("div",{class:(0,a.C4)(["page-content",{"page-shift":h.isOpen}])},[h.isOpen?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:0,class:"btn btn-primary m-2 d-none d-md-block",onClick:t[14]||(t[14]=(...e)=>m.openSidebar&&m.openSidebar(...e))}," â˜° ")),h.isAccountHomeVisible?((0,n.uX)(),(0,n.Wv)(f,{key:1})):(0,n.Q3)("",!0),h.isOrdersVisible?((0,n.uX)(),(0,n.Wv)(v,{key:2})):(0,n.Q3)("",!0),h.isBankVisible?((0,n.uX)(),(0,n.Wv)(b,{key:3})):(0,n.Q3)("",!0),h.isEventVisible?((0,n.uX)(),(0,n.Wv)(k,{key:4})):(0,n.Q3)("",!0),h.isAddEventVisible?((0,n.uX)(),(0,n.Wv)(y,{key:5})):(0,n.Q3)("",!0)],2)])}r(4114);var h=r(782),m=r(5130);const f={class:"container py-4"},v={class:"row g-3"},b={class:"col-md-4"},k={class:"p-3 border rounded text-center bg-light"},y={class:"col-md-4"},g={class:"p-3 border rounded text-center bg-light"},L={class:"col-md-4"},w={class:"p-3 border rounded text-center bg-light"},C={class:"container-flui"},T={class:"filter pt-2 row align-items-center"},_={class:"col-auto"},x={class:"card-body p-0"},E={class:"table-container"},S={class:"table table-striped mb-0"},P={class:""},D={class:"tes"},A={class:"pagination"},$=["disabled"],O=["onClick"],F=["disabled"];function U(e,t,r,o,i,s){return(0,n.uX)(),(0,n.CE)("div",f,[t[16]||(t[16]=(0,n.Lk)("h2",{class:"mb-4 text-center"},"Dashboard Overview",-1)),(0,n.Lk)("div",v,[(0,n.Lk)("div",b,[(0,n.Lk)("div",k,[(0,n.eW)((0,a.v_)(e.getProductsByUser.length)+" ",1),t[4]||(t[4]=(0,n.Lk)("p",{class:"mb-1 fw-bold"},"Total Events",-1))])]),(0,n.Lk)("div",y,[(0,n.Lk)("div",g,[(0,n.eW)((0,a.v_)(i.totalPrice)+" ",1),t[5]||(t[5]=(0,n.Lk)("p",{class:"mb-1 fw-bold"},"Total Revenue",-1))])]),(0,n.Lk)("div",L,[(0,n.Lk)("div",w,[(0,n.eW)((0,a.v_)(i.orders.length)+" ",1),t[6]||(t[6]=(0,n.Lk)("p",{class:"mb-1 fw-bold"},"Total Orders",-1))])])]),(0,n.Lk)("div",C,[(0,n.Lk)("div",null,[(0,n.Lk)("div",T,[(0,n.Lk)("div",_,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e),placeholder:"Search by Order ID"},null,512),[[m.Jo,i.searchQuery]])])]),t[15]||(t[15]=(0,n.Lk)("div",{class:"text-center bg-success text-white p-2"},[(0,n.Lk)("h5",{class:"mb-0"},"My orders")],-1)),(0,n.Lk)("div",x,[(0,n.Lk)("div",E,[(0,n.Lk)("table",S,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[t[7]||(t[7]=(0,n.Lk)("th",null,"Order ID",-1)),t[8]||(t[8]=(0,n.Lk)("th",null,"Date",-1)),t[9]||(t[9]=(0,n.Lk)("th",null,"reference",-1)),t[10]||(t[10]=(0,n.Lk)("th",null,"name of event",-1)),t[11]||(t[11]=(0,n.Lk)("th",null,"Customer Name",-1)),t[12]||(t[12]=(0,n.Lk)("th",null,"Phone number",-1)),t[13]||(t[13]=(0,n.Lk)("th",null,"Amount",-1)),t[14]||(t[14]=(0,n.Lk)("th",null,"Ticket type",-1)),(0,n.Lk)("th",null,[(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>s.downloadAndSendOrders&&s.downloadAndSendOrders(...e))},"download")])])]),(0,n.Lk)("tbody",P,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.filteredOrders,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e._id},[(0,n.Lk)("td",null,(0,a.v_)(e._id),1),(0,n.Lk)("td",null,(0,a.v_)(new Date(e.createdAt).toLocaleString()),1),(0,n.Lk)("td",D,(0,a.v_)(e.reference),1),(0,n.Lk)("td",null,(0,a.v_)(e.title),1),(0,n.Lk)("td",null,(0,a.v_)(e.contact?.email||"N/A"),1),(0,n.Lk)("td",null,(0,a.v_)(e.contact?.phone||"N/A"),1),(0,n.Lk)("td",null,"â‚¦"+(0,a.v_)(e.price),1),(0,n.Lk)("td",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.tickets,e=>((0,n.uX)(),(0,n.CE)("div",{key:e._id},(0,a.v_)(e.name)+" x "+(0,a.v_)(e.quantity),1))),128))])]))),128))])])]),(0,n.Lk)("div",A,[(0,n.Lk)("button",{class:"pagination-btn",disabled:1===i.currentPage,onClick:t[2]||(t[2]=(...e)=>s.prevPage&&s.prevPage(...e))}," Previous ",8,$),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.totalPages,e=>((0,n.uX)(),(0,n.CE)("button",{key:e,class:(0,a.C4)(["pagination-btn",{active:i.currentPage===e}]),onClick:t=>s.changePage(e)},(0,a.v_)(e),11,O))),128)),(0,n.Lk)("button",{class:"pagination-btn",disabled:i.currentPage===e.totalPages,onClick:t[3]||(t[3]=(...e)=>s.nextPage&&s.nextPage(...e))}," Next ",8,F)])])])])])}r(8111),r(2489),r(8237);var j=r(4373),I={components:{},data(){return{selectedStatus:"",searchQuery:"",currentPage:1,rowsPerPage:10,totalPrice:0,orders:[]}},computed:{...(0,h.L8)(["getToken","getProductsByUser"]),productsByUser(){return this.getProductsByUser},filteredOrders(){return this.searchQuery?this.orders.filter(e=>e._id.toLowerCase().includes(this.searchQuery.toLowerCase())):this.orders}},methods:{async downloadAndSendOrders(){try{const e=await j.A.get("https://event-ticket-backend-yx81.onrender.com/api/orders/download-and-email",{headers:{Authorization:`Bearer ${this.getToken}`}});e.data.success?alert("âœ… Orders sent to your email!"):alert("âš ï¸ "+e.data.message)}catch(e){console.error(e),alert("âŒ Failed to send orders.")}},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},changePage(e){this.currentPage=e},applyFilters(){this.currentPage=1}},mounted(){j.A.get("https://event-ticket-backend-yx81.onrender.com/api/orders",{headers:{Authorization:`Bearer ${this.getToken}`}}).then(e=>{this.orders=e.data.orders,console.log("Orders fetched:",this.orders);const t=this.orders.reduce((e,t)=>e+t.price,0);this.totalPrice=t,console.log("Total price:",this.totalPrice)}).catch(e=>{console.error("Error fetching orders:",e.response?.data||e)}),this.$store.dispatch("fetchProductsByUser")}},M=r(1241);const X=(0,M.A)(I,[["render",U]]);var V=X;const N={class:""},R={class:"tabs pt-2 px-2"},W=["onClick"],B={class:"tab-content"},Q={key:0},q={class:""},z={class:""},J={class:"row justify-content-center"},H={class:"col-12 col-sm-10 col-md-8 col-lg-6"},K=["value"],G={class:"mb-3"},Y={class:"mb-3"},Z={key:0,class:"alert alert-info mt-3"},ee=["href"],te={class:"container my-4"},re={class:"mb-3"},ne={class:"card mb-4 shadow-sm"},ae={class:"card-body p-0"},oe={class:"table-responsive"},ie={class:"table table-striped mb-0"},se={key:0},le={class:"d-flex justify-content-center mb-4"},ce=["disabled"],de=["onClick"],ue=["disabled"],pe={class:"card shadow-sm"},he={class:"card-body p-0"},me={class:"table-responsive"},fe={class:"table table-striped mb-0"},ve={key:0},be={class:"card mb-4 shadow-sm"},ke={class:"card-body p-0"},ye={class:"table-responsive"},ge={class:"table table-striped mb-0"},Le={key:0},we={key:1},Ce={class:"row pt-2"},Te={key:0,class:"col-md-4 text-start"},_e={class:"list-group shadow-sm"},xe={class:"d-flex gap-2"},Ee=["onClick"],Se={key:2};function Pe(e,t,r,o,i,s){const l=(0,n.g2)("discount");return(0,n.uX)(),(0,n.CE)("div",N,[(0,n.Lk)("div",null,[(0,n.Lk)("div",R,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.tabs,e=>((0,n.uX)(),(0,n.CE)("button",{key:e,onClick:t=>i.currentTab=e,class:(0,a.C4)({active:i.currentTab===e})},(0,a.v_)(e),11,W))),128))]),(0,n.Lk)("div",B,["Affiliate"===i.currentTab?((0,n.uX)(),(0,n.CE)("div",Q,[(0,n.Lk)("div",null,[(0,n.Lk)("div",q,[(0,n.Lk)("div",z,[(0,n.Lk)("div",J,[(0,n.Lk)("div",H,[(0,n.Lk)("form",{onSubmit:t[3]||(t[3]=(0,m.D$)((...e)=>s.createAffiliate&&s.createAffiliate(...e),["prevent"])),class:"mx-auto mb-4"},[t[10]||(t[10]=(0,n.Lk)("div",{class:"text-center mb-3 text-white"},[(0,n.Lk)("h5",{class:"m-0"},"Create Affiliate Link")],-1)),i.products.length>0?(0,n.bo)(((0,n.uX)(),(0,n.CE)("select",{key:0,"onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedProductId=e),class:"form-select"},[t[7]||(t[7]=(0,n.Lk)("option",{value:"",disabled:""},"Select an event",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.products,e=>((0,n.uX)(),(0,n.CE)("option",{key:e._id,value:e._id},(0,a.v_)(e.title),9,K))),128))],512)),[[m.u1,i.selectedProductId]]):(0,n.Q3)("",!0),(0,n.Lk)("div",G,[t[8]||(t[8]=(0,n.Lk)("label",{for:"affiliateName",class:"form-label"},"Affiliate Name:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"affiliateName",placeholder:"Enter name","onUpdate:modelValue":t[1]||(t[1]=e=>i.affiliateName=e),required:""},null,512),[[m.Jo,i.affiliateName]])]),(0,n.Lk)("div",Y,[t[9]||(t[9]=(0,n.Lk)("label",{for:"affiliateCode",class:"form-label"},"Affiliate Code:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"affiliateCode",placeholder:"Enter code","onUpdate:modelValue":t[2]||(t[2]=e=>i.affiliateCode=e),required:""},null,512),[[m.Jo,i.affiliateCode]])]),t[11]||(t[11]=(0,n.Lk)("div",{class:"d-grid justify-content-center"},[(0,n.Lk)("button",{type:"submit",class:"btn btn-sm btn-primary"}," Generate Affiliate Link ")],-1))],32),i.affiliateLink?((0,n.uX)(),(0,n.CE)("div",Z,[t[12]||(t[12]=(0,n.Lk)("strong",null,"Affiliate Link:",-1)),(0,n.Lk)("a",{href:i.affiliateLink,target:"_blank"},(0,a.v_)(i.affiliateLink),9,ee)])):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",te,[t[22]||(t[22]=(0,n.Lk)("h2",{class:"mb-4 text-center"},"Affiliates",-1)),(0,n.Lk)("div",re,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control w-50","onUpdate:modelValue":t[4]||(t[4]=e=>i.searchQuery=e),placeholder:"Search by Code or Name"},null,512),[[m.Jo,i.searchQuery]])]),(0,n.Lk)("div",ne,[t[15]||(t[15]=(0,n.Lk)("div",{class:"text-center bg-success p-2 text-white"},[(0,n.Lk)("h5",{class:"mb-0 text-center"},"My Affiliates")],-1)),(0,n.Lk)("div",ae,[(0,n.Lk)("div",oe,[(0,n.Lk)("table",ie,[t[14]||(t[14]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"ID"),(0,n.Lk)("th",null,"Name"),(0,n.Lk)("th",null,"Code"),(0,n.Lk)("th",null,"Link")])],-1)),(0,n.Lk)("tbody",null,[s.filterAffiliates.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("tr",se,[...t[13]||(t[13]=[(0,n.Lk)("td",{colspan:"4",class:"text-center text-muted"}," No affiliates found ",-1)])])),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.paginatedAffiliates,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e._id},[(0,n.Lk)("td",null,(0,a.v_)(e._id),1),(0,n.Lk)("td",null,(0,a.v_)(e.name),1),(0,n.Lk)("td",null,(0,a.v_)(e.code),1),(0,n.Lk)("td",null,(0,a.v_)(e.link),1)]))),128))])])])])]),(0,n.Lk)("div",le,[(0,n.Lk)("button",{class:"btn btn-outline-secondary me-2",disabled:1===i.currentPage,onClick:t[5]||(t[5]=(...e)=>s.prevPage&&s.prevPage(...e))}," Previous ",8,ce),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.totalPages,e=>((0,n.uX)(),(0,n.CE)("button",{key:e,class:(0,a.C4)(["btn",i.currentPage===e?"btn-primary":"btn-outline-primary"]),onClick:t=>s.changePage(e)},(0,a.v_)(e),11,de))),128)),(0,n.Lk)("button",{class:"btn btn-outline-secondary ms-2",disabled:i.currentPage===s.totalPages,onClick:t[6]||(t[6]=(...e)=>s.nextPage&&s.nextPage(...e))}," Next ",8,ue)]),(0,n.Lk)("div",pe,[t[18]||(t[18]=(0,n.Lk)("div",{class:"text-center bg-success p-2 text-white"},[(0,n.Lk)("h5",{class:"mb-0 text-center"},"Affiliate Summary")],-1)),(0,n.Lk)("div",he,[(0,n.Lk)("div",me,[(0,n.Lk)("table",fe,[t[17]||(t[17]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Affiliate Name"),(0,n.Lk)("th",null,"Code"),(0,n.Lk)("th",null,"Total Orders"),(0,n.Lk)("th",null,"Total Earnings (â‚¦)")])],-1)),(0,n.Lk)("tbody",null,[i.affiliateSummary.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("tr",ve,[...t[16]||(t[16]=[(0,n.Lk)("td",{colspan:"4",class:"text-center text-muted"}," No summary available ",-1)])])),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.affiliateSummary,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.code},[(0,n.Lk)("td",null,(0,a.v_)(e.name),1),(0,n.Lk)("td",null,(0,a.v_)(e.code),1),(0,n.Lk)("td",null,(0,a.v_)(e.totalOrders),1),(0,n.Lk)("td",null,(0,a.v_)(e.totalEarnings),1)]))),128))])])])])]),(0,n.Lk)("div",be,[t[21]||(t[21]=(0,n.Lk)("div",{class:"text-center bg-success p-2 text-white"},[(0,n.Lk)("h5",{class:"mb-0 text-center"},"Affiliate Orders")],-1)),(0,n.Lk)("div",ke,[(0,n.Lk)("div",ye,[(0,n.Lk)("table",ge,[t[20]||(t[20]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Reference"),(0,n.Lk)("th",null,"Affiliate Name"),(0,n.Lk)("th",null,"Code"),(0,n.Lk)("th",null,"Event Title"),(0,n.Lk)("th",null,"Price (â‚¦)"),(0,n.Lk)("th",null,"Date")])],-1)),(0,n.Lk)("tbody",null,[i.affiliateOrders.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("tr",Le,[...t[19]||(t[19]=[(0,n.Lk)("td",{colspan:"6",class:"text-center text-muted"}," No affiliate orders yet ",-1)])])),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.affiliateOrders,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.reference},[(0,n.Lk)("td",null,(0,a.v_)(e.reference),1),(0,n.Lk)("td",null,(0,a.v_)(e.affiliateName),1),(0,n.Lk)("td",null,(0,a.v_)(e.affiliateCode),1),(0,n.Lk)("td",null,(0,a.v_)(e.title),1),(0,n.Lk)("td",null,(0,a.v_)(e.price),1),(0,n.Lk)("td",null,(0,a.v_)(new Date(e.createdAt).toLocaleDateString()),1)]))),128))])])])])])])])])])):"Staff Member"===i.currentTab?((0,n.uX)(),(0,n.CE)("div",we,[(0,n.Lk)("div",Ce,[i.staff&&i.staff.length?((0,n.uX)(),(0,n.CE)("div",Te,[t[25]||(t[25]=(0,n.Lk)("h5",null,"ðŸ‘¨â€ðŸ’¼ Staff Members",-1)),(0,n.Lk)("ul",_e,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.staff,e=>((0,n.uX)(),(0,n.CE)("li",{key:e._id,class:"list-group-item"},[(0,n.Lk)("div",null,[t[23]||(t[23]=(0,n.Lk)("strong",null,"Name:",-1)),(0,n.eW)(" "+(0,a.v_)(e.name),1)]),(0,n.Lk)("div",null,[t[24]||(t[24]=(0,n.Lk)("strong",null,"passcode:",-1)),(0,n.eW)(" "+(0,a.v_)(e.passcode),1)]),(0,n.Lk)("div",xe,[(0,n.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>s.deleteStaff(e._id)}," ðŸ—‘ï¸ Delete ",8,Ee)])]))),128))])])):(0,n.Q3)("",!0)])])):"Discount"===i.currentTab?((0,n.uX)(),(0,n.CE)("div",Se,[(0,n.bF)(l)])):(0,n.Q3)("",!0)])])])}const De={class:""},Ae={class:"row justify-content-center"},$e={class:"col-12 col-sm-10 col-md-8 col-lg-6"},Oe={class:"card shadow-sm"},Fe={class:"card-body"},Ue={class:"row g-3"},je={class:"col-md-6"},Ie={class:"col-md-6"},Me={class:"col-md-6"},Xe={class:"col-md-6"},Ve={class:"col-md-6"},Ne={class:"col-12"},Re=["value","id"],We=["for"],Be={class:"container my-4"},Qe={class:"card mb-4 shadow-sm"},qe={class:"card-body p-0"},ze={class:"table-responsive"},Je={class:"table table-striped mb-0"},He={key:0},Ke={class:"card shadow-sm"},Ge={class:"card-body p-0"},Ye={class:"table-responsive"},Ze={class:"table table-striped mb-0"},et={key:0};function tt(e,t,r,o,i,s){return(0,n.uX)(),(0,n.CE)("div",De,[(0,n.Lk)("div",Ae,[(0,n.Lk)("div",$e,[(0,n.Lk)("form",{onSubmit:t[6]||(t[6]=(0,m.D$)((...e)=>s.createPromo&&s.createPromo(...e),["prevent"])),class:"mx-auto mb-4"},[(0,n.Lk)("div",Oe,[t[15]||(t[15]=(0,n.Lk)("div",{class:"text-center bg-success p-2 text-white"},[(0,n.Lk)("h5",{class:"mb-0"},"Create Promo Code")],-1)),(0,n.Lk)("div",Fe,[(0,n.Lk)("div",Ue,[(0,n.Lk)("div",je,[t[7]||(t[7]=(0,n.Lk)("label",{class:"form-label"},"Enter Promo Code",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.promo.code=e),placeholder:"Code",class:"form-control"},null,512),[[m.Jo,i.promo.code]])]),(0,n.Lk)("div",Ie,[t[9]||(t[9]=(0,n.Lk)("label",{class:"form-label"},"Enter Discount Type",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.promo.discountType=e),class:"form-select"},[...t[8]||(t[8]=[(0,n.Lk)("option",{value:"percentage"},"Percentage",-1),(0,n.Lk)("option",{value:"fixed"},"Fixed",-1)])],512),[[m.u1,i.promo.discountType]])]),(0,n.Lk)("div",Me,[t[10]||(t[10]=(0,n.Lk)("label",{class:"form-label"},"Enter Discount Value",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.promo.discountValue=e),type:"number",placeholder:"Discount Value",class:"form-control"},null,512),[[m.Jo,i.promo.discountValue,void 0,{number:!0}]])]),(0,n.Lk)("div",Xe,[t[11]||(t[11]=(0,n.Lk)("label",{class:"form-label"},"Expiry Date",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.promo.expiryDate=e),type:"date",class:"form-control"},null,512),[[m.Jo,i.promo.expiryDate]])]),(0,n.Lk)("div",Ve,[t[12]||(t[12]=(0,n.Lk)("label",{class:"form-label"},"usage Limit",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.promo.usageLimit=e),type:"number",placeholder:"Usage Limit",class:"form-control"},null,512),[[m.Jo,i.promo.usageLimit,void 0,{number:!0}]])]),(0,n.Lk)("div",Ne,[t[13]||(t[13]=(0,n.Lk)("label",{class:"form-label"},"Select Events",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.products,e=>((0,n.uX)(),(0,n.CE)("div",{key:e._id,class:"form-check"},[(0,n.bo)((0,n.Lk)("input",{class:"form-check-input",type:"checkbox",value:e._id,"onUpdate:modelValue":t[5]||(t[5]=e=>i.promo.products=e),id:"product-"+e._id},null,8,Re),[[m.lH,i.promo.products]]),(0,n.Lk)("label",{class:"form-check-label",for:"product-"+e._id},(0,a.v_)(e.title),9,We)]))),128))]),t[14]||(t[14]=(0,n.Lk)("div",{class:"col-12 text-center"},[(0,n.Lk)("button",{type:"submit",class:"btn btn-sm btn-primary"}," Create Promo ")],-1))])])])],32)])]),(0,n.Lk)("div",Be,[(0,n.Lk)("div",Qe,[t[18]||(t[18]=(0,n.Lk)("div",{class:"text-center bg-success p-2 text-white"},[(0,n.Lk)("h5",{class:"mb-0"},"My Promos")],-1)),(0,n.Lk)("div",qe,[(0,n.Lk)("div",ze,[(0,n.Lk)("table",Je,[t[17]||(t[17]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Code"),(0,n.Lk)("th",null,"Discount"),(0,n.Lk)("th",null,"Usage Limit"),(0,n.Lk)("th",null,"used Count"),(0,n.Lk)("th",null,"Expiry"),(0,n.Lk)("th",null,"Status")])],-1)),(0,n.Lk)("tbody",null,[0===i.promos.length?((0,n.uX)(),(0,n.CE)("tr",He,[...t[16]||(t[16]=[(0,n.Lk)("td",{colspan:"4",class:"text-center text-muted"},"No promos available",-1)])])):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.promos,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e._id},[(0,n.Lk)("td",null,(0,a.v_)(e.code),1),(0,n.Lk)("td",null,(0,a.v_)(e.discountValue)+"%",1),(0,n.Lk)("td",null,(0,a.v_)(e.usageLimit),1),(0,n.Lk)("td",null,(0,a.v_)(e.usedCount),1),(0,n.Lk)("td",null,(0,a.v_)(s.formatDate(e.expiryDate)),1),(0,n.Lk)("td",null,[(0,n.Lk)("span",{class:(0,a.C4)(["badge",s.isPromoActive(e)?"bg-success":"bg-secondary"])},(0,a.v_)(s.isPromoActive(e)?"Active":"Inactive"),3)])]))),128))])])])])]),(0,n.Lk)("div",Ke,[t[21]||(t[21]=(0,n.Lk)("div",{class:"text-center bg-success p-2 text-white"},[(0,n.Lk)("h5",{class:"mb-0"},"Promo Orders")],-1)),(0,n.Lk)("div",Ge,[(0,n.Lk)("div",Ye,[(0,n.Lk)("table",Ze,[t[20]||(t[20]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Order ID"),(0,n.Lk)("th",null,"Order title"),(0,n.Lk)("th",null,"Promo Code"),(0,n.Lk)("th",null,"Amount"),(0,n.Lk)("th",null,"order Date")])],-1)),(0,n.Lk)("tbody",null,[0===i.promois.length?((0,n.uX)(),(0,n.CE)("tr",et,[...t[19]||(t[19]=[(0,n.Lk)("td",{colspan:"4",class:"text-center text-muted"},"No promo orders",-1)])])):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.promois,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e._id},[(0,n.Lk)("td",null,(0,a.v_)(e.promoId),1),(0,n.Lk)("td",null,(0,a.v_)(e.title),1),(0,n.Lk)("td",null,(0,a.v_)(e.promoCode),1),(0,n.Lk)("td",null,"â‚¦"+(0,a.v_)(e.price),1),(0,n.Lk)("td",null,(0,a.v_)(s.formatDate(e.createdAt)),1)]))),128))])])])])])])])}var rt={data(){return{promo:{code:"",discountType:"percentage",discountValue:0,expiryDate:"",usageLimit:0,minOrderAmount:0,products:[]},promos:[],promois:[],products:[]}},computed:{...(0,h.L8)(["getToken"])},methods:{isPromoActive(e){const t=new Date,r=new Date(e.expiryDate);return e.usedCount<e.usageLimit&&r>=t},formatDate(e){return e?new Date(e).toLocaleDateString():"-"},async createPromo(){try{await j.A.post("https://event-ticket-backend-yx81.onrender.com/api/create-promo",this.promo,{headers:{Authorization:`Bearer ${this.getToken}`}})}catch(e){console.error(e.response?.data||e.message)}this.fetchMyPromos()},async fetchMyPromos(){try{const e=await j.A.get("https://event-ticket-backend-yx81.onrender.com/api/my-promos",{headers:{Authorization:`Bearer ${this.getToken}`}});console.log("Token:",this.getToken),this.promos=e.data.promos||[],console.log(this.promos)}catch(e){console.error("Error fetching my promos:",e.response?.data||e.message)}},async fetchPromos(){try{const e=await j.A.get("https://event-ticket-backend-yx81.onrender.com/api/promo-orders",{headers:{Authorization:`Bearer ${this.getToken}`}});this.promois=e.data.data||[]}catch(e){console.error("Error fetching promo orders:",e.response?.data||e.message)}},async fetchProducts(){try{const e=await j.A.get("https://event-ticket-backend-yx81.onrender.com/api/user/products",{headers:{Authorization:`Bearer ${this.getToken}`}});this.products=e.data.products}catch(e){console.error("Error fetching products:",e)}}},mounted(){this.fetchProducts(),this.fetchMyPromos(),this.fetchPromos()}};const nt=(0,M.A)(rt,[["render",tt]]);var at=nt,ot={components:{discount:at},data(){return{tabs:["Affiliate","Staff Member","Discount"],currentTab:"Affiliate",searchQuery:"",currentPage:1,rowsPerPage:10,affiliates:[],affiliateOrders:[],affiliateSummary:[],products:[],selectedProductId:"",affiliateName:"",affiliateCode:"",affiliateLink:"",staff:[],isEditing:!1,editId:null}},computed:{...(0,h.L8)(["getToken"]),filterAffiliates(){const e=this.searchQuery.toLowerCase();return this.affiliates.filter(t=>t.name.toLowerCase().includes(e)||t.code.toLowerCase().includes(e))},totalPages(){return Math.ceil(this.filterAffiliates.length/this.rowsPerPage)},paginatedAffiliates(){const e=(this.currentPage-1)*this.rowsPerPage,t=e+this.rowsPerPage;return this.filterAffiliates.slice(e,t)}},mounted(){this.fetchAffiliates(),this.fetchAffiliateOrders(),this.fetchAffiliateSummary(),this.fetchStaff()},methods:{async fetchStaff(){try{const e=await j.A.get("https://event-ticket-backend-yx81.onrender.com/api/user-staff",{headers:{Authorization:`Bearer ${this.getToken}`}});this.staff=e.data}catch(e){console.error("Error fetching staff:",e)}},async deleteStaff(e){if(confirm("Delete this bank info?"))try{await j.A.delete(`https://event-ticket-backend-yx81.onrender.com/api/staff/${e}`,{headers:{Authorization:`Bearer ${this.getToken}`}}),this.staff=this.staff.filter(t=>t._id!==e)}catch(t){console.error("Error deleting staff:",t)}},async createAffiliate(){if(this.selectedProductId)if(this.affiliateName&&this.affiliateCode)try{const e=await j.A.post("https://event-ticket-backend-yx81.onrender.com/api/affiliate",{name:this.affiliateName,code:this.affiliateCode,productId:this.selectedProductId},{headers:{Authorization:`Bearer ${this.getToken}`}});console.log("Affiliate created:",e.data),this.fetchAffiliates(),this.affiliateLink=e.data.link,alert("Affiliate link created!")}catch(e){console.error("Error creating affiliate:",e),alert("Failed to create affiliate link!")}else alert("Please fill in both name and code!");else alert("Please select a product!")},fetchAffiliates(){j.A.get("https://event-ticket-backend-yx81.onrender.com/api/affiliates",{headers:{Authorization:`Bearer ${this.getToken}`}}).then(e=>{this.affiliates=e.data.affiliates||[]}).catch(e=>{console.error("Affiliate fetch error:",e.response?.data||e)})},fetchAffiliateOrders(){j.A.get("https://event-ticket-backend-yx81.onrender.com/api/affiliate-orders",{headers:{Authorization:`Bearer ${this.getToken}`}}).then(e=>{this.affiliateOrders=e.data.data||[],console.log("ordery",this.affiliateOrders)}).catch(e=>{console.error("Affiliate orders error:",e.response?.data||e)})},fetchAffiliateSummary(){j.A.get("https://event-ticket-backend-yx81.onrender.com/api/affiliate-orders-summary",{headers:{Authorization:`Bearer ${this.getToken}`}}).then(e=>{this.affiliateSummary=e.data.data||[],console.log("orderss",this.affiliateSummary)}).catch(e=>{console.error("Affiliate summary error:",e.response?.data||e)})},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},changePage(e){this.currentPage=e}},async created(){try{const e=await j.A.get("https://event-ticket-backend-yx81.onrender.com/api/user/products",{headers:{Authorization:`Bearer ${this.getToken}`}});console.log("Fetched products:",e.data),this.products=e.data.products||[]}catch(e){console.error("Error fetching products:",e)}}};const it=(0,M.A)(ot,[["render",Pe]]);var st=it;const lt={class:"container mt-4"},ct={class:"row"},dt={class:"col-md-8"},ut={class:"mb-3"},pt={class:"mb-3"},ht={class:"mb-3"},mt={type:"submit",class:"btn btn-success"},ft={key:0,class:"text-start col-md-4"},vt={class:"list-group shadow-sm"},bt={class:"mb-2"},kt={class:"d-flex gap-2"},yt=["onClick"],gt=["onClick"];function Lt(e,t,r,o,i,s){return(0,n.uX)(),(0,n.CE)("div",lt,[(0,n.Lk)("div",ct,[(0,n.Lk)("div",dt,[(0,n.Lk)("form",{onSubmit:t[4]||(t[4]=(0,m.D$)(e=>i.isEditing?s.updateBank():s.createBank(),["prevent"])),class:"shadow p-4 w-md-75 mx-auto w-100"},[(0,n.Lk)("h5",null,(0,a.v_)(i.isEditing?"âœï¸ Edit Bank Info":"âž• Add Bank Info"),1),(0,n.Lk)("div",ut,[t[5]||(t[5]=(0,n.Lk)("label",null,"Account Name",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.form.accountName=e),type:"text",class:"form-control",required:""},null,512),[[m.Jo,i.form.accountName]])]),(0,n.Lk)("div",pt,[t[6]||(t[6]=(0,n.Lk)("label",null,"Account Number",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.form.accountNumber=e),type:"text",class:"form-control",required:""},null,512),[[m.Jo,i.form.accountNumber]])]),(0,n.Lk)("div",ht,[t[7]||(t[7]=(0,n.Lk)("label",null,"Bank Name",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.form.bankName=e),type:"text",class:"form-control",required:""},null,512),[[m.Jo,i.form.bankName]])]),(0,n.Lk)("button",mt,(0,a.v_)(i.isEditing?"Update":"Create"),1),i.isEditing?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",class:"btn btn-secondary ms-2",onClick:t[3]||(t[3]=(...e)=>s.cancelEdit&&s.cancelEdit(...e))}," Cancel ")):(0,n.Q3)("",!0)],32)]),i.banks&&i.banks.length?((0,n.uX)(),(0,n.CE)("div",ft,[(0,n.Lk)("ul",vt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.banks,e=>((0,n.uX)(),(0,n.CE)("li",{key:e._id,class:"list-group-item"},[(0,n.Lk)("div",bt,[(0,n.Lk)("div",null,[t[8]||(t[8]=(0,n.Lk)("strong",null,"Bank Account Name:",-1)),(0,n.eW)(" "+(0,a.v_)(e.accountName),1)]),(0,n.Lk)("div",null,[t[9]||(t[9]=(0,n.Lk)("strong",null,"Account Number:",-1)),(0,n.eW)(" "+(0,a.v_)(e.accountNumber),1)]),(0,n.Lk)("div",null,[t[10]||(t[10]=(0,n.Lk)("strong",null,"Bank Name:",-1)),(0,n.eW)(" "+(0,a.v_)(e.bankName),1)])]),(0,n.Lk)("div",kt,[(0,n.Lk)("button",{class:"btn btn-sm btn-outline-warning",onClick:t=>s.editBank(e)}," âœï¸ Edit ",8,yt),(0,n.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>s.deleteBank(e._id)}," ðŸ—‘ï¸ Delete ",8,gt)])]))),128))])])):(0,n.Q3)("",!0)])])}var wt={name:"BankManager",data(){return{form:{accountName:"",accountNumber:"",bankName:""},banks:[],isEditing:!1,editId:null}},mounted(){this.fetchBanks()},computed:{...(0,h.L8)(["getToken"])},methods:{async fetchBanks(){try{const e=await j.A.get("https://event-ticket-backend-yx81.onrender.com/api/bank",{headers:{Authorization:`Bearer ${this.getToken}`}});this.banks=e.data.banks}catch(e){console.error("Error fetching banks:",e)}},async createBank(){try{const e=await j.A.post("https://event-ticket-backend-yx81.onrender.com/api/bank",this.form,{headers:{Authorization:`Bearer ${this.getToken}`}});e.data.banks&&e.data.banks.length>0?this.banks.push(e.data.banks[0]):await this.fetchBanks(),this.resetForm()}catch(e){console.error("Error creating bank:",e),alert("âŒ Failed to create.")}},editBank(e){this.isEditing=!0,this.editId=e._id,this.form={...e}},cancelEdit(){this.resetForm()},async updateBank(){try{const e=await j.A.put(`https://event-ticket-backend-yx81.onrender.com/api/bank/${this.editId}`,this.form,{headers:{Authorization:`Bearer ${this.getToken}`}}),t=this.banks.findIndex(e=>e._id===this.editId);e.data.banks&&e.data.banks.length>0?this.banks.splice(t,1,e.data.banks[0]):await this.fetchBanks(),this.resetForm()}catch(e){console.error("Error updating bank:",e)}},async deleteBank(e){if(confirm("Delete this bank info?"))try{await j.A.delete(`https://event-ticket-backend-yx81.onrender.com/api/bank/${e}`,{headers:{Authorization:`Bearer ${this.getToken}`}}),this.banks=this.banks.filter(t=>t._id!==e)}catch(t){console.error("Error deleting bank:",t)}},resetForm(){this.form={accountName:"",accountNumber:"",bankName:""},this.isEditing=!1,this.editId=null}}};const Ct=(0,M.A)(wt,[["render",Lt]]);var Tt=Ct;const _t={class:"container-fluid bg-light"},xt={class:"section_discover"},Et={class:"container-large"},St={class:"row pt-2 pb-2"},Pt={class:"col-12 pt-2 pb-md-0 pb-1 col-md-6"},Dt={class:"col-12 col-md-6 pt-1"},At={class:"d-flex flex-column flex-md-row align-items-center justify-content-md-end gap-2"},$t={class:"modal-content h-25"},Ot={class:"d-flex justify-content-between align-items-center mb-3"},Ft={class:"row"},Ut={class:"col-6"},jt={class:"col-6"},It={class:"d-flex justify-content-between mt-4"},Mt={class:"modal-content h-25"},Xt={class:"d-flex justify-content-between align-items-center mb-3"},Vt={class:"d-flex justify-content-center gap-3 mb-3"},Nt={class:"row"},Rt={class:"col-6"},Wt={class:"col-6"},Bt={class:"d-flex justify-content-between mt-4"},Qt={class:""},qt={class:"modal-content w-100 h-75",style:{"max-height":"90vh","overflow-y":"auto"}},zt={class:"d-flex justify-content-between align-items-center mb-3"},Jt={class:"modal"},Ht={class:"modal-content w-100 h-50",style:{"overflow-y":"auto"}},Kt={class:"d-flex justify-content-between align-items-center mb-3"},Gt={class:"mt-3"},Yt={class:"container-fluid"},Zt={class:"section_discover pt-4"},er={class:"container-large"},tr={class:"mb-3"},rr={key:0,class:"alert alert-warning"},nr={class:"row"},ar=["src"],or={class:"pt-2"},ir={class:"mb-1"},sr={key:0},lr={class:"mb-1"},cr={class:"d-flex"},dr=["onClick"],ur=["onClick"],pr=["onClick"],hr=["onClick"],mr=["onClick"];function fr(e,t,r,o,i,s){const l=(0,n.g2)("editProduct");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",_t,[(0,n.Lk)("div",xt,[(0,n.Lk)("div",Et,[(0,n.Lk)("div",St,[(0,n.Lk)("div",Pt,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.searchTerm=e),type:"text",class:"form-control",placeholder:"Search events by title"},null,512),[[m.Jo,i.searchTerm]])]),(0,n.Lk)("div",Dt,[(0,n.Lk)("div",At,[(0,n.Lk)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[1]||(t[1]=e=>i.showPriceModal=!0)}," Price "),(0,n.Lk)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[2]||(t[2]=e=>i.showDateModal=!0)}," Date "),(0,n.Lk)("a",{href:"#",class:"text-muted text-decoration-none",onClick:t[3]||(t[3]=(0,m.D$)((...e)=>s.resetSearch&&s.resetSearch(...e),["prevent"]))}," Reset Filters ")])])])])])]),i.showPriceModal?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal w-100",onClick:t[9]||(t[9]=(0,m.D$)(e=>i.showPriceModal=!1,["self"]))},[(0,n.Lk)("div",$t,[(0,n.Lk)("div",Ot,[t[29]||(t[29]=(0,n.Lk)("h5",{class:"m-0 fw-bold"},"Price",-1)),(0,n.Lk)("button",{class:"btn-icon",onClick:t[4]||(t[4]=e=>i.showPriceModal=!1)},[...t[28]||(t[28]=[(0,n.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),(0,n.Lk)("div",Ft,[(0,n.Lk)("div",Ut,[t[30]||(t[30]=(0,n.Lk)("label",null,"Minimum amount",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.tempFilters.minPrice=e),type:"number",class:"form-control"},null,512),[[m.Jo,i.tempFilters.minPrice,void 0,{number:!0}]])]),(0,n.Lk)("div",jt,[t[31]||(t[31]=(0,n.Lk)("label",null,"Maximum amount",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.tempFilters.maxPrice=e),type:"number",class:"form-control"},null,512),[[m.Jo,i.tempFilters.maxPrice,void 0,{number:!0}]])])]),(0,n.Lk)("div",It,[(0,n.Lk)("button",{class:"btn btn-outline-secondary",onClick:t[7]||(t[7]=(...e)=>s.clearPriceFilters&&s.clearPriceFilters(...e))}," Clear "),(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>s.applyPriceFilters&&s.applyPriceFilters(...e))},"Apply")])])])):(0,n.Q3)("",!0),i.showDateModal?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"modal",onClick:t[18]||(t[18]=(0,m.D$)(e=>i.showDateModal=!1,["self"]))},[(0,n.Lk)("div",Mt,[(0,n.Lk)("div",Xt,[t[33]||(t[33]=(0,n.Lk)("h5",{class:"m-0 fw-bold"},"Date",-1)),(0,n.Lk)("button",{class:"btn-icon",onClick:t[10]||(t[10]=e=>i.showDateModal=!1)},[...t[32]||(t[32]=[(0,n.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),(0,n.Lk)("div",Vt,[(0,n.Lk)("button",{class:"btn btn-outline-dark",onClick:t[11]||(t[11]=(...e)=>s.setToday&&s.setToday(...e))},"Today"),(0,n.Lk)("button",{class:"btn btn-outline-dark",onClick:t[12]||(t[12]=(...e)=>s.setTomorrow&&s.setTomorrow(...e))},"Tomorrow"),(0,n.Lk)("button",{class:"btn btn-outline-dark",onClick:t[13]||(t[13]=(...e)=>s.setThisWeekend&&s.setThisWeekend(...e))}," This weekend ")]),(0,n.Lk)("div",Nt,[(0,n.Lk)("div",Rt,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>i.tempFilters.startDate=e),type:"date",class:"form-control"},null,512),[[m.Jo,i.tempFilters.startDate]])]),(0,n.Lk)("div",Wt,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>i.tempFilters.endDate=e),type:"date",class:"form-control"},null,512),[[m.Jo,i.tempFilters.endDate]])])]),(0,n.Lk)("div",Bt,[(0,n.Lk)("button",{class:"btn btn-outline-secondary",onClick:t[16]||(t[16]=(...e)=>s.clearDateFilters&&s.clearDateFilters(...e))}," Clear "),(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[17]||(t[17]=(...e)=>s.applyDateFilters&&s.applyDateFilters(...e))},"Apply")])])])):(0,n.Q3)("",!0),i.showEditModal?((0,n.uX)(),(0,n.CE)("div",{key:2,class:"modal",onClick:t[21]||(t[21]=(0,m.D$)(e=>i.showEditModal=!1,["self"]))},[(0,n.Lk)("div",Qt,[(0,n.Lk)("div",qt,[(0,n.Lk)("div",zt,[t[35]||(t[35]=(0,n.Lk)("h5",{class:"m-0 fw-bold"},"Edit",-1)),(0,n.Lk)("button",{class:"btn-icon",onClick:t[19]||(t[19]=e=>i.showEditModal=!1)},[...t[34]||(t[34]=[(0,n.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),i.showEditProduct?((0,n.uX)(),(0,n.Wv)(l,{key:0,"product-id":i.selectedProductId,onRefresh:s.fetchProducts,onClose:t[20]||(t[20]=e=>i.showEditModal=!1)},null,8,["product-id","onRefresh"])):(0,n.Q3)("",!0)])])])):(0,n.Q3)("",!0),i.showUserModal?((0,n.uX)(),(0,n.CE)("div",{key:3,class:"",onClick:t[27]||(t[27]=(0,m.D$)(e=>i.showUserModal=!1,["self"]))},[(0,n.Lk)("div",Jt,[(0,n.Lk)("div",Ht,[(0,n.Lk)("div",Kt,[t[37]||(t[37]=(0,n.Lk)("h5",{class:"m-0 fw-bold"},"Assign",-1)),(0,n.Lk)("button",{class:"btn-icon",onClick:t[22]||(t[22]=e=>i.showUserModal=!1)},[...t[36]||(t[36]=[(0,n.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),t[40]||(t[40]=(0,n.Lk)("h3",null,"Assign Staff to Event",-1)),(0,n.Lk)("p",null,[t[38]||(t[38]=(0,n.eW)(" Event ID: ",-1)),(0,n.Lk)("strong",null,(0,a.v_)(i.selectedProductId),1)]),t[41]||(t[41]=(0,n.Lk)("label",{class:"mt-3"},"Staff Name:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[23]||(t[23]=t=>e.staffName=t),placeholder:"Enter staff name",class:"form-control mb-3"},null,512),[[m.Jo,e.staffName]]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[24]||(t[24]=t=>e.checkInPermission=t)},null,512),[[m.lH,e.checkInPermission]]),t[39]||(t[39]=(0,n.eW)(" Check in tickets ",-1))]),(0,n.Lk)("div",Gt,[(0,n.Lk)("button",{class:"btn btn-success btn-sm",onClick:t[25]||(t[25]=(...e)=>s.assignStaff&&s.assignStaff(...e))},"Add staff"),(0,n.Lk)("button",{class:"btn btn-secondary btn-sm ms-2",onClick:t[26]||(t[26]=(...t)=>e.closePopup&&e.closePopup(...t))}," Cancel ")])])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",Yt,[(0,n.Lk)("div",Zt,[(0,n.Lk)("div",er,[(0,n.Lk)("h3",tr,"Explore "+(0,a.v_)(s.filteredProducts.length)+" Events",1),0===s.filteredProducts.length?((0,n.uX)(),(0,n.CE)("div",rr," No events match your search. ")):(0,n.Q3)("",!0),(0,n.Lk)("div",nr,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.filteredProducts,e=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-4 pt-3 mb-3",key:e._id},[(0,n.Lk)("div",null,[(0,n.Lk)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,ar),(0,n.Lk)("div",or,[(0,n.Lk)("h5",null,(0,a.v_)(e.title),1),(0,n.Lk)("p",ir,[t[42]||(t[42]=(0,n.Lk)("i",{class:"bi bi-calendar-event me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(s.formatDate(e.event.start))+" ",1),e.event.end?((0,n.uX)(),(0,n.CE)("span",sr,"- "+(0,a.v_)(s.formatDate(e.event.end)),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("p",lr,[t[43]||(t[43]=(0,n.Lk)("i",{class:"bi bi-geo-alt me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(e.event.location.name||"No location"),1)]),(0,n.Lk)("p",null,(0,a.v_)(0===e.event.tickets[0].price&&0===e.event.tickets[e.event.tickets.length-1].price?"Free":e.event.tickets[0].price===e.event.tickets[e.event.tickets.length-1].price?s.formatPrice(e.event.tickets[0].price):`From ${s.formatPrice(e.event.tickets[0].price)} - ${s.formatPrice(e.event.tickets[e.event.tickets.length-1].price)}`),1),(0,n.Lk)("div",cr,[(0,n.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>s.goToProduct(e.title)}," View Event ",8,dr),(0,n.Lk)("button",{class:"btn btn-primary btn-sm ms-2",onClick:t=>s.goToEditProduct(e._id)},[...t[44]||(t[44]=[(0,n.Lk)("i",{class:"bi bi-pencil-fill me-1"},null,-1),(0,n.eW)(" Edit ",-1)])],8,ur),(0,n.Lk)("button",{class:"btn btn-primary btn-sm ms-2",onClick:t=>s.showUserPopup(e._id)},[...t[45]||(t[45]=[(0,n.Lk)("i",{class:"bi bi-pencil-fill me-1"},null,-1),(0,n.eW)(" Assign User ",-1)])],8,pr),(0,n.Lk)("button",{class:"btn btn-outline-primary btn-sm ms-2",onClick:t=>s.copyFullEventUrl(e.customizeUrl)},[...t[46]||(t[46]=[(0,n.Lk)("i",{class:"bi bi-clipboard me-1"},null,-1)])],8,hr),(0,n.Lk)("button",{class:"btn btn-danger btn-sm ms-2",onClick:t=>s.deleteProduct(e._id)},[...t[47]||(t[47]=[(0,n.Lk)("i",{class:"bi bi-trash-fill me-1"},null,-1)])],8,mr)])])])]))),128))]),t[48]||(t[48]=(0,n.Lk)("div",{class:"row g-4"},[(0,n.Lk)("div",{class:"col-md-6"})],-1))])])])])}var vr=r(7769),br={components:{editProduct:vr.A},name:"ProductList",data(){return{showEditProduct:!1,selectedProductId:null,products:[],reference:"",loading:!0,searchTerm:"",filters:{minPrice:0,maxPrice:1/0,startDate:null,endDate:null},tempFilters:{minPrice:0,maxPrice:1e5,startDate:null,endDate:null},showPriceModal:!1,showDateModal:!1,showEditModal:!1,showUserModal:!1}},computed:{...(0,h.L8)(["getToken"]),filteredProducts(){const e=this.searchTerm.toLowerCase();return this.products.filter(t=>{const r=t.title?.toLowerCase().includes(e),n=t.event?.location?.name?.toLowerCase().includes(e),a=t.event?.tickets||[],o=[...a].sort((e,t)=>e.price-t.price),i=o[0]?.price||0,s=o[o.length-1]?.price||0,l=(!this.filters.minPrice||s>=this.filters.minPrice)&&(!this.filters.maxPrice||i<=this.filters.maxPrice),c=new Date(t.event?.date),d=this.filters.startDate?new Date(this.filters.startDate):null,u=this.filters.endDate?new Date(this.filters.endDate):null,p=new Date(c.toDateString()),h=d?new Date(d.toDateString()):null,m=u?new Date(u.toDateString()):null,f=(!h||p>=h)&&(!m||p<=m);return(r||n)&&l&&f})}},methods:{async copyFullEventUrl(e){const t=`https://234tickets.live/event/${e}`;try{await navigator.clipboard.writeText(t),alert("Event URL copied to clipboard!")}catch(r){alert("Failed to copy the URL."),console.error(r)}},async fetchProducts(){try{const e=await j.A.get("https://event-ticket-backend-yx81.onrender.com/api/user/products",{headers:{Authorization:`Bearer ${this.getToken}`}});console.log(e.data),this.products=e.data.products}catch(e){console.error("Error fetching products:",e)}},goToEditProduct(e){console.log(e),this.selectedProductId=e,this.showEditModal=!0,this.showEditProduct=!0},showUserPopup(e){this.selectedProductId=e,this.showUserModal=!0},async assignStaff(){if(this.staffName)try{const e=await j.A.post("https://event-ticket-backend-yx81.onrender.com/api/staff",{staffName:this.staffName,productId:this.selectedProductId},{headers:{Authorization:`Bearer ${this.getToken}`}});alert(`Staff assigned successfully! Passcode: ${e.data.passcode}`),this.closePopup()}catch(e){console.error(e.response?.data||e.message)}else alert("Please enter a staff name")},async deleteProduct(e){if(confirm("Are you sure you want to delete this order?")){console.log(e);try{await j.A.delete(`https://event-ticket-backend-yx81.onrender.com/api/product/${e}`,{headers:{Authorization:`Bearer ${this.getToken}`}}),alert("Product deleted successfully"),this.fetchProducts()}catch(t){console.error("Delete failed:",t)}}},goToProduct(e){const t=e.replace(/\s+/g,"-").toLowerCase();window.open(`/event/${t}`,"_blank")},formatDate(e){if(!e)return"No date";const t={weekday:"short",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`â‚¦${e}`:"Free"},resetSearch(){this.searchTerm="",this.filters={minPrice:0,maxPrice:1/0,startDate:null,endDate:null}},applyPriceFilters(){this.filters.minPrice=this.tempFilters.minPrice,this.filters.maxPrice=this.tempFilters.maxPrice,this.showPriceModal=!1},clearPriceFilters(){this.tempFilters.minPrice=0,this.tempFilters.maxPrice=1e5,this.applyPriceFilters()},applyDateFilters(){this.filters.startDate=this.tempFilters.startDate,this.filters.endDate=this.tempFilters.endDate,this.showDateModal=!1},clearDateFilters(){this.tempFilters.startDate=null,this.tempFilters.endDate=null,this.applyDateFilters()},setToday(){const e=(new Date).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setTomorrow(){const e=new Date(Date.now()+864e5).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setThisWeekend(){const e=new Date,t=e.getDay(),r=new Date(e);r.setDate(e.getDate()+(6-t));const n=new Date(r);n.setDate(r.getDate()+1),this.tempFilters.startDate=r.toISOString().split("T")[0],this.tempFilters.endDate=n.toISOString().split("T")[0]}},mounted(){this.fetchProducts()}};const kr=(0,M.A)(br,[["render",fr],["__scopeId","data-v-139299ea"]]);var yr=kr;const gr={class:""},Lr={class:"stepper pt-2 mx-auto"},wr={class:"circle"},Cr={key:0},Tr={key:1},_r={class:"label"},xr={class:"progress-line"},Er={class:"row justify-content-center"},Sr={class:"col-12"},Pr={key:0,class:""},Dr={class:"row"},Ar={class:"mb-3 col-md-7"},$r={key:0,class:"invalid-feedback"},Or={class:"mb-3 col-md-5"},Fr={class:"row mb-3"},Ur={class:"col-md-7"},jr=["value"],Ir={class:"col-md-5"},Mr={class:"input-group pt-2"},Xr={class:"mb-3"},Vr={key:1},Nr={class:"mt-4 text-start"},Rr={class:"row mb-3"},Wr={class:"col-md-6"},Br={class:"mb-3"},Qr={class:"col-md-6"},qr={class:"btn-group mb-3",role:"group"},zr={class:"row"},Jr={class:"col-md-6 mb-3"},Hr={key:0,class:"col-md-6 mb-3"},Kr={class:"row"},Gr={class:"col-md-6 mb-3"},Yr={class:"d-flex justify-content-between"},Zr={class:"mt-2"},en={key:0,class:"col-md-4 mb-3"},tn={key:2},rn={class:"container py-5 text-start"},nn={class:"row"},an={class:"col-md-6"},on={for:"imageUpload",class:"border rounded bg-light d-flex flex-column justify-content-center align-items-center text-center py-5 mb-2",style:{cursor:"pointer"}},sn={key:0},ln={key:0,class:"text-center mt-3"},cn=["src"],dn={key:3},un={class:"my-4 text-start"},pn={class:"col-md-3"},hn=["onUpdate:modelValue"],mn={class:"col-md-2"},fn=["onUpdate:modelValue"],vn={class:"col-md-3"},bn=["onUpdate:modelValue"],kn={class:"col-md-2 d-flex align-items-end"},yn=["onClick"],gn={class:"d-flex gap-3"},Ln={class:"text-center mt-4 d-flex justify-content-between"},wn=["disabled"],Cn={key:1,type:"submit",class:"btn btn-primary btn-primary:hover"};function Tn(e,t,r,o,i,s){const l=(0,n.g2)("spinner");return(0,n.uX)(),(0,n.CE)("div",gr,[(0,n.Lk)("div",Lr,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.steps,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,a.C4)(["step",{"step-active":i.currentStep===t,completed:t<i.currentStep}])},[(0,n.Lk)("div",wr,[t<i.currentStep?((0,n.uX)(),(0,n.CE)("span",Cr,"âœ”")):((0,n.uX)(),(0,n.CE)("span",Tr,(0,a.v_)(t+1),1))]),(0,n.Lk)("div",_r,(0,a.v_)(e),1)],2))),128)),(0,n.Lk)("div",xr,[(0,n.Lk)("div",{class:"progress-fill",style:(0,a.Tr)({width:i.currentStep/(i.steps.length-1)*100+"%"})},null,4)])]),(0,n.Lk)("div",Er,[(0,n.Lk)("div",Sr,[(0,n.Lk)("form",{onSubmit:t[18]||(t[18]=(0,m.D$)((...e)=>s.submitProduct&&s.submitProduct(...e),["prevent"])),enctype:"multipart/form-data",class:"shadow p-4 w-md-75 mx-auto w-100"},[0===i.currentStep?((0,n.uX)(),(0,n.CE)("div",Pr,[(0,n.Lk)("div",Dr,[(0,n.Lk)("div",Ar,[t[19]||(t[19]=(0,n.Lk)("label",{for:"title",class:"form-label"},"What is your event name:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.product.title=e),placeholder:"Tech Summit, Afro summit",type:"text",id:"title",class:(0,a.C4)([{"is-invalid":i.product.title&&!s.isValidTitle()},"form-control"])},null,2),[[m.Jo,i.product.title]]),i.product.title&&!s.isValidTitle()?((0,n.uX)(),(0,n.CE)("div",$r," Title must be at least two words. ")):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Or,[(0,n.Lk)("div",null,[(0,n.Lk)("div",null,[t[20]||(t[20]=(0,n.Lk)("label",{for:"title",class:"form-label"},"Tag:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.product.tag=e),type:"text",placeholder:"Tags (comma-separated)",id:"title",class:"form-control"},null,512),[[m.Jo,i.product.tag]])])])])]),(0,n.Lk)("div",Fr,[(0,n.Lk)("div",Ur,[t[22]||(t[22]=(0,n.Lk)("label",{class:"form-label"},"Event Category",-1)),(0,n.Lk)("div",null,[i.categories.length>0?(0,n.bo)(((0,n.uX)(),(0,n.CE)("select",{key:0,class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>i.categoryID=e)},[t[21]||(t[21]=(0,n.Lk)("option",{value:"",disabled:""},"Select a category",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.categories,e=>((0,n.uX)(),(0,n.CE)("option",{key:e._id,value:e._id},(0,a.v_)(e.type),9,jr))),128))],512)),[[m.u1,i.categoryID]]):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Ir,[(0,n.Lk)("div",null,[t[24]||(t[24]=(0,n.Lk)("label",{for:"customUrl",class:"form-label"},"Use custom URL",-1)),(0,n.Lk)("div",Mr,[t[23]||(t[23]=(0,n.Lk)("span",{class:"input-group-text"},"234tickets.live/event/",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>i.product.customizeUrl=e),onInput:t[4]||(t[4]=(...e)=>s.checkUrl&&s.checkUrl(...e)),class:"form-control pt-md-2",id:"customUrl",placeholder:"Enter your custom link"},null,544),[[m.Jo,i.product.customizeUrl]])]),i.urlStatus?((0,n.uX)(),(0,n.CE)("small",{key:0,class:(0,a.C4)(i.statusClass)},(0,a.v_)(i.urlStatus),3)):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",Xr,[t[25]||(t[25]=(0,n.Lk)("label",{class:"form-label"},"What's your event about:",-1)),(0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("textarea",{class:"w-100 h-50","onUpdate:modelValue":t[5]||(t[5]=e=>i.product.description=e)},null,512),[[m.Jo,i.product.description]])])])])):(0,n.Q3)("",!0),1===i.currentStep?((0,n.uX)(),(0,n.CE)("div",Vr,[(0,n.Lk)("div",Nr,[t[34]||(t[34]=(0,n.Lk)("h4",null,[(0,n.Lk)("strong",null,"When is your event?")],-1)),t[35]||(t[35]=(0,n.Lk)("p",{class:"text-muted"},"Select all the dates of your event",-1)),(0,n.Lk)("div",Rr,[(0,n.Lk)("div",Wr,[(0,n.Lk)("div",Br,[t[26]||(t[26]=(0,n.Lk)("label",{for:"address",class:"form-label"},"Enter Address:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.address=e),type:"text",class:"form-control",id:"address",placeholder:"e.g. 1600 Amphitheatre Parkway, CA",required:""},null,512),[[m.Jo,i.address]])])]),(0,n.Lk)("div",Qr,[t[28]||(t[28]=(0,n.Lk)("label",{class:"form-label"},"* Select time zone",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[7]||(t[7]=e=>i.product.event.timezone=e)},[...t[27]||(t[27]=[(0,n.Lk)("option",{value:""},"Select Time Zone",-1),(0,n.Lk)("option",{value:"UTC+01:00"},"(UTC+01:00) West Central Africa",-1),(0,n.Lk)("option",{value:"UTC+00:00"},"(UTC+00:00) GMT",-1),(0,n.Lk)("option",{value:"UTC-05:00"}," (UTC-05:00) Eastern Time (US & Canada) ",-1)])],512),[[m.u1,i.product.event.timezone]])])]),(0,n.Lk)("div",qr,[(0,n.Lk)("button",{type:"button",class:(0,a.C4)(["btn","single"===i.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[8]||(t[8]=e=>i.eventType="single")}," Single Event ",2),(0,n.Lk)("button",{type:"button",class:(0,a.C4)(["btn","recurring"===i.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[9]||(t[9]=e=>i.eventType="recurring")}," Recurring Event ",2)]),(0,n.Lk)("div",zr,[(0,n.Lk)("div",Jr,[t[29]||(t[29]=(0,n.Lk)("label",{class:"form-label"},"* Start date",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>i.product.event.startDate=e)},null,512),[[m.Jo,i.product.event.startDate]])]),"recurring"===i.eventType?((0,n.uX)(),(0,n.CE)("div",Hr,[t[30]||(t[30]=(0,n.Lk)("label",{class:"form-label"},"* End date",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=e=>i.product.event.endDate=e)},null,512),[[m.Jo,i.product.event.endDate]])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Kr,[(0,n.Lk)("div",Gr,[t[31]||(t[31]=(0,n.Lk)("label",{class:"form-label"},"Start time",-1)),(0,n.Lk)("div",Yr,[(0,n.Lk)("div",Zr,[(0,n.bo)((0,n.Lk)("input",{type:"time",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=e=>i.product.event.startTime=e)},null,512),[[m.Jo,i.product.event.startTime]])])])]),"recurring"===i.eventType?((0,n.uX)(),(0,n.CE)("div",en,[t[33]||(t[33]=(0,n.Lk)("label",{class:"form-label"},"* Event frequency",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[13]||(t[13]=e=>i.eventFrequency=e)},[...t[32]||(t[32]=[(0,n.Lk)("option",null,"Every day",-1),(0,n.Lk)("option",null,"Weekdays",-1),(0,n.Lk)("option",null,"Weekends",-1),(0,n.Lk)("option",null,"Every week",-1)])],512),[[m.u1,i.eventFrequency]])])):(0,n.Q3)("",!0)])])])):(0,n.Q3)("",!0),2===i.currentStep?((0,n.uX)(),(0,n.CE)("div",tn,[(0,n.Lk)("div",rn,[(0,n.Lk)("div",nn,[(0,n.Lk)("div",an,[t[38]||(t[38]=(0,n.Lk)("h5",null,[(0,n.Lk)("strong",null,"Event Image")],-1)),t[39]||(t[39]=(0,n.Lk)("p",{class:"text-muted"},"Upload a JPEG or PNG file",-1)),t[40]||(t[40]=(0,n.Lk)("div",{class:"alert alert-light border text-muted py-2 small d-flex align-items-start"},[(0,n.Lk)("i",{class:"bi bi-info-circle-fill me-2 text-danger"}),(0,n.eW)(" Images with a 1:1 ratio (a square) work best on all event themes ")],-1)),(0,n.Lk)("div",null,[(0,n.Lk)("label",on,[t[36]||(t[36]=(0,n.Lk)("i",{class:"bi bi-image fs-1 mb-2"},null,-1)),t[37]||(t[37]=(0,n.Lk)("span",null,[(0,n.eW)(" Drag an image here or "),(0,n.Lk)("span",{class:"text-danger fw-bold"},"click to upload")],-1)),(0,n.Lk)("input",{type:"file",multiple:"",onChange:t[14]||(t[14]=(...e)=>s.handleFiles&&s.handleFiles(...e)),accept:"image/*",id:"imageUpload",class:"d-none"},null,32),i.photos.length?((0,n.uX)(),(0,n.CE)("p",sn,"Selected: "+(0,a.v_)(i.photos.length)+" image(s)",1)):(0,n.Q3)("",!0)]),i.previewUrl?((0,n.uX)(),(0,n.CE)("div",ln,[(0,n.Lk)("img",{src:i.previewUrl,alt:"Preview",class:"img-fluid rounded shadow",style:{"max-height":"250px"}},null,8,cn)])):(0,n.Q3)("",!0)]),t[41]||(t[41]=(0,n.Lk)("p",{class:"text-muted small"}," Upload an image with a size less than 2mb ",-1))]),t[42]||(t[42]=(0,n.Lk)("div",{class:"col-md-6"},null,-1))])])])):(0,n.Q3)("",!0),3===i.currentStep?((0,n.uX)(),(0,n.CE)("div",dn,[(0,n.Lk)("div",un,[t[47]||(t[47]=(0,n.Lk)("h5",null,[(0,n.Lk)("strong",null,"Create your ticket types")],-1)),t[48]||(t[48]=(0,n.Lk)("p",{class:"text-danger small"},null,-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.tickets,(e,r)=>((0,n.uX)(),(0,n.CE)("div",{key:r,class:"row g-3 align-items-end mb-2"},[(0,n.Lk)("div",pn,[t[43]||(t[43]=(0,n.Lk)("label",{class:"form-label"},"Ticket name",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.name=t,type:"text",class:"form-control",placeholder:"e.g. General Admission"},null,8,hn),[[m.Jo,e.name]])]),(0,n.Lk)("div",mn,[t[44]||(t[44]=(0,n.Lk)("label",{class:"form-label"},"Quantity",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.quantity=t,type:"number",class:"form-control"},null,8,fn),[[m.Jo,e.quantity,void 0,{number:!0}]])]),(0,n.Lk)("div",vn,[t[45]||(t[45]=(0,n.Lk)("label",{class:"form-label"},"Price",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.price=t,type:"number",class:"form-control",placeholder:"Blank for free event"},null,8,bn),[[m.Jo,e.price,void 0,{number:!0}]])]),(0,n.Lk)("div",kn,[(0,n.Lk)("button",{class:"btn btn-outline-danger w-25",title:"Delete",onClick:e=>s.removeTicket(r)},[...t[46]||(t[46]=[(0,n.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,yn)])]))),128)),(0,n.Lk)("div",gn,[(0,n.Lk)("button",{class:"btn btn-primary btn-primary:hover",type:"button",onClick:t[15]||(t[15]=e=>s.addTicket("Paid"))}," + ticket ")])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",Ln,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[16]||(t[16]=(...e)=>s.prevStep&&s.prevStep(...e)),disabled:0===i.currentStep}," Back ",8,wn),i.currentStep<i.steps.length-1?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",class:"btn btn-primary btn-primary:hover",onClick:t[17]||(t[17]=(...e)=>s.nextStep&&s.nextStep(...e))}," Next ")):((0,n.uX)(),(0,n.CE)("button",Cn," Create Event "))])],32)])]),i.spinner?((0,n.uX)(),(0,n.Wv)(l,{key:0})):(0,n.Q3)("",!0)])}r(7588);var _n=r(1955),xn=r(7315),En={components:{QuillEditor:_n.tB,spinner:xn.A},data(){return{urlStatus:"",statusClass:"",currentStep:0,steps:["Basic Info","Event Details","Media Upload","Tickets"],categories:[],spinner:!1,categoryID:"",product:{title:"",description:"",currency:"",customizeUrl:"",tag:"",price:"",event:{startDate:"",endDate:"",startTime:"",timezone:"UTC",location:""}},address:"",eventType:"single",eventFrequency:"",photos:[],previewUrl:null,tickets:[{name:"",price:null,quantity:null}]}},computed:{...(0,h.L8)(["getToken"])},async created(){try{const e=await j.A.get("https://event-ticket-backend-yx81.onrender.com/api/categories");this.categories=e.data.categories||e.data,console.log("Categories fetched:",this.categories)}catch(e){console.error("Failed to fetch categories:",e)}},methods:{debouncedCheck(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.checkCustomUrl()},500)},async checkUrl(){if(this.product.customizeUrl.trim())try{const e=await j.A.post("https://event-ticket-backend-yx81.onrender.com/api/check-custom-url",{url:this.product.customizeUrl});e.data.success?(this.urlStatus=e.data.message,this.statusClass="text-success"):(this.urlStatus=e.data.message,this.statusClass="text-danger")}catch(e){this.urlStatus="Error checking URL",this.statusClass="text-danger"}else this.urlStatus=""},isValidTitle(){return this.product.title.trim().split(/\s+/).length>=2},nextStep(){this.currentStep<this.steps.length-1&&this.currentStep++},prevStep(){this.currentStep>0&&this.currentStep--},handleFiles(e){const t=Array.from(e.target.files);if(this.photos=t,t.length>0){const e=new FileReader;e.onload=e=>{this.previewUrl=e.target.result},e.readAsDataURL(t[0])}},addTicket(e){this.tickets.push({name:"",quantity:null,price:null})},removeTicket(e){this.tickets.splice(e,1)},duplicateTicket(e){const t=this.tickets[e];this.tickets.splice(e+1,0,{...t})},async submitProduct(){this.spinner=!0;const e=new FormData;e.append("categoryID",this.categoryID),e.append("title",this.product.title),e.append("description",this.product.description),e.append("tag",this.product.tag),e.append("customizeUrl",this.product.customizeUrl),e.append("price",this.product.price),e.append("currency",this.product.currency),e.append("eventDate",new Date(this.product.event.startDate).toISOString()),this.product.event.endDate&&e.append("endDate",new Date(this.product.event.endDate).toISOString()),e.append("startTime",this.product.event.startTime+" "),e.append("timezone",this.product.event.timezone),e.append("locationName",this.address),"recurring"===this.eventType&&e.append("eventFrequency",this.eventFrequency),e.append("tickets",JSON.stringify(this.tickets)),console.log(this.tickets),this.photos.forEach(t=>{e.append("photos",t)});for(let[r,n]of e.entries())console.log(`${r}:`,n);try{const t=await j.A.post("https://event-ticket-backend-yx81.onrender.com/api/products",e,{headers:{Authorization:`Bearer ${this.getToken}`,"Content-Type":"multipart/form-data"}});console.log("Product created:",t.data),alert("Event created successfully!"),this.$router.push("/dashboard?activeTab=event")}catch(t){if(!t.response||401!==t.response.status)throw t;localStorage.removeItem("token"),router.push("/login")}this.spinner=!1}}};const Sn=(0,M.A)(En,[["render",Tn],["__scopeId","data-v-b363133e"]]);var Pn=Sn,Dn={components:{Bank:Tt,Dashboard:V,event:yr,addEvent:Pn,Orders:st},data(){return{isSectionVisible:!1,mobileTab:"Dashboard",seen:!0,see:!0,se:!0,sidenavWidth:0,isDropdownOpen:!1,isOpen:!1,isAccountHomeVisible:!0,isBankVisible:!1,isOrdersVisible:!1,isEventVisible:!1,isAddEventVisible:!1}},watch:{"$route.query.activeTab"(e,t){this.$router.push({query:{activeTab:e}}).catch(e=>{}),this.initialize()}},computed:{...(0,h.L8)(["isAdmin"]),isTablet(){return window.innerWidth>=768&&window.innerWidth<1024}},methods:{Resize(){this.sidenavWidth=0,this.isNavOpen=!1},toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen},openSidebar(){this.isOpen=!0},closeSidebar(){this.isOpen=!1},toggleSection(){this.isSectionVisible=!this.isSectionVisible},...(0,h.i0)(["getUser","getTokenFromStorage"]),hideAll(){this.isAccountHomeVisible=!1,this.isBankVisible=!1,this.isOrdersVisible=!1,this.isEventVisible=!1,this.isAddEventVisible=!1},onClickHomeTab(){this.hideAll(),this.isAccountHomeVisible=!0,this.mobileTab="Dashboard",this.$router.push({query:{activeTab:"dashboard"}}).catch(e=>{})},onClickEventTab(){this.hideAll(),this.isEventVisible=!0,this.mobileTab="event",this.$router.push({query:{activeTab:"event"}}).catch(e=>{})},onClickAddEventTab(){this.hideAll(),this.isAddEventVisible=!0,this.mobileTab="add-event",this.$router.push({query:{activeTab:"add-event"}}).catch(e=>{})},onClickBankTab(){this.hideAll(),this.isBankVisible=!0,this.mobileTab="bank",this.$router.push({query:{activeTab:"bank"}}).catch(e=>{})},onClickOrderTab(){this.hideAll(),this.isOrdersVisible=!0,this.mobileTab="user-management",this.$router.push({query:{activeTab:"user-management"}}).catch(e=>{})},onClickTab(){"dashboard"==this.mobileTab?this.onClickHomeTab():"orders"==this.mobileTab?this.onClickOrderTab():"bank"==this.mobileTab?this.onClickBankTab():"event"===this.mobileTab?this.onClickEventTab():"Add event"===this.mobileTab&&this.onClickAddEventTab()},initialize(){this.$route.query&&("dashboard"==this.$route.query.activeTab?this.onClickHomeTab():"user-management"==this.$route.query.activeTab?this.onClickOrderTab():"bank"==this.$route.query.activeTab?this.onClickBankTab():"event"==this.$route.query.activeTab?this.onClickEventTab():"add-event"==this.$route.query.activeTab?this.onClickAddEventTab():this.onClickHomeTab())}},mounted(){this.initialize(),window.addEventListener("resize",this.Resize)},beforeUnmount(){window.removeEventListener("resize",this.Resize)}};const An=(0,M.A)(Dn,[["render",p],["__scopeId","data-v-8d2ba94a"]]);var $n=An},247:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(6768),a=r(5130),o=r(4232);const i={class:"signup-wrapper"},s={class:"signup-container"},l={class:"signup-card"},c={class:"form-group"},d={class:"form-group"},u={class:"form-group"},p={class:"form-group"},h={class:"form-group"},m={key:0,class:"error text-danger"},f={class:"text-center mt-3"};function v(e,t,r,v,b,k){const y=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("div",s,[(0,n.Lk)("div",l,[t[14]||(t[14]=(0,n.Lk)("h4",{class:"signup-title"},"Sign up your account",-1)),(0,n.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)((...e)=>k.registerUser&&k.registerUser(...e),["prevent"]))},[(0,n.Lk)("div",c,[t[6]||(t[6]=(0,n.Lk)("label",{class:"form-label"},"Name",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>b.name=e),type:"text",class:"form-input",placeholder:"Name",required:""},null,512),[[a.Jo,b.name]])]),(0,n.Lk)("div",d,[t[7]||(t[7]=(0,n.Lk)("label",{class:"form-label"},"Email",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>b.email=e),type:"email",class:"form-input",placeholder:"Email",required:""},null,512),[[a.Jo,b.email]])]),(0,n.Lk)("div",u,[t[8]||(t[8]=(0,n.Lk)("label",{class:"form-label"},"Brand Name",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>b.brand=e),type:"text",class:"form-input",placeholder:"Brand Name",required:""},null,512),[[a.Jo,b.brand]])]),(0,n.Lk)("div",p,[t[9]||(t[9]=(0,n.Lk)("label",{class:"form-label"},"Password",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>b.password=e),type:"password",class:"form-input",placeholder:"Password",required:""},null,512),[[a.Jo,b.password]])]),(0,n.Lk)("div",h,[t[10]||(t[10]=(0,n.Lk)("label",{class:"form-label"},"confirm Password",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>b.confirmpassword=e),class:(0,o.C4)(["form-input",{"input-error":k.passwordMismatch}]),type:"password",placeholder:"Confirm Password",required:""},null,2),[[a.Jo,b.confirmpassword]]),k.passwordMismatch?((0,n.uX)(),(0,n.CE)("p",m," Passwords do not match. ")):(0,n.Q3)("",!0)]),t[11]||(t[11]=(0,n.Lk)("div",{class:"form-submit"},[(0,n.Lk)("button",{type:"submit",class:"btn-primary"},"Sign me up")],-1))],32),(0,n.Lk)("p",f,[t[13]||(t[13]=(0,n.eW)(" Already have an account? ",-1)),(0,n.bF)(y,{to:"/login",class:"link-blue"},{default:(0,n.k6)(()=>[...t[12]||(t[12]=[(0,n.eW)("Sign in",-1)])]),_:1})])])])])}r(4114);var b=r(782),k=r(4874),y=r.n(k),g={data(){return{name:"",email:"",brand:"",password:"",confirmpassword:"",errorMessage:""}},computed:{passwordMismatch(){return this.password&&this.confirmpassword&&this.password!==this.confirmpassword}},methods:{...(0,b.i0)(["REGISTER_USER"]),registerUser(){if(this.passwordMismatch)return void(this.errorMessage="Passwords must match.");const e={name:this.name,email:this.email,password:this.password,brand:this.brand};this.REGISTER_USER(e).then(e=>{y().fire("Registration successful: please check your mailbox to confirm your email"),this.$router.push({name:"login"})}).catch(e=>{const t=e.message;y().fire("Oh oo!",`${t}`,"error")})}}},L=r(1241);const w=(0,L.A)(g,[["render",v],["__scopeId","data-v-623e069e"]]);var C=w},531:function(e,t,r){"use strict";var n=r(6518),a=r(9565),o=r(9306),i=r(8551),s=r(1767),l=r(8646),c=r(9462),d=r(9539),u=r(6395),p=r(684),h=r(4549),m=!u&&!p("flatMap",function(){}),f=!u&&!m&&h("flatMap",TypeError),v=u||m||f,b=c(function(){var e,t,r=this.iterator,n=this.mapper;while(1){if(t=this.inner)try{if(e=i(a(t.next,t.iterator)),!e.done)return e.value;this.inner=null}catch(o){d(r,"throw",o)}if(e=i(a(this.next,r)),this.done=!!e.done)return;try{this.inner=l(n(e.value,this.counter++),!1)}catch(o){d(r,"throw",o)}}});n({target:"Iterator",proto:!0,real:!0,forced:v},{flatMap:function(e){i(this);try{o(e)}catch(t){d(this,"throw",t)}return f?a(f,this,e):new b(s(this),{mapper:e,inner:null})}})},809:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return oe}});var n=r(6768),a=r(4232),o=r(5130);const i={class:"container my-5"},s={class:"ticket-footer d-block d-md-none p-2"},l={class:"text-white p-3 rounded-3 text-center",style:{"background-color":"#047143"}},c={class:"fw-bold fs-5 mb-1"},d={class:"row"},u={class:"col-md-8"},p={class:"stepper mb-5 position-relative"},h={class:"progress-line"},m={class:"circle"},f={key:0},v={key:1},b={class:"label"},k={key:0,class:"ticket-section text-start"},y={class:"ticket-content d-flex justify-content-between"},g={class:"price"},L=["onUpdate:modelValue"],w=["value"],C={class:"d-block d-md-none"},T={key:0},_={key:1,class:"text-start"},x={class:"row mb-3"},E={class:"col"},S={class:"col"},P={class:"mb-3"},D={class:"mb-3"},A={class:"mb-3"},$={class:"input-group"},O={key:2,class:"text-start"},F={class:"alert alert-warning"},U={class:"form-check mb-2"},j={class:"mb-3"},I=["value"],M={class:"form-check mb-2"},X={class:"text-center mt-4 d-flex justify-content-between"},V=["disabled"],N=["disabled"],R={class:"col-md-4 text-start d-none d-md-block"},W={class:"p-4 bg-light border-start"},B={key:0,class:"mt-4"},Q={class:"fw-semibold fs-6"},q={class:"fw-bold fs-5"},z={class:""},J={key:0};function H(e,t,r,H,K,G){const Y=(0,n.g2)("spinner");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("div",s,[(0,n.Lk)("div",l,[(0,n.Lk)("small",null,"subTotal: "+(0,a.v_)(G.subTotal),1),(0,n.Lk)("div",c,"Total: â‚¦"+(0,a.v_)(G.cartTotal),1)])]),(0,n.Lk)("div",d,[(0,n.Lk)("div",u,[(0,n.Lk)("div",p,[(0,n.Lk)("div",h,[(0,n.Lk)("div",{class:"progress-fill",style:(0,a.Tr)({width:K.currentStep/(G.steps.length-1)*100+"%"})},null,4)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(G.steps,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,a.C4)(["currentStep text-center",{"step-active":K.currentStep===t,"step-completed":t<K.currentStep}])},[(0,n.Lk)("div",m,[t<K.currentStep?((0,n.uX)(),(0,n.CE)("span",f,"âœ”")):((0,n.uX)(),(0,n.CE)("span",v,(0,a.v_)(t+1),1))]),(0,n.Lk)("div",b,(0,a.v_)(e),1)],2))),128))]),0===K.currentStep?((0,n.uX)(),(0,n.CE)("div",k,[t[18]||(t[18]=(0,n.Lk)("h3",null,"ðŸŽŸï¸ Choose Tickets",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.getCart,e=>((0,n.uX)(),(0,n.CE)("div",{class:"ticket-card",key:e._id},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.event.tickets,e=>((0,n.uX)(),(0,n.CE)("div",{key:e._id,class:""},[(0,n.Lk)("div",y,[(0,n.Lk)("div",null,[(0,n.Lk)("h5",null,(0,a.v_)(e.name),1),(0,n.Lk)("p",g,"â‚¦"+(0,a.v_)(e.price||0),1)]),(0,n.bo)((0,n.Lk)("select",{class:"ticket-select mt-2","onUpdate:modelValue":t=>e.selectedQuantity=t},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.quantity+1,e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e-1},(0,a.v_)(e-1),9,w))),128))],8,L),[[o.u1,e.selectedQuantity,void 0,{number:!0}]])])]))),128))]))),128)),(0,n.Lk)("div",C,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>K.promoCode=e),placeholder:"Enter promo code",class:"form-control mb-2"},null,512),[[o.Jo,K.promoCode]]),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>G.applyPromo&&G.applyPromo(...e)),class:"btn btn-primary"},"Apply"),K.discountResult?((0,n.uX)(),(0,n.CE)("div",T,[(0,n.Lk)("p",null,(0,a.v_)(K.discountResult.message),1)])):(0,n.Q3)("",!0),t[16]||(t[16]=(0,n.Lk)("br",null,null,-1)),t[17]||(t[17]=(0,n.Lk)("small",null," Total includes aÂ serviceÂ fee ",-1))])])):1===K.currentStep?((0,n.uX)(),(0,n.CE)("div",_,[t[25]||(t[25]=(0,n.Lk)("h3",null,"ðŸ“‡ Contact Information",-1)),(0,n.Lk)("form",{ref:"myForm",onSubmit:t[7]||(t[7]=(0,o.D$)(()=>{},["prevent"]))},[(0,n.Lk)("div",x,[(0,n.Lk)("div",E,[t[19]||(t[19]=(0,n.Lk)("label",{class:"form-label"},"First Name *",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>K.contact.firstName=e),type:"text",class:"form-control",required:""},null,512),[[o.Jo,K.contact.firstName]])]),(0,n.Lk)("div",S,[t[20]||(t[20]=(0,n.Lk)("label",{class:"form-label"},"Last Name *",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>K.contact.lastName=e),type:"text",class:"form-control",required:""},null,512),[[o.Jo,K.contact.lastName]])])]),(0,n.Lk)("div",P,[t[21]||(t[21]=(0,n.Lk)("label",{class:"form-label"},"Email Address *",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>K.contact.email=e),type:"email",class:"form-control",required:""},null,512),[[o.Jo,K.contact.email]])]),(0,n.Lk)("div",D,[t[22]||(t[22]=(0,n.Lk)("label",{class:"form-label"},"Confirm Email Address *",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>K.contact.confirmEmail=e),type:"email",class:"form-control",required:""},null,512),[[o.Jo,K.contact.confirmEmail]])]),(0,n.Lk)("div",A,[t[24]||(t[24]=(0,n.Lk)("label",{class:"form-label"},"Phone Number *",-1)),(0,n.Lk)("div",$,[t[23]||(t[23]=(0,n.Lk)("span",{class:"input-group-text"},"+234",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>K.contact.phone=e),type:"tel",class:"form-control",required:""},null,512),[[o.Jo,K.contact.phone]])])])],544)])):2===K.currentStep?((0,n.uX)(),(0,n.CE)("div",O,[t[29]||(t[29]=(0,n.Lk)("h3",null,"ðŸ’³ Payment Options",-1)),(0,n.Lk)("p",F," We've reserved your ticket. Please complete checkout within "+(0,a.v_)(K.timer)+" to secure your tickets. ",1),(0,n.Lk)("div",U,[(0,n.bo)((0,n.Lk)("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[8]||(t[8]=e=>K.paymentMethod=e),value:"card",id:"payCard"},null,512),[[o.XL,K.paymentMethod]]),t[27]||(t[27]=(0,n.Lk)("label",{class:"form-check-label",for:"payCard"},"Pay with Paystack",-1)),(0,n.Lk)("form",null,[(0,n.Lk)("div",j,[t[26]||(t[26]=(0,n.Lk)("label",null,"Email",-1)),(0,n.Lk)("input",{value:e.getContactInfo.email,type:"email",class:"form-control",readonly:""},null,8,I)])])]),(0,n.Lk)("div",M,[(0,n.bo)((0,n.Lk)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=e=>K.termsAccepted=e),id:"terms"},null,512),[[o.lH,K.termsAccepted]]),t[28]||(t[28]=(0,n.Lk)("label",{class:"form-check-label",for:"terms"},[(0,n.eW)(" I accept the "),(0,n.Lk)("a",{href:"#"},"234Africa Terms and Conditions"),(0,n.eW)(", "),(0,n.Lk)("a",{href:"#"},"Refund Policy"),(0,n.eW)(" and "),(0,n.Lk)("a",{href:"#"},"Privacy Policy"),(0,n.eW)(". ")],-1))])])):(0,n.Q3)("",!0),(0,n.Lk)("div",X,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[10]||(t[10]=(...e)=>G.prevStep&&G.prevStep(...e)),disabled:0===K.currentStep}," Back ",8,V),2===K.currentStep?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"submit",onClick:t[11]||(t[11]=e=>G.initializePayment()),disabled:!K.termsAccepted,class:"btn btn-success"}," Pay Now â‚¦"+(0,a.v_)(G.cartTotal.toLocaleString()),9,N)):(0,n.Q3)("",!0),K.currentStep<G.steps.length-1?((0,n.uX)(),(0,n.CE)("button",{key:1,type:"button",class:"btn btn-primary",onClick:t[12]||(t[12]=(...e)=>G.nextStep&&G.nextStep(...e))}," Next ")):0===G.cartTotal?((0,n.uX)(),(0,n.CE)("button",{key:2,type:"submit",class:"btn btn-primary",onClick:t[13]||(t[13]=e=>G.getTicket())}," Get tickets ")):(0,n.Q3)("",!0)]),K.spinner?((0,n.uX)(),(0,n.Wv)(Y,{key:3})):(0,n.Q3)("",!0)]),(0,n.Lk)("div",R,[(0,n.Lk)("div",W,[t[31]||(t[31]=(0,n.Lk)("h5",null,"Summary",-1)),G.selectedTickets.length?((0,n.uX)(),(0,n.CE)("div",B,[t[30]||(t[30]=(0,n.Lk)("h5",null,"ðŸŽŸï¸ Selected Tickets:",-1)),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(G.selectedTickets,(e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t},(0,a.v_)(e.name)+" x "+(0,a.v_)(e.quantity),1))),128))])])):(0,n.Q3)("",!0),(0,n.Lk)("small",null,"subTotal: "+(0,a.v_)(G.subTotal),1),(0,n.Lk)("div",Q,"Service Charge (7.5%): â‚¦"+(0,a.v_)(G.serviceCharge),1),(0,n.Lk)("div",q,"Total: â‚¦"+(0,a.v_)(G.cartTotal),1)]),(0,n.Lk)("div",z,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>K.promoCode=e),placeholder:"Enter promo code",class:"form-control mb-2"},null,512),[[o.Jo,K.promoCode]]),(0,n.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>G.applyPromo&&G.applyPromo(...e)),class:"btn btn-primary"},"Apply"),K.discountResult?((0,n.uX)(),(0,n.CE)("div",J,[(0,n.Lk)("small",null,(0,a.v_)(K.discountResult.message),1)])):(0,n.Q3)("",!0)])])])])}r(4114),r(8111),r(2489),r(531),r(1701),r(8237);var K=r(782),G=r(4373),Y=r(9514),Z=r.n(Y),ee=r(9877),te=r(7315),re={components:{paystack:Z(),QrcodeVue:ee.Ay,spinner:te.A},data(){return{currentStep:0,timer:"10:00",spinner:!1,reference:"",showQRCode:!1,countdown:null,full_name:"",publicKey:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_PUBLIC_KEY,steps:["Tickets","Contact","Payment"],tickets:[],promoCode:"",discountResult:null,contact:{firstName:"",lastName:"",email:"",confirmEmail:"",phone:""},paymentMethod:"",termsAccepted:!1,subscribe:!1}},computed:{rawSubtotal(){const e=this.getCart.reduce((e,t)=>{const r=t.event.tickets.reduce((e,t)=>e+(t.selectedQuantity||0)*(t.price||0),0);return e+r},0);return console.log("Raw Subtotal:",e),e},discountAmount(){if(!this.discountResult)return 0;let e=0;return"percentage"===this.discountResult.discountType?e=this.rawSubtotal*(this.discountResult.discountValue/100):"flat"===this.discountResult.discountType&&(e=this.discountResult.discountValue),console.log("Discount Applied:",e),+e.toFixed(2)},subTotal(){const e=this.rawSubtotal-this.discountAmount;return console.log("Subtotal After Discount:",e),+e.toFixed(2)},serviceCharge(){const e=.075*this.subTotal;return console.log("Service Charge (7.5%):",e),+e.toFixed(2)},cartTotal(){const e=this.subTotal+this.serviceCharge;return console.log("Final Cart Total:",e),+e.toFixed(2)},email(){return this.getContactInfo.email},amount(){return this.cartTotal},steps(){return this.cartTotal>0?["Tickets","Contact","Payment"]:["Tickets","Contact"]},...(0,K.L8)(["getCart","getContactInfo","getSelectedTickets","getCartTotal"]),selectedTickets(){return this.getCart.flatMap(e=>e.event?.tickets?.filter(e=>e.selectedQuantity>0).map(e=>({name:e.name,quantity:e.selectedQuantity}))||[])},canCheckout(){return this.paymentMethod&&this.termsAccepted}},watch:{currentStep(){this.updateProgressLine()},getCart:{handler(){this.discountResult=null,this.promoCode=null},deep:!0},promoCode(e){e&&""!==e.trim()||(localStorage.removeItem("promoCode"),localStorage.removeItem("discountedTotal"),this.discountResult=null)},subTotal(e){localStorage.setItem("finalSubtotal",e)}},methods:{formatDate(e){if(!e)return"No date";const t={weekday:"short",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},...(0,K.PY)(["setSelectedTickets"]),generateReference(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<10;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},extractSelectedTickets(){const e=this.getCart.flatMap(e=>e.event?.tickets?.filter(e=>e.selectedQuantity>0).map(e=>({name:e.name,quantity:e.selectedQuantity}))||[]);this.setSelectedTickets(e)},async initializePayment(){try{this.spinner=!0;const e=await G.A.post("https://event-ticket-backend-yx81.onrender.com/api/initialize",{email:this.email,amount:this.amount});console.log(e.data);const{authorization_url:t,reference:r}=e.data.data;localStorage.setItem("paystack_reference",r),localStorage.setItem("cartTotal",this.amount),localStorage.setItem("startDate",this.getCart[0]?.event?.start),localStorage.setItem("startTime",this.getCart[0]?.event?.startTime),localStorage.setItem("location",this.getCart[0]?.event?.location?.name),this.spinner=!1,window.location.href=t}catch(e){alert("Payment initialization failed"),console.error(e)}},async getTicket(){try{this.reference=this.generateReference(),localStorage.setItem("paystack_reference",this.reference),this.spinner=!0;const e=localStorage.getItem("affiliateCode"),t={startDate:this.getCart[0]?.event?.start,startTime:this.getCart[0]?.event?.startTime,location:this.getCart[0]?.event?.location.name,reference:this.reference,userId:this.getCart[0]?.user,title:this.getCart[0]?.title,contact:{name:`${this.getContactInfo.firstName} ${this.getContactInfo.lastName}`,email:this.getContactInfo.email,phone:this.getContactInfo.phone},tickets:this.getSelectedTickets,price:this.cartTotal,affiliate:e};console.log("Sending order info:",t);const r=await G.A.post("https://event-ticket-backend-yx81.onrender.com/api/order",t);this.spinner=!1,alert("Your ticket has been confirmed, check your  email inbox & spam for booking confirmation"),this.$refs.myForm.reset(),this.$router.push({name:"home"}),console.log("Order info sent:",r.data)}catch(e){console.error("Failed to send order info:",e)}},async applyPromo(){try{const e={code:this.promoCode,orderTotal:this.cartTotal,id:this.getCart[0].id};console.log("Payload being sent:",e);const t=await G.A.post("https://event-ticket-backend-yx81.onrender.com/api/apply-promo",e);this.discountResult=t.data,localStorage.setItem("discountedTotal",t.data.newTotal),localStorage.setItem("promoCode",this.promoCode),console.log("Promo response:",t.data)}catch(e){alert(`âŒ ${e.response?.data?.message||e.message}`)}},processPayment:()=>{window.alert("Payment recieved")},close:()=>{console.log("You closed checkout page")},updateProgressLine(){const e=this.$el.querySelector(".stepper-wrapper");if(e){const t=this.currentStep/(this.steps.length-1);e.style.setProperty("--progress",t)}},nextStep(){this.$store.dispatch("setContactInfo",this.contact);const e=this.getCart.flatMap(e=>e.event.tickets.filter(e=>e.selectedQuantity>0).map(e=>({name:e.name,quantity:e.selectedQuantity})));this.$store.commit("setSelectedTickets",e),this.currentStep<this.steps.length-1&&this.currentStep++},prevStep(){this.currentStep>0&&this.currentStep--},checkout(){alert("âœ… Checkout successful!")},startTimer(){let e=600;this.countdown=setInterval(()=>{e--;const t=String(Math.floor(e/60)).padStart(2,"0"),r=String(e%60).padStart(2,"0");this.timer=`${t}:${r}`,e<=0&&(clearInterval(this.countdown),alert("â° Time expired! Please restart."),location.reload())},1e3)}},mounted(){this.startTimer(),this.updateProgressLine()},beforeUnmount(){clearInterval(this.countdown)}},ne=r(1241);const ae=(0,ne.A)(re,[["render",H],["__scopeId","data-v-41eef26d"]]);var oe=ae},1029:function(e,t,r){e=r.nmd(e),r(4114),r(6573),r(8100),r(7936),r(8111),r(7588),r(1701);var n=200,a="__lodash_hash_undefined__",o=1,i=2,s=9007199254740991,l="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",u="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Function]",f="[object GeneratorFunction]",v="[object Map]",b="[object Number]",k="[object Null]",y="[object Object]",g="[object Promise]",L="[object Proxy]",w="[object RegExp]",C="[object Set]",T="[object String]",_="[object Symbol]",x="[object Undefined]",E="[object WeakMap]",S="[object ArrayBuffer]",P="[object DataView]",D="[object Float32Array]",A="[object Float64Array]",$="[object Int8Array]",O="[object Int16Array]",F="[object Int32Array]",U="[object Uint8Array]",j="[object Uint8ClampedArray]",I="[object Uint16Array]",M="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,R={};R[D]=R[A]=R[$]=R[O]=R[F]=R[U]=R[j]=R[I]=R[M]=!0,R[l]=R[c]=R[S]=R[u]=R[P]=R[p]=R[h]=R[m]=R[v]=R[b]=R[y]=R[w]=R[C]=R[T]=R[E]=!1;var W="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,B="object"==typeof self&&self&&self.Object===Object&&self,Q=W||B||Function("return this")(),q=t&&!t.nodeType&&t,z=q&&e&&!e.nodeType&&e,J=z&&z.exports===q,H=J&&W.process,K=function(){try{return H&&H.binding&&H.binding("util")}catch(e){}}(),G=K&&K.isTypedArray;function Y(e,t){var r=-1,n=null==e?0:e.length,a=0,o=[];while(++r<n){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}function Z(e,t){var r=-1,n=t.length,a=e.length;while(++r<n)e[a+r]=t[r];return e}function ee(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(t(e[r],r,e))return!0;return!1}function te(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}function re(e){return function(t){return e(t)}}function ne(e,t){return e.has(t)}function ae(e,t){return null==e?void 0:e[t]}function oe(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function ie(e,t){return function(r){return e(t(r))}}function se(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var le=Array.prototype,ce=Function.prototype,de=Object.prototype,ue=Q["__core-js_shared__"],pe=ce.toString,he=de.hasOwnProperty,me=function(){var e=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),fe=de.toString,ve=RegExp("^"+pe.call(he).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),be=J?Q.Buffer:void 0,ke=Q.Symbol,ye=Q.Uint8Array,ge=de.propertyIsEnumerable,Le=le.splice,we=ke?ke.toStringTag:void 0,Ce=Object.getOwnPropertySymbols,Te=be?be.isBuffer:void 0,_e=ie(Object.keys,Object),xe=Et(Q,"DataView"),Ee=Et(Q,"Map"),Se=Et(Q,"Promise"),Pe=Et(Q,"Set"),De=Et(Q,"WeakMap"),Ae=Et(Object,"create"),$e=jt(xe),Oe=jt(Ee),Fe=jt(Se),Ue=jt(Pe),je=jt(De),Ie=ke?ke.prototype:void 0,Me=Ie?Ie.valueOf:void 0;function Xe(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Ve(){this.__data__=Ae?Ae(null):{},this.size=0}function Ne(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Re(e){var t=this.__data__;if(Ae){var r=t[e];return r===a?void 0:r}return he.call(t,e)?t[e]:void 0}function We(e){var t=this.__data__;return Ae?void 0!==t[e]:he.call(t,e)}function Be(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ae&&void 0===t?a:t,this}function Qe(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function qe(){this.__data__=[],this.size=0}function ze(e){var t=this.__data__,r=ht(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Le.call(t,r,1),--this.size,!0}function Je(e){var t=this.__data__,r=ht(t,e);return r<0?void 0:t[r][1]}function He(e){return ht(this.__data__,e)>-1}function Ke(e,t){var r=this.__data__,n=ht(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Ge(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Ye(){this.size=0,this.__data__={hash:new Xe,map:new(Ee||Qe),string:new Xe}}function Ze(e){var t=xt(this,e)["delete"](e);return this.size-=t?1:0,t}function et(e){return xt(this,e).get(e)}function tt(e){return xt(this,e).has(e)}function rt(e,t){var r=xt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function nt(e){var t=-1,r=null==e?0:e.length;this.__data__=new Ge;while(++t<r)this.add(e[t])}function at(e){return this.__data__.set(e,a),this}function ot(e){return this.__data__.has(e)}function it(e){var t=this.__data__=new Qe(e);this.size=t.size}function st(){this.__data__=new Qe,this.size=0}function lt(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r}function ct(e){return this.__data__.get(e)}function dt(e){return this.__data__.has(e)}function ut(e,t){var r=this.__data__;if(r instanceof Qe){var a=r.__data__;if(!Ee||a.length<n-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ge(a)}return r.set(e,t),this.size=r.size,this}function pt(e,t){var r=Xt(e),n=!r&&Mt(e),a=!r&&!n&&Nt(e),o=!r&&!n&&!a&&zt(e),i=r||n||a||o,s=i?te(e.length,String):[],l=s.length;for(var c in e)!t&&!he.call(e,c)||i&&("length"==c||a&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||At(c,l))||s.push(c);return s}function ht(e,t){var r=e.length;while(r--)if(It(e[r][0],t))return r;return-1}function mt(e,t,r){var n=t(e);return Xt(e)?n:Z(n,r(e))}function ft(e){return null==e?void 0===e?x:k:we&&we in Object(e)?St(e):Ut(e)}function vt(e){return qt(e)&&ft(e)==l}function bt(e,t,r,n,a){return e===t||(null==e||null==t||!qt(e)&&!qt(t)?e!==e&&t!==t:kt(e,t,r,n,bt,a))}function kt(e,t,r,n,a,i){var s=Xt(e),d=Xt(t),u=s?c:Dt(e),p=d?c:Dt(t);u=u==l?y:u,p=p==l?y:p;var h=u==y,m=p==y,f=u==p;if(f&&Nt(e)){if(!Nt(t))return!1;s=!0,h=!1}if(f&&!h)return i||(i=new it),s||zt(e)?wt(e,t,r,n,a,i):Ct(e,t,u,r,n,a,i);if(!(r&o)){var v=h&&he.call(e,"__wrapped__"),b=m&&he.call(t,"__wrapped__");if(v||b){var k=v?e.value():e,g=b?t.value():t;return i||(i=new it),a(k,g,r,n,i)}}return!!f&&(i||(i=new it),Tt(e,t,r,n,a,i))}function yt(e){if(!Qt(e)||Ot(e))return!1;var t=Wt(e)?ve:V;return t.test(jt(e))}function gt(e){return qt(e)&&Bt(e.length)&&!!R[ft(e)]}function Lt(e){if(!Ft(e))return _e(e);var t=[];for(var r in Object(e))he.call(e,r)&&"constructor"!=r&&t.push(r);return t}function wt(e,t,r,n,a,s){var l=r&o,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var p=-1,h=!0,m=r&i?new nt:void 0;s.set(e,t),s.set(t,e);while(++p<c){var f=e[p],v=t[p];if(n)var b=l?n(v,f,p,t,e,s):n(f,v,p,e,t,s);if(void 0!==b){if(b)continue;h=!1;break}if(m){if(!ee(t,function(e,t){if(!ne(m,t)&&(f===e||a(f,e,r,n,s)))return m.push(t)})){h=!1;break}}else if(f!==v&&!a(f,v,r,n,s)){h=!1;break}}return s["delete"](e),s["delete"](t),h}function Ct(e,t,r,n,a,s,l){switch(r){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!s(new ye(e),new ye(t)));case u:case p:case b:return It(+e,+t);case h:return e.name==t.name&&e.message==t.message;case w:case T:return e==t+"";case v:var c=oe;case C:var d=n&o;if(c||(c=se),e.size!=t.size&&!d)return!1;var m=l.get(e);if(m)return m==t;n|=i,l.set(e,t);var f=wt(c(e),c(t),n,a,s,l);return l["delete"](e),f;case _:if(Me)return Me.call(e)==Me.call(t)}return!1}function Tt(e,t,r,n,a,i){var s=r&o,l=_t(e),c=l.length,d=_t(t),u=d.length;if(c!=u&&!s)return!1;var p=c;while(p--){var h=l[p];if(!(s?h in t:he.call(t,h)))return!1}var m=i.get(e);if(m&&i.get(t))return m==t;var f=!0;i.set(e,t),i.set(t,e);var v=s;while(++p<c){h=l[p];var b=e[h],k=t[h];if(n)var y=s?n(k,b,h,t,e,i):n(b,k,h,e,t,i);if(!(void 0===y?b===k||a(b,k,r,n,i):y)){f=!1;break}v||(v="constructor"==h)}if(f&&!v){var g=e.constructor,L=t.constructor;g==L||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof L&&L instanceof L||(f=!1)}return i["delete"](e),i["delete"](t),f}function _t(e){return mt(e,Jt,Pt)}function xt(e,t){var r=e.__data__;return $t(t)?r["string"==typeof t?"string":"hash"]:r.map}function Et(e,t){var r=ae(e,t);return yt(r)?r:void 0}function St(e){var t=he.call(e,we),r=e[we];try{e[we]=void 0;var n=!0}catch(o){}var a=fe.call(e);return n&&(t?e[we]=r:delete e[we]),a}Xe.prototype.clear=Ve,Xe.prototype["delete"]=Ne,Xe.prototype.get=Re,Xe.prototype.has=We,Xe.prototype.set=Be,Qe.prototype.clear=qe,Qe.prototype["delete"]=ze,Qe.prototype.get=Je,Qe.prototype.has=He,Qe.prototype.set=Ke,Ge.prototype.clear=Ye,Ge.prototype["delete"]=Ze,Ge.prototype.get=et,Ge.prototype.has=tt,Ge.prototype.set=rt,nt.prototype.add=nt.prototype.push=at,nt.prototype.has=ot,it.prototype.clear=st,it.prototype["delete"]=lt,it.prototype.get=ct,it.prototype.has=dt,it.prototype.set=ut;var Pt=Ce?function(e){return null==e?[]:(e=Object(e),Y(Ce(e),function(t){return ge.call(e,t)}))}:Ht,Dt=ft;function At(e,t){return t=null==t?s:t,!!t&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function $t(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ot(e){return!!me&&me in e}function Ft(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||de;return e===r}function Ut(e){return fe.call(e)}function jt(e){if(null!=e){try{return pe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function It(e,t){return e===t||e!==e&&t!==t}(xe&&Dt(new xe(new ArrayBuffer(1)))!=P||Ee&&Dt(new Ee)!=v||Se&&Dt(Se.resolve())!=g||Pe&&Dt(new Pe)!=C||De&&Dt(new De)!=E)&&(Dt=function(e){var t=ft(e),r=t==y?e.constructor:void 0,n=r?jt(r):"";if(n)switch(n){case $e:return P;case Oe:return v;case Fe:return g;case Ue:return C;case je:return E}return t});var Mt=vt(function(){return arguments}())?vt:function(e){return qt(e)&&he.call(e,"callee")&&!ge.call(e,"callee")},Xt=Array.isArray;function Vt(e){return null!=e&&Bt(e.length)&&!Wt(e)}var Nt=Te||Kt;function Rt(e,t){return bt(e,t)}function Wt(e){if(!Qt(e))return!1;var t=ft(e);return t==m||t==f||t==d||t==L}function Bt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Qt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qt(e){return null!=e&&"object"==typeof e}var zt=G?re(G):gt;function Jt(e){return Vt(e)?pt(e):Lt(e)}function Ht(){return[]}function Kt(){return!1}e.exports=Rt},1314:function(e,t,r){e=r.nmd(e),r(4114),r(6573),r(8100),r(7936),r(8111),r(7588),r(1701);var n=200,a="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",u="[object Function]",p="[object GeneratorFunction]",h="[object Map]",m="[object Number]",f="[object Object]",v="[object Promise]",b="[object RegExp]",k="[object Set]",y="[object String]",g="[object Symbol]",L="[object WeakMap]",w="[object ArrayBuffer]",C="[object DataView]",T="[object Float32Array]",_="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",P="[object Uint8Array]",D="[object Uint8ClampedArray]",A="[object Uint16Array]",$="[object Uint32Array]",O=/[\\^$.*+?()[\]{}|]/g,F=/\w*$/,U=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,I={};I[i]=I[s]=I[w]=I[C]=I[l]=I[c]=I[T]=I[_]=I[x]=I[E]=I[S]=I[h]=I[m]=I[f]=I[b]=I[k]=I[y]=I[g]=I[P]=I[D]=I[A]=I[$]=!0,I[d]=I[u]=I[L]=!1;var M="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,X="object"==typeof self&&self&&self.Object===Object&&self,V=M||X||Function("return this")(),N=t&&!t.nodeType&&t,R=N&&e&&!e.nodeType&&e,W=R&&R.exports===N;function B(e,t){return e.set(t[0],t[1]),e}function Q(e,t){return e.add(t),e}function q(e,t){var r=-1,n=e?e.length:0;while(++r<n)if(!1===t(e[r],r,e))break;return e}function z(e,t){var r=-1,n=t.length,a=e.length;while(++r<n)e[a+r]=t[r];return e}function J(e,t,r,n){var a=-1,o=e?e.length:0;n&&o&&(r=e[++a]);while(++a<o)r=t(r,e[a],a,e);return r}function H(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}function K(e,t){return null==e?void 0:e[t]}function G(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function Y(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function Z(e,t){return function(r){return e(t(r))}}function ee(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var te=Array.prototype,re=Function.prototype,ne=Object.prototype,ae=V["__core-js_shared__"],oe=function(){var e=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ie=re.toString,se=ne.hasOwnProperty,le=ne.toString,ce=RegExp("^"+ie.call(se).replace(O,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),de=W?V.Buffer:void 0,ue=V.Symbol,pe=V.Uint8Array,he=Z(Object.getPrototypeOf,Object),me=Object.create,fe=ne.propertyIsEnumerable,ve=te.splice,be=Object.getOwnPropertySymbols,ke=de?de.isBuffer:void 0,ye=Z(Object.keys,Object),ge=xt(V,"DataView"),Le=xt(V,"Map"),we=xt(V,"Promise"),Ce=xt(V,"Set"),Te=xt(V,"WeakMap"),_e=xt(Object,"create"),xe=jt(ge),Ee=jt(Le),Se=jt(we),Pe=jt(Ce),De=jt(Te),Ae=ue?ue.prototype:void 0,$e=Ae?Ae.valueOf:void 0;function Oe(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Fe(){this.__data__=_e?_e(null):{}}function Ue(e){return this.has(e)&&delete this.__data__[e]}function je(e){var t=this.__data__;if(_e){var r=t[e];return r===a?void 0:r}return se.call(t,e)?t[e]:void 0}function Ie(e){var t=this.__data__;return _e?void 0!==t[e]:se.call(t,e)}function Me(e,t){var r=this.__data__;return r[e]=_e&&void 0===t?a:t,this}function Xe(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Ve(){this.__data__=[]}function Ne(e){var t=this.__data__,r=ot(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ve.call(t,r,1),!0}function Re(e){var t=this.__data__,r=ot(t,e);return r<0?void 0:t[r][1]}function We(e){return ot(this.__data__,e)>-1}function Be(e,t){var r=this.__data__,n=ot(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}function Qe(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function qe(){this.__data__={hash:new Oe,map:new(Le||Xe),string:new Oe}}function ze(e){return _t(this,e)["delete"](e)}function Je(e){return _t(this,e).get(e)}function He(e){return _t(this,e).has(e)}function Ke(e,t){return _t(this,e).set(e,t),this}function Ge(e){this.__data__=new Xe(e)}function Ye(){this.__data__=new Xe}function Ze(e){return this.__data__["delete"](e)}function et(e){return this.__data__.get(e)}function tt(e){return this.__data__.has(e)}function rt(e,t){var r=this.__data__;if(r instanceof Xe){var a=r.__data__;if(!Le||a.length<n-1)return a.push([e,t]),this;r=this.__data__=new Qe(a)}return r.set(e,t),this}function nt(e,t){var r=Vt(e)||Xt(e)?H(e.length,String):[],n=r.length,a=!!n;for(var o in e)!t&&!se.call(e,o)||a&&("length"==o||$t(o,n))||r.push(o);return r}function at(e,t,r){var n=e[t];se.call(e,t)&&Mt(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function ot(e,t){var r=e.length;while(r--)if(Mt(e[r][0],t))return r;return-1}function it(e,t){return e&&wt(t,Jt(t),e)}function st(e,t,r,n,a,o,s){var l;if(n&&(l=o?n(e,a,o,s):n(e)),void 0!==l)return l;if(!qt(e))return e;var c=Vt(e);if(c){if(l=Pt(e),!t)return Lt(e,l)}else{var d=St(e),h=d==u||d==p;if(Wt(e))return ht(e,t);if(d==f||d==i||h&&!o){if(G(e))return o?e:{};if(l=Dt(h?{}:e),!t)return Ct(e,it(l,e))}else{if(!I[d])return o?e:{};l=At(e,d,st,t)}}s||(s=new Ge);var m=s.get(e);if(m)return m;if(s.set(e,l),!c)var v=r?Tt(e):Jt(e);return q(v||e,function(a,o){v&&(o=a,a=e[o]),at(l,o,st(a,t,r,n,o,e,s))}),l}function lt(e){return qt(e)?me(e):{}}function ct(e,t,r){var n=t(e);return Vt(e)?n:z(n,r(e))}function dt(e){return le.call(e)}function ut(e){if(!qt(e)||Ft(e))return!1;var t=Bt(e)||G(e)?ce:U;return t.test(jt(e))}function pt(e){if(!Ut(e))return ye(e);var t=[];for(var r in Object(e))se.call(e,r)&&"constructor"!=r&&t.push(r);return t}function ht(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function mt(e){var t=new e.constructor(e.byteLength);return new pe(t).set(new pe(e)),t}function ft(e,t){var r=t?mt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function vt(e,t,r){var n=t?r(Y(e),!0):Y(e);return J(n,B,new e.constructor)}function bt(e){var t=new e.constructor(e.source,F.exec(e));return t.lastIndex=e.lastIndex,t}function kt(e,t,r){var n=t?r(ee(e),!0):ee(e);return J(n,Q,new e.constructor)}function yt(e){return $e?Object($e.call(e)):{}}function gt(e,t){var r=t?mt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Lt(e,t){var r=-1,n=e.length;t||(t=Array(n));while(++r<n)t[r]=e[r];return t}function wt(e,t,r,n){r||(r={});var a=-1,o=t.length;while(++a<o){var i=t[a],s=n?n(r[i],e[i],i,r,e):void 0;at(r,i,void 0===s?e[i]:s)}return r}function Ct(e,t){return wt(e,Et(e),t)}function Tt(e){return ct(e,Jt,Et)}function _t(e,t){var r=e.__data__;return Ot(t)?r["string"==typeof t?"string":"hash"]:r.map}function xt(e,t){var r=K(e,t);return ut(r)?r:void 0}Oe.prototype.clear=Fe,Oe.prototype["delete"]=Ue,Oe.prototype.get=je,Oe.prototype.has=Ie,Oe.prototype.set=Me,Xe.prototype.clear=Ve,Xe.prototype["delete"]=Ne,Xe.prototype.get=Re,Xe.prototype.has=We,Xe.prototype.set=Be,Qe.prototype.clear=qe,Qe.prototype["delete"]=ze,Qe.prototype.get=Je,Qe.prototype.has=He,Qe.prototype.set=Ke,Ge.prototype.clear=Ye,Ge.prototype["delete"]=Ze,Ge.prototype.get=et,Ge.prototype.has=tt,Ge.prototype.set=rt;var Et=be?Z(be,Object):Ht,St=dt;function Pt(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&se.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function Dt(e){return"function"!=typeof e.constructor||Ut(e)?{}:lt(he(e))}function At(e,t,r,n){var a=e.constructor;switch(t){case w:return mt(e);case l:case c:return new a(+e);case C:return ft(e,n);case T:case _:case x:case E:case S:case P:case D:case A:case $:return gt(e,n);case h:return vt(e,n,r);case m:case y:return new a(e);case b:return bt(e);case k:return kt(e,n,r);case g:return yt(e)}}function $t(e,t){return t=null==t?o:t,!!t&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function Ot(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ft(e){return!!oe&&oe in e}function Ut(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||ne;return e===r}function jt(e){if(null!=e){try{return ie.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function It(e){return st(e,!0,!0)}function Mt(e,t){return e===t||e!==e&&t!==t}function Xt(e){return Rt(e)&&se.call(e,"callee")&&(!fe.call(e,"callee")||le.call(e)==i)}(ge&&St(new ge(new ArrayBuffer(1)))!=C||Le&&St(new Le)!=h||we&&St(we.resolve())!=v||Ce&&St(new Ce)!=k||Te&&St(new Te)!=L)&&(St=function(e){var t=le.call(e),r=t==f?e.constructor:void 0,n=r?jt(r):void 0;if(n)switch(n){case xe:return C;case Ee:return h;case Se:return v;case Pe:return k;case De:return L}return t});var Vt=Array.isArray;function Nt(e){return null!=e&&Qt(e.length)&&!Bt(e)}function Rt(e){return zt(e)&&Nt(e)}var Wt=ke||Kt;function Bt(e){var t=qt(e)?le.call(e):"";return t==u||t==p}function Qt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function qt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function zt(e){return!!e&&"object"==typeof e}function Jt(e){return Nt(e)?nt(e):pt(e)}function Ht(){return[]}function Kt(){return!1}e.exports=It},1955:function(e,t,r){"use strict";r.d(t,{tB:function(){return d}});r(8111),r(3579);var n=r(9933),a=r.n(n),o=r(6055),i=r.n(o),s=r(6768),l=r(144);
/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */
const c={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},d=(0,s.pM)({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:e=>["delta","html","text"].includes(e)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:e=>["snow","bubble",""].includes(e)},toolbar:{type:[String,Array,Object],required:!1,validator:e=>"string"!==typeof e||""===e||("#"===e.charAt(0)||-1!==Object.keys(c).indexOf(e))},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(e,t)=>{let r,n;(0,s.sV)(()=>{d()}),(0,s.xo)(()=>{r=null});const o=(0,l.KR)(),d=()=>{var i;if(o.value){if(n=u(),e.modules)if(Array.isArray(e.modules))for(const t of e.modules)a().register(`modules/${t.name}`,t.module);else a().register(`modules/${e.modules.name}`,e.modules.module);r=new(a())(o.value,n),T(e.content),r.on("text-change",v),r.on("selection-change",k),r.on("editor-change",y),"bubble"!==e.theme&&o.value.classList.remove("ql-bubble"),"snow"!==e.theme&&o.value.classList.remove("ql-snow"),null===(i=r.getModule("toolbar"))||void 0===i||i.container.addEventListener("mousedown",e=>{e.preventDefault()}),t.emit("ready",r)}},u=()=>{const t={};if(""!==e.theme&&(t.theme=e.theme),e.readOnly&&(t.readOnly=e.readOnly),e.placeholder&&(t.placeholder=e.placeholder),e.toolbar&&""!==e.toolbar&&(t.modules={toolbar:(()=>{if("object"===typeof e.toolbar)return e.toolbar;if("string"===typeof e.toolbar){const t=e.toolbar;return"#"===t.charAt(0)?e.toolbar:c[e.toolbar]}})()}),e.modules){const r=(()=>{var t,r;const n={};if(Array.isArray(e.modules))for(const a of e.modules)n[a.name]=null!==(t=a.options)&&void 0!==t?t:{};else n[e.modules.name]=null!==(r=e.modules.options)&&void 0!==r?r:{};return n})();t.modules=Object.assign({},t.modules,r)}return Object.assign({},e.globalOptions,e.options,t)},p=e=>"object"===typeof e&&e?e.slice():e,h=e=>Object.values(e.ops).some(e=>!e.retain||1!==Object.keys(e).length);let m;const f=e=>{if(typeof m===typeof e){if(e===m)return!0;if("object"===typeof e&&e&&"object"===typeof m&&m)return!h(m.diff(e))}return!1},v=(r,n,a)=>{m=p(C()),f(e.content)||t.emit("update:content",m),t.emit("textChange",{delta:r,oldContents:n,source:a})},b=(0,l.KR)(),k=(e,n,a)=>{b.value=!!(null===r||void 0===r?void 0:r.hasFocus()),t.emit("selectionChange",{range:e,oldRange:n,source:a})};(0,s.wB)(b,e=>{e?t.emit("focus",o):t.emit("blur",o)});const y=(...e)=>{"text-change"===e[0]&&t.emit("editorChange",{name:e[0],delta:e[1],oldContents:e[2],source:e[3]}),"selection-change"===e[0]&&t.emit("editorChange",{name:e[0],range:e[1],oldRange:e[2],source:e[3]})},g=()=>o.value,L=()=>{var e;return null===(e=null===r||void 0===r?void 0:r.getModule("toolbar"))||void 0===e?void 0:e.container},w=()=>{if(r)return r;throw'The quill editor hasn\'t been instantiated yet,\n                  make sure to call this method when the editor ready\n                  or use v-on:ready="onReady(quill)" event instead.'},C=(t,n)=>"html"===e.contentType?E():"text"===e.contentType?_(t,n):null===r||void 0===r?void 0:r.getContents(t,n),T=(t,n="api")=>{const a=t||("delta"===e.contentType?new(i()):"");"html"===e.contentType?S(a):"text"===e.contentType?x(a,n):null===r||void 0===r||r.setContents(a,n),m=p(a)},_=(e,t)=>{var n;return null!==(n=null===r||void 0===r?void 0:r.getText(e,t))&&void 0!==n?n:""},x=(e,t="api")=>{null===r||void 0===r||r.setText(e,t)},E=()=>{var e;return null!==(e=null===r||void 0===r?void 0:r.root.innerHTML)&&void 0!==e?e:""},S=e=>{r&&(r.root.innerHTML=e)},P=(e,t="api")=>{const n=null===r||void 0===r?void 0:r.clipboard.convert(e);n&&(null===r||void 0===r||r.setContents(n,t))},D=()=>{null===r||void 0===r||r.focus()},A=()=>{(0,s.dY)(()=>{var e;!t.slots.toolbar&&r&&(null===(e=r.getModule("toolbar"))||void 0===e||e.container.remove()),d()})};return(0,s.wB)(()=>e.content,e=>{if(!r||!e||f(e))return;const t=r.getSelection();t&&(0,s.dY)(()=>null===r||void 0===r?void 0:r.setSelection(t)),T(e)},{deep:!0}),(0,s.wB)(()=>e.enable,e=>{r&&r.enable(e)}),{editor:o,getEditor:g,getToolbar:L,getQuill:w,getContents:C,setContents:T,getHTML:E,setHTML:S,pasteHTML:P,focus:D,getText:_,setText:x,reinit:A}},render(){var e,t;return[null===(t=(e=this.$slots).toolbar)||void 0===t?void 0:t.call(e),(0,s.h)("div",{ref:"editor",...this.$attrs})]}})},2213:function(e,t,r){r(4114);var n=-1,a=1,o=0;function i(e,t,r,n){if(e===t)return e?[[o,e]]:[];if(null!=r){var a=g(e,t,r);if(a)return a}var i=d(e,t),l=e.substring(0,i);e=e.substring(i),t=t.substring(i),i=u(e,t);var c=e.substring(e.length-i);e=e.substring(0,e.length-i),t=t.substring(0,t.length-i);var p=s(e,t);return l&&p.unshift([o,l]),c&&p.push([o,c]),h(p,n),p}function s(e,t){var r;if(!e)return[[a,t]];if(!t)return[[n,e]];var s=e.length>t.length?e:t,c=e.length>t.length?t:e,d=s.indexOf(c);if(-1!==d)return r=[[a,s.substring(0,d)],[o,c],[a,s.substring(d+c.length)]],e.length>t.length&&(r[0][0]=r[2][0]=n),r;if(1===c.length)return[[n,e],[a,t]];var u=p(e,t);if(u){var h=u[0],m=u[1],f=u[2],v=u[3],b=u[4],k=i(h,f),y=i(m,v);return k.concat([[o,b]],y)}return l(e,t)}function l(e,t){for(var r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,l=2*i,d=new Array(l),u=new Array(l),p=0;p<l;p++)d[p]=-1,u[p]=-1;d[s+1]=0,u[s+1]=0;for(var h=r-o,m=h%2!==0,f=0,v=0,b=0,k=0,y=0;y<i;y++){for(var g=-y+f;g<=y-v;g+=2){var L=s+g;E=g===-y||g!==y&&d[L-1]<d[L+1]?d[L+1]:d[L-1]+1;var w=E-g;while(E<r&&w<o&&e.charAt(E)===t.charAt(w))E++,w++;if(d[L]=E,E>r)v+=2;else if(w>o)f+=2;else if(m){var C=s+h-g;if(C>=0&&C<l&&-1!==u[C]){var T=r-u[C];if(E>=T)return c(e,t,E,w)}}}for(var _=-y+b;_<=y-k;_+=2){C=s+_;T=_===-y||_!==y&&u[C-1]<u[C+1]?u[C+1]:u[C-1]+1;var x=T-_;while(T<r&&x<o&&e.charAt(r-T-1)===t.charAt(o-x-1))T++,x++;if(u[C]=T,T>r)k+=2;else if(x>o)b+=2;else if(!m){L=s+h-_;if(L>=0&&L<l&&-1!==d[L]){var E=d[L];w=s+E-L;if(T=r-T,E>=T)return c(e,t,E,w)}}}}return[[n,e],[a,t]]}function c(e,t,r,n){var a=e.substring(0,r),o=t.substring(0,n),s=e.substring(r),l=t.substring(n),c=i(a,o),d=i(s,l);return c.concat(d)}function d(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;var r=0,n=Math.min(e.length,t.length),a=n,o=0;while(r<a)e.substring(o,a)==t.substring(o,a)?(r=a,o=r):n=a,a=Math.floor((n-r)/2+r);return m(e.charCodeAt(a-1))&&a--,a}function u(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;var r=0,n=Math.min(e.length,t.length),a=n,o=0;while(r<a)e.substring(e.length-a,e.length-o)==t.substring(t.length-a,t.length-o)?(r=a,o=r):n=a,a=Math.floor((n-r)/2+r);return f(e.charCodeAt(e.length-a))&&a--,a}function p(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function a(e,t,r){var n,a,o,i,s=e.substring(r,r+Math.floor(e.length/4)),l=-1,c="";while(-1!==(l=t.indexOf(s,l+1))){var p=d(e.substring(r),t.substring(l)),h=u(e.substring(0,r),t.substring(0,l));c.length<h+p&&(c=t.substring(l-h,l)+t.substring(l,l+p),n=e.substring(0,r-h),a=e.substring(r+p),o=t.substring(0,l-h),i=t.substring(l+p))}return 2*c.length>=e.length?[n,a,o,i,c]:null}var o,i,s,l,c,p=a(r,n,Math.ceil(r.length/4)),h=a(r,n,Math.ceil(r.length/2));if(!p&&!h)return null;o=h?p&&p[4].length>h[4].length?p:h:p,e.length>t.length?(i=o[0],s=o[1],l=o[2],c=o[3]):(l=o[0],c=o[1],i=o[2],s=o[3]);var m=o[4];return[i,s,l,c,m]}function h(e,t){e.push([o,""]);var r,i=0,s=0,l=0,c="",p="";while(i<e.length)if(i<e.length-1&&!e[i][1])e.splice(i,1);else switch(e[i][0]){case a:l++,p+=e[i][1],i++;break;case n:s++,c+=e[i][1],i++;break;case o:var m=i-l-s-1;if(t){if(m>=0&&b(e[m][1])){var f=e[m][1].slice(-1);if(e[m][1]=e[m][1].slice(0,-1),c=f+c,p=f+p,!e[m][1]){e.splice(m,1),i--;var k=m-1;e[k]&&e[k][0]===a&&(l++,p=e[k][1]+p,k--),e[k]&&e[k][0]===n&&(s++,c=e[k][1]+c,k--),m=k}}if(v(e[i][1])){f=e[i][1].charAt(0);e[i][1]=e[i][1].slice(1),c+=f,p+=f}}if(i<e.length-1&&!e[i][1]){e.splice(i,1);break}if(c.length>0||p.length>0){c.length>0&&p.length>0&&(r=d(p,c),0!==r&&(m>=0?e[m][1]+=p.substring(0,r):(e.splice(0,0,[o,p.substring(0,r)]),i++),p=p.substring(r),c=c.substring(r)),r=u(p,c),0!==r&&(e[i][1]=p.substring(p.length-r)+e[i][1],p=p.substring(0,p.length-r),c=c.substring(0,c.length-r)));var y=l+s;0===c.length&&0===p.length?(e.splice(i-y,y),i-=y):0===c.length?(e.splice(i-y,y,[a,p]),i=i-y+1):0===p.length?(e.splice(i-y,y,[n,c]),i=i-y+1):(e.splice(i-y,y,[n,c],[a,p]),i=i-y+2)}0!==i&&e[i-1][0]===o?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,l=0,s=0,c="",p="";break}""===e[e.length-1][1]&&e.pop();var g=!1;i=1;while(i<e.length-1)e[i-1][0]===o&&e[i+1][0]===o&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)===e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),g=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),g=!0)),i++;g&&h(e,t)}function m(e){return e>=55296&&e<=56319}function f(e){return e>=56320&&e<=57343}function v(e){return f(e.charCodeAt(0))}function b(e){return m(e.charCodeAt(e.length-1))}function k(e){for(var t=[],r=0;r<e.length;r++)e[r][1].length>0&&t.push(e[r]);return t}function y(e,t,r,i){return b(e)||v(i)?null:k([[o,e],[n,t],[a,r],[o,i]])}function g(e,t,r){var n="number"===typeof r?{index:r,length:0}:r.oldRange,a="number"===typeof r?null:r.newRange,o=e.length,i=t.length;if(0===n.length&&(null===a||0===a.length)){var s=n.index,l=e.slice(0,s),c=e.slice(s),d=a?a.index:null,u=s+i-o;if((null===d||d===u)&&!(u<0||u>i)){var p=t.slice(0,u),h=t.slice(u);if(h===c){var m=Math.min(s,u),f=l.slice(0,m),v=p.slice(0,m);if(f===v){var b=l.slice(m),k=p.slice(m);return y(f,b,k,c)}}}if(null===d||d===s){var g=s;p=t.slice(0,g),h=t.slice(g);if(p===l){var L=Math.min(o-g,i-g),w=c.slice(c.length-L),C=h.slice(h.length-L);if(w===C){b=c.slice(0,c.length-L),k=h.slice(0,h.length-L);return y(l,b,k,w)}}}}if(n.length>0&&a&&0===a.length){f=e.slice(0,n.index),w=e.slice(n.index+n.length),m=f.length,L=w.length;if(!(i<m+L)){v=t.slice(0,m),C=t.slice(i-L);if(f===v&&w===C){b=e.slice(m,o-L),k=t.slice(m,i-L);return y(f,b,k,w)}}}return null}function L(e,t,r){return i(e,t,r,!0)}L.INSERT=a,L.DELETE=n,L.EQUAL=o,e.exports=L},2259:function(e,t,r){"use strict";r(8111),r(8237);var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(r(1314)),i=n(r(1029));(function(e){function t(e,t,r){void 0===e&&(e={}),void 0===t&&(t={}),"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=o.default(t);for(var a in r||(n=Object.keys(n).reduce(function(e,t){return null!=n[t]&&(e[t]=n[t]),e},{})),e)void 0!==e[a]&&void 0===t[a]&&(n[a]=e[a]);return Object.keys(n).length>0?n:void 0}function r(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce(function(r,n){return i.default(e[n],t[n])||(r[n]=void 0===t[n]?null:t[n]),r},{});return Object.keys(r).length>0?r:void 0}function n(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=e||{};var r=Object.keys(t).reduce(function(r,n){return t[n]!==e[n]&&void 0!==e[n]&&(r[n]=t[n]),r},{});return Object.keys(e).reduce(function(r,n){return e[n]!==t[n]&&void 0===t[n]&&(r[n]=null),r},r)}function a(e,t,r){if(void 0===r&&(r=!1),"object"!==typeof e)return t;if("object"===typeof t){if(!r)return t;var n=Object.keys(t).reduce(function(r,n){return void 0===e[n]&&(r[n]=t[n]),r},{});return Object.keys(n).length>0?n:void 0}}e.compose=t,e.diff=r,e.invert=n,e.transform=a})(a||(a={})),t["default"]=a},2507:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(6768);const a={class:"container text-start py-5"};function o(e,t){return(0,n.uX)(),(0,n.CE)("div",a,[...t[0]||(t[0]=[(0,n.Fv)('<div class="row align-items-center"><div class="col-lg-6 mb-4 mb-lg-0"><h1 class="fw-bold mb-3">About Us</h1><p class="fs-6 text-muted mb-4"> Welcome to 234 AFRICA, your premier event ticketing platform dedicated to connecting people with unforgettable experiences across Africa. </p><p class="fs-6 text-muted"> Our platform connects event organizers and attendees in a seamless way, giving you real-time access to tickets, event details, and more. </p><p class="fs-6 text-muted"> Join our growing community and never miss out on the next big thing around you! </p></div><div class="col-lg-6 text-center"><img src="https://images.unsplash.com/photo-1521737604893-d14cc237f11d" alt="People enjoying an event" class="img-fluid rounded"></div></div>',1)])])}var i=r(1241);const s={},l=(0,i.A)(s,[["render",o]]);var c=l},3135:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return fr}});var n=r(6768),a=r(4232);const o={class:"sidebar-header d-flex justify-content-between align-items-center p-3 border-bottom"},i={class:"sidebar-content p-3"},s={class:"list-unstyled"},l={key:0,class:"flaticon-381-networking me-2"},c={key:0,class:"list-unstyled ms-3"},d={key:0,class:"list-unstyled ms-3"},u={class:"d-block d-md-none w-50 px-2 pb-2"};function p(e,t,r,p,h,m){const f=(0,n.g2)("events"),v=(0,n.g2)("category"),b=(0,n.g2)("users"),k=(0,n.g2)("Scanner"),y=(0,n.g2)("Orders"),g=(0,n.g2)("banks"),L=(0,n.g2)("addEvent");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{class:(0,a.C4)(["sidebar d-none d-md-block",{"sidebar-open":h.isOpen}])},[(0,n.Lk)("div",o,[t[19]||(t[19]=(0,n.Lk)("h5",{class:"mb-0 text-white"},"Menu",-1)),(0,n.Lk)("button",{class:"btn btn-sm btn-light",onClick:t[0]||(t[0]=(...e)=>m.closeSidebar&&m.closeSidebar(...e))},"Ã—")]),(0,n.Lk)("div",i,[(0,n.Lk)("ul",s,[(0,n.Lk)("li",null,[(0,n.Lk)("a",{class:"d-flex align-items-center cursor-pointer",onClick:t[1]||(t[1]=e=>h.seen=!h.seen)},[m.isTablet?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("i",l)),t[20]||(t[20]=(0,n.Lk)("span",null,"All",-1))]),h.seen?((0,n.uX)(),(0,n.CE)("ul",c,[(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[2]||(t[2]=(...e)=>m.onClickHomeTab&&m.onClickHomeTab(...e))},"Events")]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[3]||(t[3]=(...e)=>m.onClickCategoryTab&&m.onClickCategoryTab(...e))},"Category")]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[4]||(t[4]=(...e)=>m.onClickUserTab&&m.onClickUserTab(...e))},"Users")]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[5]||(t[5]=(...e)=>m.onClickScannerTab&&m.onClickScannerTab(...e))},"Scanner")])])):(0,n.Q3)("",!0)]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{class:"d-flex align-items-center cursor-pointer",onClick:t[6]||(t[6]=e=>h.see=!h.see)},[...t[21]||(t[21]=[(0,n.Lk)("i",{class:"flaticon-381-television me-2"},null,-1),(0,n.Lk)("span",null,"Apps",-1)])]),h.see?((0,n.uX)(),(0,n.CE)("ul",d,[(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[7]||(t[7]=(...e)=>m.onClickBankTab&&m.onClickBankTab(...e))},"Bank Info")]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[8]||(t[8]=(...e)=>m.onClickOrderTab&&m.onClickOrderTab(...e))},"Orders")]),(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[9]||(t[9]=(...e)=>m.onClickAddEventTab&&m.onClickAddEventTab(...e))},"Add Event")])])):(0,n.Q3)("",!0)])])])],2),(0,n.Lk)("div",u,[(0,n.Lk)("div",{class:"dropdown form-control p-2",onClick:t[17]||(t[17]=(...e)=>m.toggleDropdown&&m.toggleDropdown(...e))},[(0,n.Lk)("a",{class:(0,a.C4)(["dropdown-toggle",{active:h.isDropdownOpen}])},(0,a.v_)(h.mobileTab),3),(0,n.Lk)("div",{class:(0,a.C4)(["dropdown-menu",{show:h.isDropdownOpen}])},[(0,n.Lk)("a",{class:"dropdown-item",onClick:t[10]||(t[10]=(...e)=>m.onClickHomeTab&&m.onClickHomeTab(...e))},"Events"),(0,n.Lk)("a",{class:"dropdown-item",onClick:t[11]||(t[11]=(...e)=>m.onClickCategoryTab&&m.onClickCategoryTab(...e))},"Categories"),(0,n.Lk)("a",{class:"dropdown-item",onClick:t[12]||(t[12]=(...e)=>m.onClickUserTab&&m.onClickUserTab(...e))},"Users"),(0,n.Lk)("a",{class:"dropdown-item",onClick:t[13]||(t[13]=(...e)=>m.onClickScannerTab&&m.onClickScannerTab(...e))},"Scanner"),(0,n.Lk)("a",{class:"dropdown-item",onClick:t[14]||(t[14]=(...e)=>m.onClickBankTab&&m.onClickBankTab(...e))},"Bank Info"),(0,n.Lk)("a",{class:"dropdown-item",onClick:t[15]||(t[15]=(...e)=>m.onClickOrderTab&&m.onClickOrderTab(...e))},"Orders"),(0,n.Lk)("a",{class:"dropdown-item",onClick:t[16]||(t[16]=(...e)=>m.onClickAddEventTab&&m.onClickAddEventTab(...e))},"Add Event")],2)])]),(0,n.Lk)("div",{class:(0,a.C4)(["page-content",{"page-shift":h.isOpen}])},[h.isOpen?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:0,class:"btn btn-primary m-2 d-none d-md-block",onClick:t[18]||(t[18]=(...e)=>m.openSidebar&&m.openSidebar(...e))}," â˜° ")),h.isAccountHomeVisible?((0,n.uX)(),(0,n.Wv)(f,{key:1})):(0,n.Q3)("",!0),e.isCategoryVisible?((0,n.uX)(),(0,n.Wv)(v,{key:2})):(0,n.Q3)("",!0),h.isUsersVisible?((0,n.uX)(),(0,n.Wv)(b,{key:3})):(0,n.Q3)("",!0),h.isScannerVisible?((0,n.uX)(),(0,n.Wv)(k,{key:4})):(0,n.Q3)("",!0),h.isOrdersVisible?((0,n.uX)(),(0,n.Wv)(y,{key:5})):(0,n.Q3)("",!0),e.isBanksVisible?((0,n.uX)(),(0,n.Wv)(g,{key:6})):(0,n.Q3)("",!0),h.isAddEventVisible?((0,n.uX)(),(0,n.Wv)(L,{key:7})):(0,n.Q3)("",!0)],2)])}r(4114);var h=r(782),m=r(5130);const f={class:"container-fluid bg-light"},v={class:"section_discover"},b={class:"container-large"},k={class:"row pt-2 pb-2"},y={class:"w-50 pt-2 pb-md-0 pb-1"},g={class:"col-12 col-md-6 pt-1"},L={class:"d-flex flex-column flex-md-row align-items-center justify-content-md-end gap-2"},w={class:"modal-content h-25"},C={class:"d-flex justify-content-between align-items-center mb-3"},T={class:"row"},_={class:"col-6"},x={class:"col-6"},E={class:"d-flex justify-content-between mt-4"},S={class:"modal-content h-25"},P={class:"d-flex justify-content-between align-items-center mb-3"},D={class:"d-flex justify-content-center gap-3 mb-3"},A={class:"row"},$={class:"col-6"},O={class:"col-6"},F={class:"d-flex justify-content-between mt-4"},U={class:""},j={class:"modal-content w-100 h-75",style:{"max-height":"90vh","overflow-y":"auto"}},I={class:"d-flex justify-content-between align-items-center mb-3"},M={class:"container-fluid"},X={class:"section_discover pt-4 mb-3"},V={class:"container-large"},N={class:"mb-3"},R={key:0,class:"alert alert-warning"},W={class:"row"},B=["src"],Q={class:"pt-2"},q={class:"mb-1"},z={key:0},J={class:"mb-1"},H=["onClick"],K=["onClick"],G=["onClick"];function Y(e,t,r,o,i,s){const l=(0,n.g2)("editProduct");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",f,[(0,n.Lk)("div",v,[(0,n.Lk)("div",b,[(0,n.Lk)("div",k,[(0,n.Lk)("div",y,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.searchTerm=e),type:"text",class:"form-control",placeholder:"Search events by title"},null,512),[[m.Jo,i.searchTerm]])]),(0,n.Lk)("div",g,[(0,n.Lk)("div",L,[(0,n.Lk)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[1]||(t[1]=e=>i.showPriceModal=!0)}," Price "),(0,n.Lk)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[2]||(t[2]=e=>i.showDateModal=!0)}," Date "),(0,n.Lk)("a",{href:"#",class:"text-muted text-decoration-none",onClick:t[3]||(t[3]=(0,m.D$)((...e)=>s.resetSearch&&s.resetSearch(...e),["prevent"]))}," Reset Filters ")])])])])])]),i.showPriceModal?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal w-100",onClick:t[9]||(t[9]=(0,m.D$)(e=>i.showPriceModal=!1,["self"]))},[(0,n.Lk)("div",w,[(0,n.Lk)("div",C,[t[23]||(t[23]=(0,n.Lk)("h5",{class:"m-0 fw-bold"},"Price",-1)),(0,n.Lk)("button",{class:"btn-icon",onClick:t[4]||(t[4]=e=>i.showPriceModal=!1)},[...t[22]||(t[22]=[(0,n.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),(0,n.Lk)("div",T,[(0,n.Lk)("div",_,[t[24]||(t[24]=(0,n.Lk)("label",null,"Minimum amount",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.tempFilters.minPrice=e),type:"number",class:"form-control"},null,512),[[m.Jo,i.tempFilters.minPrice,void 0,{number:!0}]])]),(0,n.Lk)("div",x,[t[25]||(t[25]=(0,n.Lk)("label",null,"Maximum amount",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.tempFilters.maxPrice=e),type:"number",class:"form-control"},null,512),[[m.Jo,i.tempFilters.maxPrice,void 0,{number:!0}]])])]),(0,n.Lk)("div",E,[(0,n.Lk)("button",{class:"btn btn-outline-secondary",onClick:t[7]||(t[7]=(...e)=>s.clearPriceFilters&&s.clearPriceFilters(...e))}," Clear "),(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>s.applyPriceFilters&&s.applyPriceFilters(...e))},"Apply")])])])):(0,n.Q3)("",!0),i.showDateModal?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"modal",onClick:t[18]||(t[18]=(0,m.D$)(e=>i.showDateModal=!1,["self"]))},[(0,n.Lk)("div",S,[(0,n.Lk)("div",P,[t[27]||(t[27]=(0,n.Lk)("h5",{class:"m-0 fw-bold"},"Date",-1)),(0,n.Lk)("button",{class:"btn-icon",onClick:t[10]||(t[10]=e=>i.showDateModal=!1)},[...t[26]||(t[26]=[(0,n.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),(0,n.Lk)("div",D,[(0,n.Lk)("button",{class:"btn btn-outline-dark",onClick:t[11]||(t[11]=(...e)=>s.setToday&&s.setToday(...e))},"Today"),(0,n.Lk)("button",{class:"btn btn-outline-dark",onClick:t[12]||(t[12]=(...e)=>s.setTomorrow&&s.setTomorrow(...e))},"Tomorrow"),(0,n.Lk)("button",{class:"btn btn-outline-dark",onClick:t[13]||(t[13]=(...e)=>s.setThisWeekend&&s.setThisWeekend(...e))}," This weekend ")]),(0,n.Lk)("div",A,[(0,n.Lk)("div",$,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>i.tempFilters.startDate=e),type:"date",class:"form-control"},null,512),[[m.Jo,i.tempFilters.startDate]])]),(0,n.Lk)("div",O,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>i.tempFilters.endDate=e),type:"date",class:"form-control"},null,512),[[m.Jo,i.tempFilters.endDate]])])]),(0,n.Lk)("div",F,[(0,n.Lk)("button",{class:"btn btn-outline-secondary",onClick:t[16]||(t[16]=(...e)=>s.clearDateFilters&&s.clearDateFilters(...e))}," Clear "),(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[17]||(t[17]=(...e)=>s.applyDateFilters&&s.applyDateFilters(...e))},"Apply")])])])):(0,n.Q3)("",!0),i.showEditModal?((0,n.uX)(),(0,n.CE)("div",{key:2,class:"modal",onClick:t[21]||(t[21]=(0,m.D$)(e=>i.showEditModal=!1,["self"]))},[(0,n.Lk)("div",U,[(0,n.Lk)("div",j,[(0,n.Lk)("div",I,[t[29]||(t[29]=(0,n.Lk)("h5",{class:"m-0 fw-bold"},"Edit",-1)),(0,n.Lk)("button",{class:"btn-icon",onClick:t[19]||(t[19]=e=>i.showEditModal=!1)},[...t[28]||(t[28]=[(0,n.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),i.showEditProduct?((0,n.uX)(),(0,n.Wv)(l,{key:0,"product-id":i.selectedProductId,onRefresh:s.fetchProducts,onClose:t[20]||(t[20]=e=>i.showEditModal=!1)},null,8,["product-id","onRefresh"])):(0,n.Q3)("",!0)])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",M,[(0,n.Lk)("div",X,[(0,n.Lk)("div",V,[(0,n.Lk)("h3",N,"Explore "+(0,a.v_)(s.filteredProducts.length)+" Events",1),0===s.filteredProducts.length?((0,n.uX)(),(0,n.CE)("div",R," No events match your search. ")):(0,n.Q3)("",!0),(0,n.Lk)("div",W,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.filteredProducts,e=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-4 pt-3",key:e._id},[(0,n.Lk)("div",null,[(0,n.Lk)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,B),(0,n.Lk)("div",Q,[(0,n.Lk)("h5",null,(0,a.v_)(e.title),1),(0,n.Lk)("p",q,[t[30]||(t[30]=(0,n.Lk)("i",{class:"bi bi-calendar-event me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(s.formatDate(e.event.start))+" ",1),e.event.end?((0,n.uX)(),(0,n.CE)("span",z,"- "+(0,a.v_)(s.formatDate(e.event.end)),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("p",J,[t[31]||(t[31]=(0,n.Lk)("i",{class:"bi bi-geo-alt me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(e.event.location.name||"No location"),1)]),(0,n.Lk)("p",null,(0,a.v_)(0===e.event.tickets[0].price&&0===e.event.tickets[e.event.tickets.length-1].price?"Free":e.event.tickets[0].price===e.event.tickets[e.event.tickets.length-1].price?s.formatPrice(e.event.tickets[0].price):`From ${s.formatPrice(e.event.tickets[0].price)} - ${s.formatPrice(e.event.tickets[e.event.tickets.length-1].price)}`),1),(0,n.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>s.goToProduct(e.title)}," View Event ",8,H),(0,n.Lk)("button",{class:"btn btn-primary btn-sm ms-2",onClick:t=>s.goToEditProduct(e._id)},[...t[32]||(t[32]=[(0,n.Lk)("i",{class:"bi bi-pencil-fill me-1"},null,-1),(0,n.eW)(" Edit Ticket ",-1)])],8,K),(0,n.Lk)("button",{class:"btn btn-danger btn-sm ms-2",onClick:t=>s.deleteProduct(e._id)},[...t[33]||(t[33]=[(0,n.Lk)("i",{class:"bi bi-trash-fill me-1"},null,-1),(0,n.eW)(" Delete ",-1)])],8,G)])])]))),128))]),t[34]||(t[34]=(0,n.Lk)("div",{class:"row g-4"},[(0,n.Lk)("div",{class:"col-md-6"})],-1))])])])])}r(8111),r(2489);var Z=r(4373),ee=r(7769),te={components:{editProduct:ee.A},name:"ProductList",data(){return{showEditProduct:!1,selectedProductId:null,products:[],reference:"",loading:!0,searchTerm:"",filters:{minPrice:0,maxPrice:1/0,startDate:null,endDate:null},tempFilters:{minPrice:0,maxPrice:1e5,startDate:null,endDate:null},showPriceModal:!1,showDateModal:!1,showEditModal:!1}},computed:{filteredProducts(){const e=this.searchTerm.toLowerCase();return this.products.filter(t=>{const r=t.title?.toLowerCase().includes(e),n=t.event?.location?.name?.toLowerCase().includes(e),a=t.event?.tickets||[],o=[...a].sort((e,t)=>e.price-t.price),i=o[0]?.price||0,s=o[o.length-1]?.price||0,l=(!this.filters.minPrice||s>=this.filters.minPrice)&&(!this.filters.maxPrice||i<=this.filters.maxPrice),c=new Date(t.event?.date),d=this.filters.startDate?new Date(this.filters.startDate):null,u=this.filters.endDate?new Date(this.filters.endDate):null,p=new Date(c.toDateString()),h=d?new Date(d.toDateString()):null,m=u?new Date(u.toDateString()):null,f=(!h||p>=h)&&(!m||p<=m);return(r||n)&&l&&f})}},methods:{async fetchProducts(){try{const e=await Z.A.get("https://event-ticket-backend-yx81.onrender.com/api/products");this.products=e.data.products}catch(e){console.error("Error fetching products:",e)}},async deleteProduct(e){if(confirm("Are you sure you want to delete this order?")){console.log(e);try{await Z.A.delete(`https://event-ticket-backend-yx81.onrender.com/api/product/${e}`),alert("Product deleted successfully"),this.fetchProducts()}catch(t){console.error("Delete failed:",t)}}},goToEditProduct(e){this.selectedProductId=e,this.showEditModal=!0,this.showEditProduct=!0,console.log("Navigating to product:",e)},goToProduct(e){const t=e.replace(/\s+/g,"-");this.$store.dispatch("setProductUrl",e),this.$router.push({name:"ProductDetails",params:{title:t}})},formatDate(e){if(!e)return"No date";const t={weekday:"short",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`â‚¦${e}`:"Free"},resetSearch(){this.searchTerm="",this.filters={minPrice:0,maxPrice:1/0,startDate:null,endDate:null}},applyPriceFilters(){this.filters.minPrice=this.tempFilters.minPrice,this.filters.maxPrice=this.tempFilters.maxPrice,this.showPriceModal=!1},clearPriceFilters(){this.tempFilters.minPrice=0,this.tempFilters.maxPrice=1e5,this.applyPriceFilters()},applyDateFilters(){this.filters.startDate=this.tempFilters.startDate,this.filters.endDate=this.tempFilters.endDate,this.showDateModal=!1},clearDateFilters(){this.tempFilters.startDate=null,this.tempFilters.endDate=null,this.applyDateFilters()},setToday(){const e=(new Date).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setTomorrow(){const e=new Date(Date.now()+864e5).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setThisWeekend(){const e=new Date,t=e.getDay(),r=new Date(e);r.setDate(e.getDate()+(6-t));const n=new Date(r);n.setDate(r.getDate()+1),this.tempFilters.startDate=r.toISOString().split("T")[0],this.tempFilters.endDate=n.toISOString().split("T")[0]}},mounted(){this.fetchProducts()}},re=r(1241);const ne=(0,re.A)(te,[["render",Y],["__scopeId","data-v-438ad6b4"]]);var ae=ne;const oe={class:"card shadow-sm p-0"},ie={class:"p-3"},se={class:"table-responsive"},le={key:0,class:"table table-striped custom-table mb-0"},ce={class:"tes"},de={key:1,class:"text-center text-muted p-3"};function ue(e,t,r,o,i,s){return(0,n.uX)(),(0,n.CE)("div",oe,[t[2]||(t[2]=(0,n.Lk)("div",{class:"text-center bg-success text-white py-2"},[(0,n.Lk)("h5",{class:"mb-0"},"Orders")],-1)),(0,n.Lk)("div",ie,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e),type:"text",class:"form-control w-50",placeholder:"Search by Email or Reference"},null,512),[[m.Jo,i.searchQuery]])]),(0,n.Lk)("div",se,[s.filteredOrders.length?((0,n.uX)(),(0,n.CE)("table",le,[t[1]||(t[1]=(0,n.Lk)("thead",{class:"text-uppercase small text-muted"},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Order ID"),(0,n.Lk)("th",null,"Reference"),(0,n.Lk)("th",null,"Date"),(0,n.Lk)("th",null,"Name of event"),(0,n.Lk)("th",null,"Customer Email"),(0,n.Lk)("th",null,"Phone number"),(0,n.Lk)("th",null,"Amount"),(0,n.Lk)("th",null,"Ticket type")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.filteredOrders,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e._id},[(0,n.Lk)("td",null,(0,a.v_)(e._id),1),(0,n.Lk)("td",ce,(0,a.v_)(e.reference),1),(0,n.Lk)("td",null,(0,a.v_)(new Date(e.createdAt).toLocaleString()),1),(0,n.Lk)("td",null,(0,a.v_)(e.title),1),(0,n.Lk)("td",null,(0,a.v_)(e.contact?.email||"N/A"),1),(0,n.Lk)("td",null,(0,a.v_)(e.contact?.phone||"N/A"),1),(0,n.Lk)("td",null,"$"+(0,a.v_)(e.price),1),(0,n.Lk)("td",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.tickets,e=>((0,n.uX)(),(0,n.CE)("div",{key:e._id},(0,a.v_)(e.name)+" x "+(0,a.v_)(e.quantity),1))),128))])]))),128))])])):((0,n.uX)(),(0,n.CE)("div",de,"No matching orders found."))])])}var pe={name:"Orders",data(){return{orders:[],selectedStatus:"",searchQuery:"",loading:!0,error:null}},computed:{filteredOrders(){return this.orders.filter(e=>{const t=!this.selectedStatus||e.status===this.selectedStatus,r=this.searchQuery.trim().toLowerCase(),n=e.reference?.toLowerCase().includes(r),a=e.contact?.email?.toLowerCase().includes(r),o=!r||n||a;return t&&o})}},mounted(){this.fetchOrders()},methods:{async fetchOrders(){try{const e=await Z.A.get("https://event-ticket-backend-yx81.onrender.com/api/all-orders");this.orders=e.data.orders}catch(e){this.error="Failed to fetch orders",console.error(e)}finally{this.loading=!1}}}};const he=(0,re.A)(pe,[["render",ue],["__scopeId","data-v-eedfea08"]]);var me=he,fe=r(5688);const ve={class:"card shadow-sm p-0 mt-4"},be={class:"p-3"},ke={class:"table-responsive"},ye={key:0,class:"table table-striped custom-table mb-0"},ge={key:1,class:"text-center text-muted p-3"};function Le(e,t,r,o,i,s){return(0,n.uX)(),(0,n.CE)("div",ve,[t[2]||(t[2]=(0,n.Lk)("div",{class:"text-center bg-success text-white py-2"},[(0,n.Lk)("h5",{class:"mb-0"},"Banks")],-1)),(0,n.Lk)("div",be,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e),type:"text",class:"form-control w-50",placeholder:"Search by Account Name, Account Number or Bank Name"},null,512),[[m.Jo,i.searchQuery]])]),(0,n.Lk)("div",ke,[s.filteredBanks.length?((0,n.uX)(),(0,n.CE)("table",ye,[t[1]||(t[1]=(0,n.Lk)("thead",{class:"text-uppercase small text-muted"},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Bank Account Name"),(0,n.Lk)("th",null,"Account Number"),(0,n.Lk)("th",null,"Bank Name"),(0,n.Lk)("th",null,"User")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.filteredBanks,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e._id},[(0,n.Lk)("td",null,(0,a.v_)(e.accountName),1),(0,n.Lk)("td",null,(0,a.v_)(e.accountNumber),1),(0,n.Lk)("td",null,(0,a.v_)(e.bankName),1),(0,n.Lk)("td",null,(0,a.v_)(e.user),1)]))),128))])])):((0,n.uX)(),(0,n.CE)("div",ge,"No matching banks found."))])])}var we={name:"BankManager",data(){return{banks:[],searchQuery:""}},computed:{...(0,h.L8)(["getToken"]),filteredBanks(){const e=this.searchQuery.trim().toLowerCase();return e?this.banks.filter(t=>t.accountName?.toLowerCase().includes(e)||t.accountNumber?.toLowerCase().includes(e)||t.bankName?.toLowerCase().includes(e)||t.user?.toLowerCase().includes(e)):this.banks}},mounted(){this.fetchBanks()},methods:{async fetchBanks(){try{const e=await Z.A.get("https://event-ticket-backend-yx81.onrender.com/api/all-banks");this.banks=e.data.banks}catch(e){console.error("Error fetching banks:",e)}}}};const Ce=(0,re.A)(we,[["render",Le],["__scopeId","data-v-500fe856"]]);var Te=Ce;const _e={class:"card shadow-sm"},xe={class:"p-2"},Ee={class:"card-body p-0"},Se={class:"table table-striped mb-0"};function Pe(e,t,r,o,i,s){return(0,n.uX)(),(0,n.CE)("div",_e,[t[2]||(t[2]=(0,n.Lk)("div",{class:"text-center bg-success p-2 text-white"},[(0,n.Lk)("h5",{class:"mb-0"},"users")],-1)),(0,n.Lk)("div",xe,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e),type:"text",placeholder:"Search by name or email",class:"form-control w-50"},null,512),[[m.Jo,i.searchQuery]])]),(0,n.Lk)("div",Ee,[(0,n.Lk)("table",Se,[t[1]||(t[1]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"id"),(0,n.Lk)("th",null,"Name"),(0,n.Lk)("th",null,"Email")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.filteredUsers,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e._id},[(0,n.Lk)("td",null,(0,a.v_)(e._id),1),(0,n.Lk)("td",null,(0,a.v_)(e.name),1),(0,n.Lk)("td",null,(0,a.v_)(e.email),1)]))),128))])])])])}var De={data(){return{users:[],searchQuery:""}},mounted(){this.fetchUsers()},methods:{async fetchUsers(){try{const e=await Z.A.get("https://event-ticket-backend-yx81.onrender.com/api/users");this.users=e.data.users,console.log(this.users)}catch(e){console.error("Error fetching users:",e)}}},computed:{filteredUsers(){if(!this.searchQuery)return this.users;const e=this.searchQuery.toLowerCase();return this.users.filter(t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e))}}};const Ae=(0,re.A)(De,[["render",Pe]]);var $e=Ae;const Oe={class:""},Fe={class:"stepper pt-2 mx-auto"},Ue={class:"circle"},je={key:0},Ie={key:1},Me={class:"label"},Xe={class:"progress-line"},Ve={class:"row justify-content-center"},Ne={class:"col-12"},Re={key:0,class:""},We={class:"row"},Be={class:"mb-3 col-md-7"},Qe={key:0,class:"invalid-feedback"},qe={class:"mb-3 col-md-5"},ze={class:"row mb-3"},Je={class:"col-md-7"},He=["value"],Ke={class:"col-md-5"},Ge={class:""},Ye={class:"input-group pt-2"},Ze={class:"mb-3"},et={key:1},tt={class:"mt-4 text-start"},rt={class:"row mb-3"},nt={class:"col-md-6"},at={class:"mb-3"},ot={class:"col-md-6"},it={class:"btn-group mb-3",role:"group"},st={class:"row"},lt={class:"col-md-6 mb-3"},ct={key:0,class:"col-md-6 mb-3"},dt={class:"row"},ut={class:"col-md-6 mb-3"},pt={class:"d-flex justify-content-between"},ht={class:"mt-2"},mt={class:"col-md-6 mb-3"},ft={class:"d-flex justify-content-between"},vt={class:"mt-2"},bt={key:0,class:"col-md-4 mb-3"},kt={key:2},yt={class:"container py-5 text-start"},gt={class:"row"},Lt={class:"col-md-6"},wt={for:"imageUpload",class:"border rounded bg-light d-flex flex-column justify-content-center align-items-center text-center py-5 mb-2",style:{cursor:"pointer"}},Ct={key:0},Tt={key:0,class:"text-center mt-3"},_t=["src"],xt={key:3},Et={class:"my-4 text-start"},St={class:"col-md-3"},Pt=["onUpdate:modelValue"],Dt={class:"col-md-2"},At=["onUpdate:modelValue"],$t={class:"col-md-3"},Ot=["onUpdate:modelValue"],Ft={class:"col-md-2 d-flex align-items-end"},Ut=["onClick"],jt={class:"d-flex gap-3"},It={class:"text-center mt-4 d-flex justify-content-between"},Mt=["disabled"],Xt={key:1,type:"submit",class:"btn btn-primary btn-primary:hover"};function Vt(e,t,r,o,i,s){const l=(0,n.g2)("spinner");return(0,n.uX)(),(0,n.CE)("div",Oe,[(0,n.Lk)("div",Fe,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.steps,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,a.C4)(["step",{active:i.currentStep===t,completed:t<i.currentStep}])},[(0,n.Lk)("div",Ue,[t<i.currentStep?((0,n.uX)(),(0,n.CE)("span",je,"âœ”")):((0,n.uX)(),(0,n.CE)("span",Ie,(0,a.v_)(t+1),1))]),(0,n.Lk)("div",Me,(0,a.v_)(e),1)],2))),128)),(0,n.Lk)("div",Xe,[(0,n.Lk)("div",{class:"progress-fill",style:(0,a.Tr)({width:i.currentStep/(i.steps.length-1)*100+"%"})},null,4)])]),(0,n.Lk)("div",Ve,[(0,n.Lk)("div",Ne,[(0,n.Lk)("form",{onSubmit:t[20]||(t[20]=(0,m.D$)((...e)=>s.submitProduct&&s.submitProduct(...e),["prevent"])),enctype:"multipart/form-data",class:"shadow p-4 w-md-75 mx-auto w-100"},[0===i.currentStep?((0,n.uX)(),(0,n.CE)("div",Re,[(0,n.Lk)("div",We,[(0,n.Lk)("div",Be,[t[21]||(t[21]=(0,n.Lk)("label",{for:"title",class:"form-label"},"What is your event name:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.product.title=e),placeholder:"Tech Summit, Afro summit",type:"text",id:"title",class:(0,a.C4)([{"is-invalid":i.product.title&&!s.isValidTitle()},"form-control"])},null,2),[[m.Jo,i.product.title]]),i.product.title&&!s.isValidTitle()?((0,n.uX)(),(0,n.CE)("div",Qe," Title must be at least two words. ")):(0,n.Q3)("",!0)]),(0,n.Lk)("div",qe,[(0,n.Lk)("div",null,[(0,n.Lk)("div",null,[t[22]||(t[22]=(0,n.Lk)("label",{for:"title",class:"form-label"},"Tag:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.product.tag=e),type:"text",placeholder:"Tags (comma-separated)",id:"title",class:"form-control"},null,512),[[m.Jo,i.product.tag]])])])])]),(0,n.Lk)("div",ze,[(0,n.Lk)("div",Je,[t[24]||(t[24]=(0,n.Lk)("label",{class:"form-label"},"Event Category",-1)),(0,n.Lk)("div",null,[i.categories.length>0?(0,n.bo)(((0,n.uX)(),(0,n.CE)("select",{key:0,class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>i.categoryID=e)},[t[23]||(t[23]=(0,n.Lk)("option",{value:"",disabled:""},"Select a category",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.categories,e=>((0,n.uX)(),(0,n.CE)("option",{key:e._id,value:e._id},(0,a.v_)(e.type),9,He))),128))],512)),[[m.u1,i.categoryID]]):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Ke,[(0,n.Lk)("div",Ge,[t[26]||(t[26]=(0,n.Lk)("label",{for:"customUrl",class:"form-label"},"Use custom URL",-1)),(0,n.Lk)("div",Ye,[t[25]||(t[25]=(0,n.Lk)("span",{class:"input-group-text"},"234tickets.live/event/",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>i.product.customizeUrl=e),class:"form-control pt-md-2",id:"customUrl",placeholder:"Enter your custom link"},null,512),[[m.Jo,i.product.customizeUrl]])])])])]),(0,n.Lk)("div",Ze,[t[27]||(t[27]=(0,n.Lk)("label",{class:"form-label"},"What's your event about:",-1)),(0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("textarea",{class:"w-100 h-50","onUpdate:modelValue":t[4]||(t[4]=e=>i.product.description=e)},null,512),[[m.Jo,i.product.description]])])])])):(0,n.Q3)("",!0),1===i.currentStep?((0,n.uX)(),(0,n.CE)("div",et,[(0,n.Lk)("div",tt,[t[39]||(t[39]=(0,n.Lk)("h4",null,[(0,n.Lk)("strong",null,"When is your event?")],-1)),t[40]||(t[40]=(0,n.Lk)("p",{class:"text-muted"},"Select all the dates of your event",-1)),(0,n.Lk)("div",rt,[(0,n.Lk)("div",nt,[(0,n.Lk)("div",at,[t[28]||(t[28]=(0,n.Lk)("label",{for:"address",class:"form-label"},"Enter Address:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.address=e),type:"text",class:"form-control",id:"address",placeholder:"e.g. 1600 Amphitheatre Parkway, CA",required:""},null,512),[[m.Jo,i.address]])])]),(0,n.Lk)("div",ot,[t[30]||(t[30]=(0,n.Lk)("label",{class:"form-label"},"* Select time zone",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[6]||(t[6]=e=>i.product.event.timezone=e)},[...t[29]||(t[29]=[(0,n.Lk)("option",{value:""},"Select Time Zone",-1),(0,n.Lk)("option",{value:"UTC+01:00"},"(UTC+01:00) West Central Africa",-1),(0,n.Lk)("option",{value:"UTC+00:00"},"(UTC+00:00) GMT",-1),(0,n.Lk)("option",{value:"UTC-05:00"}," (UTC-05:00) Eastern Time (US & Canada) ",-1)])],512),[[m.u1,i.product.event.timezone]])])]),(0,n.Lk)("div",it,[(0,n.Lk)("button",{type:"button",class:(0,a.C4)(["btn","single"===i.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[7]||(t[7]=e=>i.eventType="single")}," Single Event ",2),(0,n.Lk)("button",{type:"button",class:(0,a.C4)(["btn","recurring"===i.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[8]||(t[8]=e=>i.eventType="recurring")}," Recurring Event ",2)]),(0,n.Lk)("div",st,[(0,n.Lk)("div",lt,[t[31]||(t[31]=(0,n.Lk)("label",{class:"form-label"},"* Start date",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>i.product.event.startDate=e)},null,512),[[m.Jo,i.product.event.startDate]])]),"recurring"===i.eventType?((0,n.uX)(),(0,n.CE)("div",ct,[t[32]||(t[32]=(0,n.Lk)("label",{class:"form-label"},"* End date",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>i.product.event.endDate=e)},null,512),[[m.Jo,i.product.event.endDate]])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",dt,[(0,n.Lk)("div",ut,[t[34]||(t[34]=(0,n.Lk)("label",{class:"form-label"},"Start time",-1)),(0,n.Lk)("div",pt,[(0,n.Lk)("div",ht,[(0,n.bo)((0,n.Lk)("input",{type:"time",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=e=>i.product.event.startTime=e)},null,512),[[m.Jo,i.product.event.startTime]])]),(0,n.bo)((0,n.Lk)("select",{class:"form-select w-md-50","onUpdate:modelValue":t[12]||(t[12]=e=>i.startAmPm=e)},[...t[33]||(t[33]=[(0,n.Lk)("option",null,"AM",-1),(0,n.Lk)("option",null,"PM",-1)])],512),[[m.u1,i.startAmPm]])])]),(0,n.Lk)("div",mt,[t[36]||(t[36]=(0,n.Lk)("label",{class:"form-label"},"End time",-1)),(0,n.Lk)("div",ft,[(0,n.Lk)("div",vt,[(0,n.bo)((0,n.Lk)("input",{type:"time",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=e=>i.product.event.endTime=e)},null,512),[[m.Jo,i.product.event.endTime]])]),(0,n.bo)((0,n.Lk)("select",{class:"form-select w-md-50","onUpdate:modelValue":t[14]||(t[14]=e=>i.endAmPm=e)},[...t[35]||(t[35]=[(0,n.Lk)("option",null,"AM",-1),(0,n.Lk)("option",null,"PM",-1)])],512),[[m.u1,i.endAmPm]])])]),"recurring"===i.eventType?((0,n.uX)(),(0,n.CE)("div",bt,[t[38]||(t[38]=(0,n.Lk)("label",{class:"form-label"},"* Event frequency",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[15]||(t[15]=e=>i.eventFrequency=e)},[...t[37]||(t[37]=[(0,n.Lk)("option",null,"Every day",-1),(0,n.Lk)("option",null,"Weekdays",-1),(0,n.Lk)("option",null,"Weekends",-1),(0,n.Lk)("option",null,"Every week",-1)])],512),[[m.u1,i.eventFrequency]])])):(0,n.Q3)("",!0)])])])):(0,n.Q3)("",!0),2===i.currentStep?((0,n.uX)(),(0,n.CE)("div",kt,[(0,n.Lk)("div",yt,[(0,n.Lk)("div",gt,[(0,n.Lk)("div",Lt,[t[43]||(t[43]=(0,n.Lk)("h5",null,[(0,n.Lk)("strong",null,"Event Image")],-1)),t[44]||(t[44]=(0,n.Lk)("p",{class:"text-muted"},"Upload a JPEG or PNG file",-1)),t[45]||(t[45]=(0,n.Lk)("div",{class:"alert alert-light border text-muted py-2 small d-flex align-items-start"},[(0,n.Lk)("i",{class:"bi bi-info-circle-fill me-2 text-danger"}),(0,n.eW)(" Images with a 1:1 ratio (a square) work best on all event themes ")],-1)),(0,n.Lk)("div",null,[(0,n.Lk)("label",wt,[t[41]||(t[41]=(0,n.Lk)("i",{class:"bi bi-image fs-1 mb-2"},null,-1)),t[42]||(t[42]=(0,n.Lk)("span",null,[(0,n.eW)(" Drag an image here or "),(0,n.Lk)("span",{class:"text-danger fw-bold"},"click to upload")],-1)),(0,n.Lk)("input",{type:"file",multiple:"",onChange:t[16]||(t[16]=(...e)=>s.handleFiles&&s.handleFiles(...e)),accept:"image/*",id:"imageUpload",class:"d-none"},null,32),i.photos.length?((0,n.uX)(),(0,n.CE)("p",Ct,"Selected: "+(0,a.v_)(i.photos.length)+" image(s)",1)):(0,n.Q3)("",!0)]),i.previewUrl?((0,n.uX)(),(0,n.CE)("div",Tt,[(0,n.Lk)("img",{src:i.previewUrl,alt:"Preview",class:"img-fluid rounded shadow",style:{"max-height":"250px"}},null,8,_t)])):(0,n.Q3)("",!0)]),t[46]||(t[46]=(0,n.Lk)("p",{class:"text-muted small"}," Upload an image with a size less than 2mb ",-1))]),t[47]||(t[47]=(0,n.Fv)('<div class="col-md-6" data-v-6f040d02><div class="d-flex justify-content-between align-items-center" data-v-6f040d02><div data-v-6f040d02><h5 data-v-6f040d02><strong data-v-6f040d02>Event Page Theme</strong></h5><p class="text-muted small mb-2" data-v-6f040d02> Select the layout for your event page - it will only take 2 minutes </p></div><a href="#" class="text-decoration-none text-muted small" data-v-6f040d02><i class="bi bi-play-circle" data-v-6f040d02></i> Preview theme </a></div><div class="border rounded bg-light p-3 d-flex align-items-center" style="cursor:pointer;" data-v-6f040d02><i class="bi bi-layout-text-window-reverse fs-3 text-secondary me-3" data-v-6f040d02></i><div data-v-6f040d02><div class="small text-muted" data-v-6f040d02>Theme</div><div class="fw-bold" data-v-6f040d02>Choose theme</div></div></div></div>',1))])])])):(0,n.Q3)("",!0),3===i.currentStep?((0,n.uX)(),(0,n.CE)("div",xt,[(0,n.Lk)("div",Et,[t[52]||(t[52]=(0,n.Lk)("h5",null,[(0,n.Lk)("strong",null,"Create your ticket types")],-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.tickets,(e,r)=>((0,n.uX)(),(0,n.CE)("div",{key:r,class:"row g-3 align-items-end mb-2"},[(0,n.Lk)("div",St,[t[48]||(t[48]=(0,n.Lk)("label",{class:"form-label"},"Ticket name",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.name=t,type:"text",class:"form-control",placeholder:"e.g. General Admission"},null,8,Pt),[[m.Jo,e.name]])]),(0,n.Lk)("div",Dt,[t[49]||(t[49]=(0,n.Lk)("label",{class:"form-label"},"Quantity",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.quantity=t,type:"number",class:"form-control"},null,8,At),[[m.Jo,e.quantity,void 0,{number:!0}]])]),(0,n.Lk)("div",$t,[t[50]||(t[50]=(0,n.Lk)("label",{class:"form-label"},"Price",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.price=t,type:"number",class:"form-control",placeholder:"Blank for free event"},null,8,Ot),[[m.Jo,e.price,void 0,{number:!0}]])]),(0,n.Lk)("div",Ft,[(0,n.Lk)("button",{class:"btn btn-outline-danger w-25",title:"Delete",onClick:e=>s.removeTicket(r)},[...t[51]||(t[51]=[(0,n.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,Ut)])]))),128)),(0,n.Lk)("div",jt,[(0,n.Lk)("button",{class:"btn btn-primary btn-primary:hover",type:"button",onClick:t[17]||(t[17]=e=>s.addTicket("Paid"))}," + ticket ")])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",It,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[18]||(t[18]=(...e)=>s.prevStep&&s.prevStep(...e)),disabled:0===i.currentStep}," Back ",8,Mt),i.currentStep<i.steps.length-1?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",class:"btn btn-primary btn-primary:hover",onClick:t[19]||(t[19]=(...e)=>s.nextStep&&s.nextStep(...e))}," Next ")):((0,n.uX)(),(0,n.CE)("button",Xt," Create Event "))])],32)])]),i.spinner?((0,n.uX)(),(0,n.Wv)(l,{key:0})):(0,n.Q3)("",!0)])}r(7588);var Nt=r(1955),Rt=r(7315),Wt={components:{QuillEditor:Nt.tB,spinner:Rt.A},data(){return{currentStep:0,steps:["Basic Info","Event Details","Media Upload","Tickets"],categories:[],spinner:!1,categoryID:"",product:{title:"",description:"",tag:"",customizeUrl:"",price:"",event:{startDate:"",endDate:"",startTime:"",endTime:"",timezone:"UTC",location:""}},address:"",coordinates:null,startAmPm:"AM",endAmPm:"PM",eventType:"single",eventFrequency:"",photos:[],previewUrl:null,tickets:[{name:"",price:null,quantity:null}]}},computed:{...(0,h.L8)(["getToken"])},async created(){try{const e=await Z.A.get("https://event-ticket-backend-yx81.onrender.com/api/categories");this.categories=e.data.categories||e.data,console.log("Categories fetched:",this.categories)}catch(e){console.error("Failed to fetch categories:",e)}},methods:{isValidTitle(){return this.product.title.trim().split(/\s+/).length>=2},nextStep(){this.currentStep<this.steps.length-1&&this.currentStep++},prevStep(){this.currentStep>0&&this.currentStep--},handleFiles(e){const t=Array.from(e.target.files);if(this.photos=t,t.length>0){const e=new FileReader;e.onload=e=>{this.previewUrl=e.target.result},e.readAsDataURL(t[0])}},addTicket(e){this.tickets.push({name:"",quantity:null,price:null})},removeTicket(e){this.tickets.splice(e,1)},duplicateTicket(e){const t=this.tickets[e];this.tickets.splice(e+1,0,{...t})},async submitProduct(){this.spinner=!0;const e=new FormData;e.append("categoryID",this.categoryID),e.append("title",this.product.title),e.append("description",this.product.description),e.append("tag",this.product.tag),e.append("price",this.product.price),e.append("customizeUrl",this.product.customizeUrl),e.append("eventDate",new Date(this.product.event.startDate).toISOString()),this.product.event.endDate&&e.append("endDate",new Date(this.product.event.endDate).toISOString()),e.append("startTime",this.product.event.startTime+" "+this.startAmPm),e.append("endTime",this.product.event.endTime+" "+this.endAmPm),e.append("timezone",this.product.event.timezone),e.append("locationName",this.address),"recurring"===this.eventType&&e.append("eventFrequency",this.eventFrequency),e.append("tickets",JSON.stringify(this.tickets)),console.log(this.tickets),this.photos.forEach(t=>{e.append("photos",t)});for(let[r,n]of e.entries())console.log(`${r}:`,n);try{const t=await Z.A.post("https://event-ticket-backend-yx81.onrender.com/api/products",e,{headers:{Authorization:`Bearer ${this.getToken}`,"Content-Type":"multipart/form-data"}});console.log("Product created:",t.data),alert("Event created successfully!"),this.$router.push("/dashboard?activeTab=event")}catch(t){if(!t.response||401!==t.response.status)throw t;localStorage.removeItem("token"),router.push("/login")}this.spinner=!1}}};const Bt=(0,re.A)(Wt,[["render",Vt],["__scopeId","data-v-6f040d02"]]);var Qt=Bt;const qt={class:"container py-4"},zt={class:"card p-4 shadow-sm mb-4"},Jt={class:"mb-3"},Ht={class:"mb-3"},Kt={key:0,class:"card p-4 shadow-sm mb-4"},Gt={class:"mb-3"},Yt={class:"mb-3"},Zt={class:"mb-4"},er={key:0,class:"row g-3"},tr={class:"card h-100 shadow-sm"},rr={class:"card-body text-center"},nr={class:"fw-bold"},ar=["src"],or={class:"d-flex justify-content-center gap-2 mt-2"},ir=["onClick"],sr=["onClick"],lr={key:1,class:"alert alert-info"};function cr(e,t,r,o,i,s){const l=(0,n.g2)("spinner");return(0,n.uX)(),(0,n.CE)("div",qt,[(0,n.Lk)("div",zt,[t[8]||(t[8]=(0,n.Lk)("h4",{class:"mb-3"},"Create Category",-1)),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,m.D$)((...e)=>s.createCategory&&s.createCategory(...e),["prevent"])),enctype:"multipart/form-data"},[(0,n.Lk)("div",Jt,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.newCategory.type=e),placeholder:"Category Type",required:"",class:"form-control"},null,512),[[m.Jo,i.newCategory.type]])]),(0,n.Lk)("div",Ht,[(0,n.Lk)("input",{type:"file",onChange:t[1]||(t[1]=(...e)=>s.handleFileChange&&s.handleFileChange(...e)),class:"form-control"},null,32)]),t[7]||(t[7]=(0,n.Lk)("button",{type:"submit",class:"btn btn-success"},"Create Category",-1))],32)]),i.editingCategory?((0,n.uX)(),(0,n.CE)("div",Kt,[t[10]||(t[10]=(0,n.Lk)("h4",{class:"mb-3"},"Edit Category",-1)),(0,n.Lk)("form",{onSubmit:t[6]||(t[6]=(0,m.D$)((...e)=>s.updateCategory&&s.updateCategory(...e),["prevent"])),enctype:"multipart/form-data"},[(0,n.Lk)("div",Gt,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.editingCategory.type=e),placeholder:"Category Type",class:"form-control"},null,512),[[m.Jo,i.editingCategory.type]])]),(0,n.Lk)("div",Yt,[(0,n.Lk)("input",{type:"file",onChange:t[4]||(t[4]=(...e)=>s.handleEditFileChange&&s.handleEditFileChange(...e)),class:"form-control"},null,32)]),t[9]||(t[9]=(0,n.Lk)("button",{type:"submit",class:"btn btn-primary"},"Update",-1)),(0,n.Lk)("button",{type:"button",onClick:t[5]||(t[5]=e=>i.editingCategory=null),class:"btn btn-secondary ms-2"}," Cancel ")],32)])):(0,n.Q3)("",!0),(0,n.Lk)("div",Zt,[t[11]||(t[11]=(0,n.Lk)("h2",{class:"mb-3"},"All Categories",-1)),i.categories.length?((0,n.uX)(),(0,n.CE)("div",er,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.categories,e=>((0,n.uX)(),(0,n.CE)("div",{key:e._id,class:"col-md-4"},[(0,n.Lk)("div",tr,[(0,n.Lk)("div",rr,[(0,n.Lk)("p",nr,(0,a.v_)(e.type),1),e.photo?((0,n.uX)(),(0,n.CE)("img",{key:0,src:e.photo,class:"img-fluid rounded mb-2",style:{"max-height":"150px","object-fit":"cover"}},null,8,ar)):(0,n.Q3)("",!0),(0,n.Lk)("div",or,[(0,n.Lk)("button",{onClick:t=>s.editCategory(e),class:"btn btn-outline-warning btn-sm"}," Edit ",8,ir),(0,n.Lk)("button",{onClick:t=>s.deleteCategory(e._id),class:"btn btn-outline-danger btn-sm"}," Delete ",8,sr)])])])]))),128))])):((0,n.uX)(),(0,n.CE)("div",lr,"No categories found."))]),i.spinner?((0,n.uX)(),(0,n.Wv)(l,{key:1,class:"mt-3"})):(0,n.Q3)("",!0)])}var dr={components:{spinner:Rt.A},data(){return{baseUrl:"https://event-ticket-backend-yx81.onrender.com/api",categories:[],newCategory:{type:"",photo:null},editingCategory:null,spinner:!1,selectedFile:null,editingFile:null,singleCategory:null}},mounted(){this.fetchCategories()},methods:{async fetchCategories(){const e=await Z.A.get(`${this.baseUrl}/categories`);this.categories=e.data.categories},handleFileChange(e){this.selectedFile=e.target.files[0]},async createCategory(){this.spinner=!0;const e=new FormData;e.append("type",this.newCategory.type),this.selectedFile&&e.append("photo",this.selectedFile),await Z.A.post(`${this.baseUrl}/categories`,e,{headers:{"Content-Type":"multipart/form-data"}}),this.newCategory={type:"",photo:null},this.selectedFile=null,this.spinner=!1,this.fetchCategories()},editCategory(e){this.editingCategory={...e},this.editingFile=null},handleEditFileChange(e){this.editingFile=e.target.files[0]},async updateCategory(){this.spinner=!0;const e=new FormData;e.append("type",this.editingCategory.type),this.editingFile&&e.append("photo",this.editingFile),await Z.A.put(`${this.baseUrl}/categories/${this.editingCategory._id}`,e,{headers:{"Content-Type":"multipart/form-data"}}),this.editingCategory=null,this.editingFile=null,this.spinner=!1,this.fetchCategories()},async deleteCategory(e){await Z.A.delete(`${this.baseUrl}/categories/${e}`),alert("category deleted"),this.fetchCategories()},async getCategory(e){const t=await Z.A.get(`${this.baseUrl}/categories/${e}`);this.singleCategory=t.data.category}}};const ur=(0,re.A)(dr,[["render",cr],["__scopeId","data-v-60063c1f"]]);var pr=ur,hr={components:{Events:ae,Orders:me,addEvent:Qt,Banks:Te,Category:pr,Scanner:fe.A,Users:$e},data(){return{isSectionVisible:!1,mobileTab:"events",seen:!0,see:!0,isOpen:!1,se:!0,sidenavWidth:250,isDropdownOpen:!1,isOpen:!1,isAccountHomeVisible:!0,isAccountHomVisible:!0,isUsersVisible:!0,isScannerVisible:!0,isCalenderVisible:!1,isOrdersVisible:!1,isOrderVisible:!1,isAddEventVisible:!1,isEmailComposeVisible:!1}},watch:{"$route.query.activeTab"(e,t){this.$router.push({query:{activeTab:e}}).catch(e=>{}),this.initialize()}},computed:{...(0,h.L8)(["isAdmin"]),isTablet(){return window.innerWidth>=768&&window.innerWidth<1024}},methods:{openSidebar(){this.isOpen=!0},closeSidebar(){this.isOpen=!1},Resize(){this.sidenavWidth=0,this.isNavOpen=!1},toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen},toggleNav(){this.isNavOpen=!this.isNavOpen,this.sidenavWidth=this.isNavOpen?250:0},closeNav(){this.isNavOpen=!1,this.sidenavWidth=0},toggleSection(){this.isSectionVisible=!this.isSectionVisible},...(0,h.i0)(["getUser","getTokenFromStorage"]),hideAll(){this.isAccountHomeVisible=!1,this.isUsersVisible=!1,this.isScannerVisible=!1,this.isOrdersVisible=!1,this.isAddEventVisible=!1,this.isAccountHomVisible=!1,this.isBanksVisible=!1,this.isCategoryVisible=!1},onClickHomeTab(){this.hideAll(),this.isAccountHomeVisible=!0,this.mobileTab="events",this.$router.push({query:{activeTab:"events"}}).catch(e=>{})},onClickOrderTab(){this.hideAll(),this.isOrdersVisible=!0,this.mobileTab="orders",this.$router.push({query:{activeTab:"orders"}}).catch(e=>{})},onClickAddEventTab(){this.hideAll(),this.isAddEventVisible=!0,this.mobileTab="add-event",this.$router.push({query:{activeTab:"add-event"}}).catch(e=>{})},onClickUserTab(){this.hideAll(),this.isUsersVisible=!0,this.mobileTab="users",this.$router.push({query:{activeTab:"users"}}).catch(e=>{})},onClickScannerTab(){this.hideAll(),this.isScannerVisible=!0,this.mobileTab="scanner",this.$router.push({query:{activeTab:"scanner"}}).catch(e=>{})},onClickBankTab(){this.hideAll(),this.isBanksVisible=!0,this.mobileTab="bank",this.$router.push({query:{activeTab:"bank"}}).catch(e=>{})},onClickCategoryTab(){this.hideAll(),this.isCategoryVisible=!0,this.mobileTab="categories",this.$router.push({query:{activeTab:"categories"}}).catch(e=>{})},onClickTab(){"event"==this.mobileTab?this.onClickHomeTab():"categories"==this.mobileTab?this.onClickCategoryTab():"users"==this.mobileTab?this.onClickUserTab():"scanner"==this.mobileTab?this.onClickScannerTab():"profile"==this.mobileTab?this.onClickProfileTab():"email"==this.mobileTab?this.onClickEmailComposeTab():"bank"==this.mobileTab?this.onClickBankTab():"orders"===this.mobileTab?this.onClickOrderTab():"Add Product"===this.mobileTab&&this.onClickAddEventTab()},initialize(){this.$route.query?"event"==this.$route.query.activeTab?this.onClickHomeTab():"categories"==this.$route.query.activeTab?this.onClickCategoryTab():"users"==this.$route.query.activeTab?this.onClickUserTab():"scanner"==this.$route.query.activeTab?this.onClickScannerTab():"categories"==this.$route.query.activeTab&&this.onClickCategoryTab():"bank"==this.$route.query.activeTab?this.onClickBankTab():"orders"==this.$route.query.activeTab?this.onClickOrderTab():"add-event"==this.$route.query.activeTab?this.onClickAddEventTab():this.onClickHomeTab()}},mounted(){this.initialize(),window.addEventListener("resize",this.Resize)},beforeUnmount(){window.removeEventListener("resize",this.Resize)}};const mr=(0,re.A)(hr,[["render",p],["__scopeId","data-v-69d211f6"]]);var fr=mr},3613:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(6768),a=r(5130),o=r(4232);const i={class:"sidebar-header d-flex justify-content-between align-items-center p-3"};function s(e,t,r,s,l,c){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("button",{class:"btn btn-primary m-2",onClick:t[0]||(t[0]=(...e)=>c.openSidebar&&c.openSidebar(...e))},"Open Sidebar"),l.isOpen?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"sidebar-overlay",onClick:t[1]||(t[1]=(0,a.D$)((...e)=>c.closeSidebar&&c.closeSidebar(...e),["self"]))})):(0,n.Q3)("",!0),(0,n.Lk)("div",{class:(0,o.C4)(["sidebar",{"sidebar-open":l.isOpen}])},[(0,n.Lk)("div",i,[t[3]||(t[3]=(0,n.Lk)("h5",{class:"mb-0 text-white"},"Menu",-1)),(0,n.Lk)("button",{class:"btn btn-sm btn-light",onClick:t[2]||(t[2]=(...e)=>c.closeSidebar&&c.closeSidebar(...e))},"Ã—")]),t[4]||(t[4]=(0,n.Fv)('<div class="sidebar-content p-3 text-white" data-v-bf90f0b4><ul class="list-unstyled" data-v-bf90f0b4><li data-v-bf90f0b4><a href="#" class="text-white" data-v-bf90f0b4>Home</a></li><li data-v-bf90f0b4><a href="#" class="text-white" data-v-bf90f0b4>Profile</a></li><li data-v-bf90f0b4><a href="#" class="text-white" data-v-bf90f0b4>Settings</a></li></ul></div>',1))],2)])}var l={name:"SideNav",data(){return{isOpen:!1}},methods:{openSidebar(){this.isOpen=!0},closeSidebar(){this.isOpen=!1}}},c=r(1241);const d=(0,c.A)(l,[["render",s],["__scopeId","data-v-bf90f0b4"]]);var u=d},3727:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(6768),a=r(5130);const o={class:"h-100 pt-5"},i={class:"authincation h-100"},s={class:"container h-100"},l={class:"row justify-content-center h-100 align-items-center"},c={class:"col-md-6"},d={class:"authincation-content"},u={class:"row no-gutters"},p={class:"col-xl-12"},h={class:"auth-form"},m={class:"form-group"};function f(e,t,r,f,v,b){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",o,[(0,n.Lk)("div",i,[(0,n.Lk)("div",s,[(0,n.Lk)("div",l,[(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[(0,n.Lk)("div",u,[(0,n.Lk)("div",p,[(0,n.Lk)("div",h,[t[4]||(t[4]=(0,n.Lk)("h4",{class:"text-center mb-4"},"Update Password",-1)),(0,n.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)((...e)=>b.handleSubmit&&b.handleSubmit(...e),["prevent"]))},[(0,n.Lk)("div",m,[t[2]||(t[2]=(0,n.Lk)("label",null,[(0,n.Lk)("strong",null,"password")],-1)),(0,n.bo)((0,n.Lk)("input",{class:"form-control",id:"inputPasswordOld",required:"",type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>v.password=e)},null,512),[[a.Jo,v.password]])]),t[3]||(t[3]=(0,n.Lk)("div",{class:"text-center"},[(0,n.Lk)("button",{type:"submit",class:"btn btn-primary btn-block"}," SUBMIT ")],-1))],32)])])])])])])])])])])}var v=r(4373),b=r(4874),k=r.n(b),y={data(){return{password:"",message:""}},mounted(){},methods:{async handleSubmit(){const e=await v.A.post("https://event-ticket-backend-yx81.onrender.com/api/auth/updatePassword",{password:this.password,token:this.$route.query.token}).then(e=>{this.message=e.data.message,k().fire(e.data.message)}).catch(e=>console.log(e));console.log(e)},clear(){this.$refs.form.reset()}}},g=r(1241);const L=(0,g.A)(y,[["render",f]]);var w=L},4738:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(r(6931));(function(e){function t(e){return new o.default(e)}function r(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}e.iterator=t,e.length=r})(a||(a={})),t["default"]=a},4856:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(6768),a=r(5130);const o={class:"h-100 pt-5"},i={class:"authincation h-100"},s={class:"container h-100"},l={class:"row justify-content-center h-100 align-items-center"},c={class:"col-md-6"},d={class:"authincation-content"},u={class:"row no-gutters"},p={class:"col-xl-12"},h={class:"auth-form"},m={class:"form-group"};function f(e,t,r,f,v,b){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",o,[(0,n.Lk)("div",i,[(0,n.Lk)("div",s,[(0,n.Lk)("div",l,[(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[(0,n.Lk)("div",u,[(0,n.Lk)("div",p,[(0,n.Lk)("div",h,[t[4]||(t[4]=(0,n.Lk)("h4",{class:"text-center mb-4"},"Forgot Password",-1)),(0,n.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)((...e)=>b.handleSubmit&&b.handleSubmit(...e),["prevent"]))},[(0,n.Lk)("div",m,[t[2]||(t[2]=(0,n.Lk)("label",null,[(0,n.Lk)("strong",null,"Email")],-1)),(0,n.bo)((0,n.Lk)("input",{type:"email",class:"form-control",placeholder:"hello@example.com","onUpdate:modelValue":t[0]||(t[0]=e=>v.email=e)},null,512),[[a.Jo,v.email]])]),t[3]||(t[3]=(0,n.Lk)("div",{class:"text-center"},[(0,n.Lk)("button",{type:"submit",class:"btn btn-primary btn-block"}," SUBMIT ")],-1))],32)])])])])])])])])])])}var v=r(4373),b=r(4874),k=r.n(b),y={data(){return{email:"",message:""}},methods:{async handleSubmit(){await v.A.post("https://event-ticket-backend-yx81.onrender.com/api/auth/forgotPassword",{email:this.email}).then(e=>{this.message=e.data.message,k().fire(e.data.message),console.log(this.message)}).catch(e=>console.log(e))},clear(){this.$refs.form.reset()}}},g=r(1241);const L=(0,g.A)(y,[["render",f]]);var w=L},4938:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return W}});var n=r(6768),a=r(5130),o=r(4232);const i={class:"container-fluid bg-light"},s={class:"section_discover"},l={class:"container-large"},c={class:"row pt-2 pb-2"},d={class:"col-12 pt-2 pb-md-0 pb-1 col-md-6"},u={class:"col-12 col-md-6 pt-1"},p={class:"d-flex flex-column flex-md-row align-items-center justify-content-md-end gap-2"},h={class:"modal-content"},m={class:"d-flex justify-content-between align-items-center mb-3"},f={class:"row"},v={class:"col"},b={class:"col"},k={class:"d-flex justify-content-between mt-4"},y={class:"modal-content"},g={class:"d-flex justify-content-between align-items-center mb-3"},L={class:"d-flex justify-content-center gap-3 mb-3"},w={class:"row"},C={class:"col"},T={class:"col"},_={class:"d-flex justify-content-between mt-4"},x={class:"container-fluid"},E={class:"section_discover pt-4"},S={class:"container-large mb-3"},P={class:"mb-3"},D={key:0,class:"alert alert-warning"},A={class:"row"},$=["src"],O={class:"pt-2"},F={class:"mb-1"},U={key:0},j={class:"mb-1"},I=["onClick"];function M(e,t,r,M,X,V){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",i,[(0,n.Lk)("div",s,[(0,n.Lk)("div",l,[(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>X.searchTerm=e),type:"text",class:"form-control",placeholder:"Search events by title"},null,512),[[a.Jo,X.searchTerm]])]),(0,n.Lk)("div",u,[(0,n.Lk)("div",p,[(0,n.Lk)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[1]||(t[1]=e=>X.showPriceModal=!0)}," Price "),(0,n.Lk)("button",{class:"btn btn-outline-dark w-100 w-md-auto",onClick:t[2]||(t[2]=e=>X.showDateModal=!0)}," Date "),(0,n.Lk)("a",{href:"#",class:"text-muted text-decoration-none",onClick:t[3]||(t[3]=(0,a.D$)((...e)=>V.resetSearch&&V.resetSearch(...e),["prevent"]))}," Reset Filters ")])])])])])]),X.showPriceModal?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal",onClick:t[9]||(t[9]=(0,a.D$)(e=>X.showPriceModal=!1,["self"]))},[(0,n.Lk)("div",h,[(0,n.Lk)("div",m,[t[20]||(t[20]=(0,n.Lk)("h5",{class:"m-0 fw-bold"},"Price",-1)),(0,n.Lk)("button",{class:"btn-icon",onClick:t[4]||(t[4]=e=>X.showPriceModal=!1)},[...t[19]||(t[19]=[(0,n.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),(0,n.Lk)("div",f,[(0,n.Lk)("div",v,[t[21]||(t[21]=(0,n.Lk)("label",null,"Minimum amount",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>X.tempFilters.minPrice=e),type:"number",class:"form-control"},null,512),[[a.Jo,X.tempFilters.minPrice,void 0,{number:!0}]])]),(0,n.Lk)("div",b,[t[22]||(t[22]=(0,n.Lk)("label",null,"Maximum amount",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>X.tempFilters.maxPrice=e),type:"number",class:"form-control"},null,512),[[a.Jo,X.tempFilters.maxPrice,void 0,{number:!0}]])])]),(0,n.Lk)("div",k,[(0,n.Lk)("button",{class:"btn btn-outline-secondary",onClick:t[7]||(t[7]=(...e)=>V.clearPriceFilters&&V.clearPriceFilters(...e))}," Clear "),(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>V.applyPriceFilters&&V.applyPriceFilters(...e))},"Apply")])])])):(0,n.Q3)("",!0),X.showDateModal?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"modal",onClick:t[18]||(t[18]=(0,a.D$)(e=>X.showDateModal=!1,["self"]))},[(0,n.Lk)("div",y,[(0,n.Lk)("div",g,[t[24]||(t[24]=(0,n.Lk)("h5",{class:"m-0 fw-bold"},"Date",-1)),(0,n.Lk)("button",{class:"btn-icon",onClick:t[10]||(t[10]=e=>X.showDateModal=!1)},[...t[23]||(t[23]=[(0,n.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])]),(0,n.Lk)("div",L,[(0,n.Lk)("button",{class:"btn btn-outline-dark",onClick:t[11]||(t[11]=(...e)=>V.setToday&&V.setToday(...e))},"Today"),(0,n.Lk)("button",{class:"btn btn-outline-dark",onClick:t[12]||(t[12]=(...e)=>V.setTomorrow&&V.setTomorrow(...e))},"Tomorrow"),(0,n.Lk)("button",{class:"btn btn-outline-dark",onClick:t[13]||(t[13]=(...e)=>V.setThisWeekend&&V.setThisWeekend(...e))}," This weekend ")]),(0,n.Lk)("div",w,[(0,n.Lk)("div",C,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>X.tempFilters.startDate=e),type:"date",class:"form-control"},null,512),[[a.Jo,X.tempFilters.startDate]])]),(0,n.Lk)("div",T,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>X.tempFilters.endDate=e),type:"date",class:"form-control"},null,512),[[a.Jo,X.tempFilters.endDate]])])]),(0,n.Lk)("div",_,[(0,n.Lk)("button",{class:"btn btn-outline-secondary",onClick:t[16]||(t[16]=(...e)=>V.clearDateFilters&&V.clearDateFilters(...e))}," Clear "),(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[17]||(t[17]=(...e)=>V.applyDateFilters&&V.applyDateFilters(...e))},"Apply")])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",x,[(0,n.Lk)("div",E,[(0,n.Lk)("div",S,[(0,n.Lk)("h3",P,"Explore "+(0,o.v_)(V.filteredProducts.length)+" Events",1),0===V.filteredProducts.length?((0,n.uX)(),(0,n.CE)("div",D," No events match your search. ")):(0,n.Q3)("",!0),(0,n.Lk)("div",A,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(V.filteredProducts,e=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-4 pt-3",key:e._id},[(0,n.Lk)("div",null,[(0,n.Lk)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,$),(0,n.Lk)("div",O,[(0,n.Lk)("h5",null,(0,o.v_)(e.title),1),(0,n.Lk)("p",F,[t[25]||(t[25]=(0,n.Lk)("i",{class:"bi bi-calendar-event me-2"},null,-1)),(0,n.eW)(" "+(0,o.v_)(V.formatDate(e.event.start))+" ",1),e.event.end?((0,n.uX)(),(0,n.CE)("span",U,"- "+(0,o.v_)(V.formatDate(e.event.end)),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("p",j,[t[26]||(t[26]=(0,n.Lk)("i",{class:"bi bi-geo-alt me-2"},null,-1)),(0,n.eW)(" "+(0,o.v_)(e.event.location.name||"No location"),1)]),(0,n.Lk)("p",null,(0,o.v_)(0===e.event.tickets[0].price&&0===e.event.tickets[e.event.tickets.length-1].price?"Free":e.event.tickets[0].price===e.event.tickets[e.event.tickets.length-1].price?V.formatPrice(e.event.tickets[0].price):`From ${V.formatPrice(e.event.tickets[0].price)} - ${V.formatPrice(e.event.tickets[e.event.tickets.length-1].price)}`),1),(0,n.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>V.goToProduct(e.title)}," View Event ",8,I)])])]))),128))]),t[27]||(t[27]=(0,n.Lk)("div",{class:"row g-4"},[(0,n.Lk)("div",{class:"col-md-6"})],-1))])])])])}r(8111),r(2489);var X=r(4373),V={name:"ProductList",data(){return{products:[],reference:"",loading:!0,searchTerm:"",filters:{minPrice:0,maxPrice:1/0,startDate:null,endDate:null},tempFilters:{minPrice:0,maxPrice:1e5,startDate:null,endDate:null},showPriceModal:!1,showDateModal:!1}},computed:{filteredProducts(){const e=this.searchTerm.toLowerCase();return this.products.filter(t=>{const r=t.title?.toLowerCase().includes(e),n=t.event?.location?.name?.toLowerCase().includes(e),a=t.event?.tickets||[],o=[...a].sort((e,t)=>e.price-t.price),i=o[0]?.price||0,s=o[o.length-1]?.price||0,l=(!this.filters.minPrice||s>=this.filters.minPrice)&&(!this.filters.maxPrice||i<=this.filters.maxPrice),c=new Date(t.event?.date),d=this.filters.startDate?new Date(this.filters.startDate):null,u=this.filters.endDate?new Date(this.filters.endDate):null,p=new Date(c.toDateString()),h=d?new Date(d.toDateString()):null,m=u?new Date(u.toDateString()):null,f=(!h||p>=h)&&(!m||p<=m);return(r||n)&&l&&f})}},methods:{async fetchProducts(){try{const e=await X.A.get("https://event-ticket-backend-yx81.onrender.com/api/products");this.products=e.data.products,console.log(this.products)}catch(e){console.error("Error fetching products:",e)}},goToProduct(e){const t=e.replace(/\s+/g,"-").toLowerCase();window.open(`/event/${t}`,"_blank")},formatDate(e){if(!e)return"";const t={weekday:"short",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`â‚¦${e}`:"Free"},resetSearch(){this.searchTerm="",this.filters={minPrice:0,maxPrice:1/0,startDate:null,endDate:null}},applyPriceFilters(){this.filters.minPrice=this.tempFilters.minPrice,this.filters.maxPrice=this.tempFilters.maxPrice,this.showPriceModal=!1},clearPriceFilters(){this.tempFilters.minPrice=0,this.tempFilters.maxPrice=1e5,this.applyPriceFilters()},applyDateFilters(){this.filters.startDate=this.tempFilters.startDate,this.filters.endDate=this.tempFilters.endDate,this.showDateModal=!1},clearDateFilters(){this.tempFilters.startDate=null,this.tempFilters.endDate=null,this.applyDateFilters()},setToday(){const e=(new Date).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setTomorrow(){const e=new Date(Date.now()+864e5).toISOString().split("T")[0];this.tempFilters.startDate=e,this.tempFilters.endDate=e},setThisWeekend(){const e=new Date,t=e.getDay(),r=new Date(e);r.setDate(e.getDate()+(6-t));const n=new Date(r);n.setDate(r.getDate()+1),this.tempFilters.startDate=r.toISOString().split("T")[0],this.tempFilters.endDate=n.toISOString().split("T")[0]}},mounted(){this.fetchProducts()}},N=r(1241);const R=(0,N.A)(V,[["render",M],["__scopeId","data-v-0e8c6f62"]]);var W=R},5688:function(e,t,r){"use strict";r.d(t,{A:function(){return Ft}});var n=r(6768),a=r(4232);const o={class:"container"},i={key:2,class:"error"},s={class:"decode-result"},l={key:3,class:"text-start",style:{border:"1px solid #ddd","border-radius":"8px",padding:"16px",background:"#f9f9f9","max-width":"600px"}},c={style:{width:"120px","font-weight":"bold"}},d={style:{"border-left":"1px solid #ccc","padding-left":"12px"}},u={style:{display:"flex","border-top":"1px solid #ddd",padding:"8px 0"}},p={style:{"border-left":"1px solid #ccc","padding-left":"12px"}},h={style:{margin:"0","padding-left":"20px"}},m={key:4};function f(e,t,r,f,v,b){const k=(0,n.g2)("qrcode-stream");return(0,n.uX)(),(0,n.CE)("div",o,[t[4]||(t[4]=(0,n.Lk)("h2",null,"ðŸŽ¯ Scan Ticket QR Code",-1)),v.scanning?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>b.startScanning&&b.startScanning(...e)),class:"btn btn-primary mb-3"}," ðŸ“· Start Scanning ")),v.scanning?((0,n.uX)(),(0,n.Wv)(k,{key:1,constraints:{facingMode:"environment"},onDetect:b.onDetect,onError:b.onError},null,8,["onDetect","onError"])):(0,n.Q3)("",!0),v.error?((0,n.uX)(),(0,n.CE)("p",i,(0,a.v_)(v.error),1)):(0,n.Q3)("",!0),(0,n.Lk)("p",s,[(0,n.Lk)("b",null,(0,a.v_)(v.result),1)]),v.ticket?((0,n.uX)(),(0,n.CE)("div",l,[t[2]||(t[2]=(0,n.Lk)("h4",{style:{"margin-bottom":"16px"}},"ðŸŽŸï¸ Ticket Details",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)({Event:v.ticket.title,Reference:v.ticket.reference,Email:v.ticket.contact?.email||"N/A",Phone:v.ticket.contact?.phone||"N/A"},(e,t)=>((0,n.uX)(),(0,n.CE)("div",{style:{display:"flex","border-top":"1px solid #ddd",padding:"8px 0"},key:t},[(0,n.Lk)("div",c,(0,a.v_)(t)+":",1),(0,n.Lk)("div",d,(0,a.v_)(e),1)]))),128)),(0,n.Lk)("div",u,[t[1]||(t[1]=(0,n.Lk)("div",{style:{width:"120px","font-weight":"bold"}},"Tickets:",-1)),(0,n.Lk)("div",p,[(0,n.Lk)("ul",h,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(v.ticket.tickets,e=>((0,n.uX)(),(0,n.CE)("li",{key:e._id},(0,a.v_)(e.name)+" x "+(0,a.v_)(e.quantity),1))),128))])])])])):(0,n.Q3)("",!0),v.notFound?((0,n.uX)(),(0,n.CE)("div",m,[...t[3]||(t[3]=[(0,n.Lk)("p",{class:"text-danger"},"âŒ Ticket not found.",-1)])])):(0,n.Q3)("",!0)])}r(4114),r(6573),r(8100),r(7936),r(8111),r(2489),r(116),r(7588),r(1701),r(8237),r(3579),r(9577),r(1549),r(9797),r(9631),r(5623),r(4979),r(4603),r(7566),r(8721);var v=r(144),b=r(5130),k=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},y=(e,t,r)=>(k(e,t,"read from private field"),r?r.call(e):t.get(e)),g=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},L=(e,t,r,n)=>(k(e,t,"write to private field"),t.set(e,r),r);const w=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],C=[...w,["unknown"]].map(e=>e[0]),T=new Map(w);function _(e){for(const[t,r]of T)if(e===r)return t;return"unknown"}function x(e){if(E(e))return{width:e.naturalWidth,height:e.naturalHeight};if(S(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(P(e))return{width:e.videoWidth,height:e.videoHeight};if(A(e))return{width:e.width,height:e.height};if(O(e))return{width:e.displayWidth,height:e.displayHeight};if(D(e))return{width:e.width,height:e.height};if($(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function E(e){try{return e instanceof HTMLImageElement}catch(t){return!1}}function S(e){try{return e instanceof SVGImageElement}catch(t){return!1}}function P(e){try{return e instanceof HTMLVideoElement}catch(t){return!1}}function D(e){try{return e instanceof HTMLCanvasElement}catch(t){return!1}}function A(e){try{return e instanceof ImageBitmap}catch(t){return!1}}function $(e){try{return e instanceof OffscreenCanvas}catch(t){return!1}}function O(e){try{return e instanceof VideoFrame}catch(t){return!1}}function F(e){try{return e instanceof Blob}catch(t){return!1}}function U(e){try{return e instanceof ImageData}catch(t){return!1}}function j(e,t){try{const r=new OffscreenCanvas(e,t);if(r.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return r;throw void 0}catch(r){const n=document.createElement("canvas");return n.width=e,n.height=t,n}}async function I(e){if(E(e)&&!await N(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(S(e)&&!await R(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(O(e)&&W(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(P(e)&&(0===e.readyState||1===e.readyState))throw new DOMException("Invalid element or state.","InvalidStateError");if(A(e)&&Q(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:t,height:r}=x(e);if(0===t||0===r)return null;const n=j(t,r).getContext("2d");n.drawImage(e,0,0);try{return n.getImageData(0,0,t,r)}catch(a){throw new DOMException("Source would taint origin.","SecurityError")}}async function M(e){let t;try{if(globalThis.createImageBitmap)t=await createImageBitmap(e);else{if(!globalThis.Image)return e;{t=new Image;let r="";try{r=URL.createObjectURL(e),t.src=r,await t.decode()}finally{URL.revokeObjectURL(r)}}}}catch(r){throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await I(t)}function X(e){const{width:t,height:r}=e;if(0===t||0===r)return null;const n=e.getContext("2d");try{return n.getImageData(0,0,t,r)}catch(a){throw new DOMException("Source would taint origin.","SecurityError")}}async function V(e){if(F(e))return await M(e);if(U(e)){if(B(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return D(e)||$(e)?X(e):await I(e)}async function N(e){try{return await e.decode(),!0}catch(t){return!1}}async function R(e){var t;try{return await(null==(t=e.decode)?void 0:t.call(e)),!0}catch(r){return!1}}function W(e){return null===e.format}function B(e){return 0===e.data.buffer.byteLength}function Q(e){return 0===e.width&&0===e.height}function q(e,t){return e instanceof DOMException?new DOMException(`${t}: ${e.message}`,e.name):e instanceof Error?new e.constructor(`${t}: ${e.message}`):new Error(`${t}: ${e}`)}const z=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function J(e){return e.join("|")}function H(e){const t=K(e);let r=0,n=z.length-1;for(;r<=n;){const e=Math.floor((r+n)/2),a=z[e],o=K(a);if(o===t)return a;o<t?r=e+1:n=e-1}return"None"}function K(e){return e.toLowerCase().replace(/_-\[\]/g,"")}function G(e,t){return e.Binarizer[t]}function Y(e,t){return e.CharacterSet[t]}const Z=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function ee(e){return Z[e.value]}function te(e,t){return e.EanAddOnSymbol[t]}function re(e,t){return e.TextMode[t]}const ne={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function ae(e,t){return{...t,formats:J(t.formats),binarizer:G(e,t.binarizer),eanAddOnSymbol:te(e,t.eanAddOnSymbol),textMode:re(e,t.textMode),characterSet:Y(e,t.characterSet)}}function oe(e){return{...e,format:H(e.format),eccLevel:e.eccLevel,contentType:ee(e.contentType)}}const ie={locateFile:(e,t)=>{const r=e.match(/_(.+?)\.wasm$/);return r?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${r[1]}/${e}`:t+e}};let se=new WeakMap;function le(e,t){var r;const n=se.get(e);if(null!=n&&n.modulePromise&&void 0===t)return n.modulePromise;const a=null!=(r=null==n?void 0:n.moduleOverrides)?r:ie,o=e({...a});return se.set(e,{moduleOverrides:a,modulePromise:o}),o}async function ce(e,t,r=ne){const n={...ne,...r},a=await le(e),{size:o}=t,i=new Uint8Array(await t.arrayBuffer()),s=a._malloc(o);a.HEAPU8.set(i,s);const l=a.readBarcodesFromImage(s,o,ae(a,n));a._free(s);const c=[];for(let d=0;d<l.size();++d)c.push(oe(l.get(d)));return c}async function de(e,t,r=ne){const n={...ne,...r},a=await le(e),{data:o,width:i,height:s,data:{byteLength:l}}=t,c=a._malloc(l);a.HEAPU8.set(o,c);const d=a.readBarcodesFromPixmap(c,i,s,ae(a,n));a._free(c);const u=[];for(let p=0;p<d.size();++p)u.push(oe(d.get(p)));return u}ne.formats;var ue,pe=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t={}){var r,n,a=t;a.ready=new Promise((e,t)=>{r=e,n=t});var o=Object.assign({},a),i="./this.program",s="object"==typeof window,l="function"==typeof importScripts;"object"==typeof process&&"object"==typeof process.versions&&process.versions.node;var c,d="";function u(e){return a.locateFile?a.locateFile(e,d):d+e}(s||l)&&(l?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),e&&(d=e),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",l&&(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),a.print||console.log.bind(console);var p,h=a.printErr||console.error.bind(console);Object.assign(a,o),o=null,a.arguments&&a.arguments,a.thisProgram&&(i=a.thisProgram),a.quit&&a.quit,a.wasmBinary&&(p=a.wasmBinary),"object"!=typeof WebAssembly&&M("no native wasm support detected");var m,f,v,b,k,y,g,L,w,C=!1;function T(){var e=m.buffer;a.HEAP8=f=new Int8Array(e),a.HEAP16=b=new Int16Array(e),a.HEAPU8=v=new Uint8Array(e),a.HEAPU16=k=new Uint16Array(e),a.HEAP32=y=new Int32Array(e),a.HEAPU32=g=new Uint32Array(e),a.HEAPF32=L=new Float32Array(e),a.HEAPF64=w=new Float64Array(e)}var _=[],x=[],E=[];function S(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)A(a.preRun.shift());z(_)}function P(){z(x)}function D(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)O(a.postRun.shift());z(E)}function A(e){_.unshift(e)}function $(e){x.unshift(e)}function O(e){E.unshift(e)}var F=0,U=null;function j(e){var t;F++,null===(t=a.monitorRunDependencies)||void 0===t||t.call(a,F)}function I(e){var t;if(F--,null===(t=a.monitorRunDependencies)||void 0===t||t.call(a,F),0==F&&U){var r=U;U=null,r()}}function M(e){var t;null===(t=a.onAbort)||void 0===t||t.call(a,e),e="Aborted("+e+")",h(e),C=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw n(r),r}var X,V="data:application/octet-stream;base64,",N=e=>e.startsWith(V);function R(e){if(e==X&&p)return new Uint8Array(p);if(c)return c(e);throw"both async and sync fetching of the wasm failed"}function W(e){return p||!s&&!l||"function"!=typeof fetch?Promise.resolve().then(()=>R(e)):fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>R(e))}function B(e,t,r){return W(e).then(e=>WebAssembly.instantiate(e,t)).then(e=>e).then(r,e=>{h(`failed to asynchronously prepare wasm: ${e}`),M(e)})}function Q(e,t,r,n){return e||"function"!=typeof WebAssembly.instantiateStreaming||N(t)||"function"!=typeof fetch?B(t,r,n):fetch(t,{credentials:"same-origin"}).then(e=>{var a=WebAssembly.instantiateStreaming(e,r);return a.then(n,function(e){return h(`wasm streaming compile failed: ${e}`),h("falling back to ArrayBuffer instantiation"),B(t,r,n)})})}function q(){var e={a:Jr};function t(e,t){return Hr=e.exports,m=Hr.ia,T(),ut=Hr.ma,$(Hr.ja),I(),Hr}function r(e){t(e.instance)}if(j(),a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(o){h(`Module.instantiateWasm callback failed with error: ${o}`),n(o)}return Q(p,X,e,r).catch(n),{}}X="zxing_reader.wasm",N(X)||(X=u(X));var z=e=>{for(;e.length>0;)e.shift()(a)};a.noExitRuntime;var J=[],H=0,K=e=>{var t=new Z(e);return t.get_caught()||(t.set_caught(!0),H--),t.set_rethrown(!1),J.push(t),an(t.excPtr),t.get_exception_ptr()},G=0,Y=()=>{Zr(0,0);var e=J.pop();nn(e.excPtr),G=0};function Z(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){g[this.ptr+4>>2]=e},this.get_type=function(){return g[this.ptr+4>>2]},this.set_destructor=function(e){g[this.ptr+8>>2]=e},this.get_destructor=function(){return g[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,f[this.ptr+12|0]=e},this.get_caught=function(){return 0!=f[this.ptr+12|0]},this.set_rethrown=function(e){e=e?1:0,f[this.ptr+13|0]=e},this.get_rethrown=function(){return 0!=f[this.ptr+13|0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){g[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return g[this.ptr+16>>2]},this.get_exception_ptr=function(){var e=sn(this.get_type());if(e)return g[this.excPtr>>2];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var ee=e=>{throw G||(G=e),G},te=e=>{var t=G;if(!t)return en(0),0;var r=new Z(t);r.set_adjusted_ptr(t);var n=r.get_type();if(!n)return en(0),t;for(var a in e){var o=e[a];if(0===o||o===n)break;var i=r.ptr+16;if(on(o,n,i))return en(o),t}return en(n),t},re=()=>te([]),ne=e=>te([e]),ae=(e,t)=>te([e,t]),oe=()=>{var e=J.pop();e||M("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(J.push(e),e.set_rethrown(!0),e.set_caught(!1),H++),G=t,G},ie=(e,t,r)=>{var n=new Z(e);throw n.init(t,r),G=e,H++,G},se=()=>H,le={},ce=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function de(e){return this.fromWireType(y[e>>2])}var ue,pe,he,me={},fe={},ve={},be=e=>{throw new ue(e)},ke=(e,t,r)=>{function n(t){var n=r(t);n.length!==e.length&&be("Mismatched type converter count");for(var a=0;a<e.length;++a)_e(e[a],n[a])}e.forEach(function(e){ve[e]=t});var a=new Array(t.length),o=[],i=0;t.forEach((e,t)=>{fe.hasOwnProperty(e)?a[t]=fe[e]:(o.push(e),me.hasOwnProperty(e)||(me[e]=[]),me[e].push(()=>{a[t]=fe[e],++i,i===o.length&&n(a)}))}),0===o.length&&n(a)},ye=e=>{var t=le[e];delete le[e];var r=t.rawConstructor,n=t.rawDestructor,a=t.fields,o=a.map(e=>e.getterReturnType).concat(a.map(e=>e.setterArgumentType));ke([e],o,e=>{var o={};return a.forEach((t,r)=>{var n=t.fieldName,i=e[r],s=t.getter,l=t.getterContext,c=e[r+a.length],d=t.setter,u=t.setterContext;o[n]={read:e=>i.fromWireType(s(l,e)),write:(e,t)=>{var r=[];d(u,e,c.toWireType(r,t)),ce(r)}}}),[{name:t.name,fromWireType:e=>{var t={};for(var r in o)t[r]=o[r].read(e);return n(e),t},toWireType:(e,t)=>{for(var a in o)if(!(a in t))throw new TypeError(`Missing field: "${a}"`);var i=r();for(a in o)o[a].write(i,t[a]);return null!==e&&e.push(n,i),i},argPackAdvance:Ee,readValueFromPointer:de,destructorFunction:n}]})},ge=(e,t,r,n,a)=>{},Le=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);pe=e},we=e=>{for(var t="",r=e;v[r];)t+=pe[v[r++]];return t},Ce=e=>{throw new he(e)};function Te(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=t.name;if(e||Ce(`type "${n}" must have a positive integer typeid pointer`),fe.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;Ce(`Cannot register type '${n}' twice`)}if(fe[e]=t,delete ve[e],me.hasOwnProperty(e)){var a=me[e];delete me[e],a.forEach(e=>e())}}function _e(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Te(e,t,r)}var xe,Ee=8,Se=(e,t,r,n)=>{t=we(t),_e(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:n},argPackAdvance:Ee,readValueFromPointer:function(e){return this.fromWireType(v[e])},destructorFunction:null})},Pe=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),De=e=>{function t(e){return e.$$.ptrType.registeredClass.name}Ce(t(e)+" instance already deleted")},Ae=!1,$e=e=>{},Oe=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Fe=e=>{e.count.value-=1;var t=0===e.count.value;t&&Oe(e)},Ue=(e,t,r)=>{if(t===r)return e;if(void 0===r.baseClass)return null;var n=Ue(e,t,r.baseClass);return null===n?null:r.downcast(n)},je={},Ie=()=>Object.keys(We).length,Me=()=>{var e=[];for(var t in We)We.hasOwnProperty(t)&&e.push(We[t]);return e},Xe=[],Ve=()=>{for(;Xe.length;){var e=Xe.pop();e.$$.deleteScheduled=!1,e.delete()}},Ne=e=>{xe=e,Xe.length&&xe&&xe(Ve)},Re=()=>{a.getInheritedInstanceCount=Ie,a.getLiveInheritedInstances=Me,a.flushPendingDeletes=Ve,a.setDelayFunction=Ne},We={},Be=(e,t)=>{for(void 0===t&&Ce("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},Qe=(e,t)=>(t=Be(e,t),We[t]),qe=(e,t)=>{(!t.ptrType||!t.ptr)&&be("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,n=!!t.smartPtr;return r!==n&&be("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Je(Object.create(e,{$$:{value:t,writable:!0}}))};function ze(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Qe(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function a(){return this.isSmartPointer?qe(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):qe(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o,i=this.registeredClass.getActualType(t),s=je[i];if(!s)return a.call(this);o=this.isConst?s.constPointerType:s.pointerType;var l=Ue(t,this.registeredClass,o.registeredClass);return null===l?a.call(this):this.isSmartPointer?qe(o.registeredClass.instancePrototype,{ptrType:o,ptr:l,smartPtrType:this,smartPtr:e}):qe(o.registeredClass.instancePrototype,{ptrType:o,ptr:l})}var Je=e=>typeof FinalizationRegistry>"u"?(Je=e=>e,e):(Ae=new FinalizationRegistry(e=>{Fe(e.$$)}),Je=e=>{var t=e.$$,r=!!t.smartPtr;if(r){var n={$$:t};Ae.register(e,n,e)}return e},$e=e=>Ae.unregister(e),Je(e)),He=()=>{Object.assign(Ke.prototype,{isAliasOf(e){if(!(this instanceof Ke)||!(e instanceof Ke))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,a=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return t===n&&r===a},clone(){if(this.$$.ptr||De(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Je(Object.create(Object.getPrototypeOf(this),{$$:{value:Pe(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||De(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ce("Object already scheduled for deletion"),$e(this),Fe(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||De(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ce("Object already scheduled for deletion"),Xe.push(this),1===Xe.length&&xe&&xe(Ve),this.$$.deleteScheduled=!0,this}})};function Ke(){}var Ge=(e,t)=>Object.defineProperty(t,"name",{value:e}),Ye=(e,t,r)=>{if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Ce(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},Ze=(e,t,r)=>{a.hasOwnProperty(e)?((void 0===r||void 0!==a[e].overloadTable&&void 0!==a[e].overloadTable[r])&&Ce(`Cannot register public name '${e}' twice`),Ye(a,e,e),a.hasOwnProperty(r)&&Ce(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),a[e].overloadTable[r]=t):(a[e]=t,void 0!==r&&(a[e].numArguments=r))},et=48,tt=57,rt=e=>{if(void 0===e)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=et&&t<=tt?`_${e}`:e};function nt(e,t,r,n,a,o,i,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=i,this.downcast=s,this.pureVirtualFunctions=[]}var at=(e,t,r)=>{for(;t!==r;)t.upcast||Ce(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function ot(e,t){if(null===t)return this.isReference&&Ce(`null is not a valid ${this.name}`),0;t.$$||Ce(`Cannot pass "${Rt(t)}" as a ${this.name}`),t.$$.ptr||Ce(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=at(t.$$.ptr,r,this.registeredClass);return n}function it(e,t){var r;if(null===t)return this.isReference&&Ce(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;(!t||!t.$$)&&Ce(`Cannot pass "${Rt(t)}" as a ${this.name}`),t.$$.ptr||Ce(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&Ce(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass;if(r=at(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Ce("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:Ce(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var a=t.clone();r=this.rawShare(r,jt.toHandle(()=>a.delete())),null!==e&&e.push(this.rawDestructor,r)}break;default:Ce("Unsupporting sharing policy")}return r}function st(e,t){if(null===t)return this.isReference&&Ce(`null is not a valid ${this.name}`),0;t.$$||Ce(`Cannot pass "${Rt(t)}" as a ${this.name}`),t.$$.ptr||Ce(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&Ce(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,n=at(t.$$.ptr,r,this.registeredClass);return n}function lt(e){return this.fromWireType(g[e>>2])}var ct=()=>{Object.assign(dt.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){var t;null===(t=this.rawDestructor)||void 0===t||t.call(this,e)},argPackAdvance:Ee,readValueFromPointer:lt,deleteObject(e){null!==e&&e.delete()},fromWireType:ze})};function dt(e,t,r,n,a,o,i,s,l,c,d){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=i,this.rawGetPointee=s,this.rawConstructor=l,this.rawShare=c,this.rawDestructor=d,a||void 0!==t.baseClass?this.toWireType=it:n?(this.toWireType=ot,this.destructorFunction=null):(this.toWireType=st,this.destructorFunction=null)}var ut,pt,ht=(e,t,r)=>{a.hasOwnProperty(e)||be("Replacing nonexistant public symbol"),void 0!==a[e].overloadTable&&void 0!==r?a[e].overloadTable[r]=t:(a[e]=t,a[e].argCount=r)},mt=(e,t,r)=>{var n=a["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)},ft=[],vt=e=>{var t=ft[e];return t||(e>=ft.length&&(ft.length=e+1),ft[e]=t=ut.get(e)),t},bt=(e,t,r)=>{if(e.includes("j"))return mt(e,t,r);var n=vt(t).apply(null,r);return n},kt=(e,t)=>{var r=[];return function(){return r.length=0,Object.assign(r,arguments),bt(e,t,r)}},yt=(e,t)=>{function r(){return e.includes("j")?kt(e,t):vt(t)}e=we(e);var n=r();return"function"!=typeof n&&Ce(`unknown function pointer with signature ${e}: ${t}`),n},gt=(e,t)=>{var r=Ge(t,function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},r},Lt=e=>{var t=Yr(e),r=we(t);return Kr(t),r},wt=(e,t)=>{var r=[],n={};function a(e){if(!n[e]&&!fe[e]){if(ve[e])return void ve[e].forEach(a);r.push(e),n[e]=!0}}throw t.forEach(a),new pt(`${e}: `+r.map(Lt).join([", "]))},Ct=(e,t,r,n,a,o,i,s,l,c,d,u,p)=>{d=we(d),o=yt(a,o),s&&(s=yt(i,s)),c&&(c=yt(l,c)),p=yt(u,p);var h=rt(d);Ze(h,function(){wt(`Cannot construct ${d} due to unbound types`,[n])}),ke([e,t,r],n?[n]:[],function(t){var r,a;t=t[0],n?(r=t.registeredClass,a=r.instancePrototype):a=Ke.prototype;var i=Ge(d,function(){if(Object.getPrototypeOf(this)!==l)throw new he("Use 'new' to construct "+d);if(void 0===f.constructor_body)throw new he(d+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new he(`Tried to invoke ctor of ${d} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(f.constructor_body).toString()}) parameters instead!`);return e.apply(this,arguments)}),l=Object.create(a,{constructor:{value:i}});i.prototype=l;var u,m,f=new nt(d,i,l,p,r,o,s,c);f.baseClass&&(null!==(m=(u=f.baseClass).__derivedClasses)&&void 0!==m||(u.__derivedClasses=[]),f.baseClass.__derivedClasses.push(f));var v=new dt(d,f,!0,!1,!1),b=new dt(d+"*",f,!1,!1,!1),k=new dt(d+" const*",f,!1,!0,!1);return je[e]={pointerType:b,constPointerType:k},ht(h,i),[v,b,k]})},Tt=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(g[t+4*n>>2]);return r};function _t(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}function xt(e,t,r,n,a,o){var i=t.length;i<2&&Ce("argTypes array size mismatch! Must at least get return value and 'this' types!");var s=null!==t[1]&&null!==r,l=_t(t),c="void"!==t[0].name,d=i-2,u=new Array(d),p=[],h=[],m=function(){var r;arguments.length!==d&&Ce(`function ${e} called with ${arguments.length} arguments, expected ${d}`),h.length=0,p.length=s?2:1,p[0]=a,s&&(r=t[1].toWireType(h,this),p[1]=r);for(var o=0;o<d;++o)u[o]=t[o+2].toWireType(h,arguments[o]),p.push(u[o]);var i=n.apply(null,p);function m(e){if(l)ce(h);else for(var n=s?1:2;n<t.length;n++){var a=1===n?r:u[n-2];null!==t[n].destructorFunction&&t[n].destructorFunction(a)}if(c)return t[0].fromWireType(e)}return m(i)};return Ge(e,m)}var Et=(e,t,r,n,a,o)=>{var i=Tt(t,r);a=yt(n,a),ke([],[e],function(e){e=e[0];var r=`constructor ${e.name}`;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new he(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.registeredClass.constructor_body[t-1]=()=>{wt(`Cannot construct ${e.name} due to unbound types`,i)},ke([],i,n=>(n.splice(1,0,null),e.registeredClass.constructor_body[t-1]=xt(r,n,null,a,o),[])),[]})},St=e=>{e=e.trim();const t=e.indexOf("(");return-1!==t?e.substr(0,t):e},Pt=(e,t,r,n,a,o,i,s,l)=>{var c=Tt(r,n);t=we(t),t=St(t),o=yt(a,o),ke([],[e],function(e){e=e[0];var n=`${e.name}.${t}`;function a(){wt(`Cannot call ${n} due to unbound types`,c)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var l=e.registeredClass.instancePrototype,d=l[t];return void 0===d||void 0===d.overloadTable&&d.className!==e.name&&d.argCount===r-2?(a.argCount=r-2,a.className=e.name,l[t]=a):(Ye(l,t,n),l[t].overloadTable[r-2]=a),ke([],c,function(a){var s=xt(n,a,e,o,i);return void 0===l[t].overloadTable?(s.argCount=r-2,l[t]=s):l[t].overloadTable[r-2]=s,[]}),[]})};function Dt(){Object.assign(At.prototype,{get(e){return this.allocated[e]},has(e){return void 0!==this.allocated[e]},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}})}function At(){this.allocated=[void 0],this.freelist=[]}var $t=new At,Ot=e=>{e>=$t.reserved&&0===--$t.get(e).refcount&&$t.free(e)},Ft=()=>{for(var e=0,t=$t.reserved;t<$t.allocated.length;++t)void 0!==$t.allocated[t]&&++e;return e},Ut=()=>{$t.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),$t.reserved=$t.allocated.length,a.count_emval_handles=Ft},jt={toValue:e=>(e||Ce("Cannot use deleted val. handle = "+e),$t.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return $t.allocate({refcount:1,value:e})}}},It=(e,t)=>{t=we(t),_e(e,{name:t,fromWireType:e=>{var t=jt.toValue(e);return Ot(e),t},toWireType:(e,t)=>jt.toHandle(t),argPackAdvance:Ee,readValueFromPointer:de,destructorFunction:null})},Mt=(e,t,r)=>{switch(t){case 1:return r?function(e){return this.fromWireType(f[e|0])}:function(e){return this.fromWireType(v[e|0])};case 2:return r?function(e){return this.fromWireType(b[e>>1])}:function(e){return this.fromWireType(k[e>>1])};case 4:return r?function(e){return this.fromWireType(y[e>>2])}:function(e){return this.fromWireType(g[e>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Xt=(e,t,r,n)=>{function a(){}t=we(t),a.values={},_e(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:(e,t)=>t.value,argPackAdvance:Ee,readValueFromPointer:Mt(t,r,n),destructorFunction:null}),Ze(t,a)},Vt=(e,t)=>{var r=fe[e];return void 0===r&&Ce(t+" has unknown type "+Lt(e)),r},Nt=(e,t,r)=>{var n=Vt(e,"enum");t=we(t);var a=n.constructor,o=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:Ge(`${n.name}_${t}`,function(){})}});a.values[r]=o,a[t]=o},Rt=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},Wt=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(L[e>>2])};case 8:return function(e){return this.fromWireType(w[e>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Bt=(e,t,r)=>{t=we(t),_e(e,{name:t,fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:Ee,readValueFromPointer:Wt(t,r),destructorFunction:null})},Qt=(e,t,r,n,a,o,i)=>{var s=Tt(t,r);e=we(e),e=St(e),a=yt(n,a),Ze(e,function(){wt(`Cannot call ${e} due to unbound types`,s)},t-1),ke([],s,function(r){var n=[r[0],null].concat(r.slice(1));return ht(e,xt(e,n,null,a,o),t-1),[]})},qt=(e,t,r)=>{switch(t){case 1:return r?e=>f[e|0]:e=>v[e|0];case 2:return r?e=>b[e>>1]:e=>k[e>>1];case 4:return r?e=>y[e>>2]:e=>g[e>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},zt=(e,t,r,n,a)=>{t=we(t);var o=e=>e;if(0===n){var i=32-8*r;o=e=>e<<i>>>i}var s,l=t.includes("unsigned"),c=(e,t)=>{};s=l?function(e,t){return c(t,this.name),t>>>0}:function(e,t){return c(t,this.name),t},_e(e,{name:t,fromWireType:o,toWireType:s,argPackAdvance:Ee,readValueFromPointer:qt(t,r,0!==n),destructorFunction:null})},Jt=(e,t,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=n[t];function o(e){var t=g[e>>2],r=g[e+4>>2];return new a(f.buffer,r,t)}r=we(r),_e(e,{name:r,fromWireType:o,argPackAdvance:Ee,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},Ht=(e,t,r,n)=>{if(!(n>0))return 0;for(var a=r,o=r+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343){var l=e.charCodeAt(++i);s=65536+((1023&s)<<10)|1023&l}if(s<=127){if(r>=o)break;t[r++]=s}else if(s<=2047){if(r+1>=o)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=o)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=o)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-a},Kt=(e,t,r)=>Ht(e,v,t,r),Gt=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},Yt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Zt=(e,t,r)=>{for(var n=t+r,a=t;e[a]&&!(a>=n);)++a;if(a-t>16&&e.buffer&&Yt)return Yt.decode(e.subarray(t,a));for(var o="";t<a;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if(i=224==(240&i)?(15&i)<<12|s<<6|l:(7&i)<<18|s<<12|l<<6|63&e[t++],i<65536)o+=String.fromCharCode(i);else{var c=i-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o},er=(e,t)=>e?Zt(v,e,t):"",tr=(e,t)=>{t=we(t);var r="std::string"===t;_e(e,{name:t,fromWireType(e){var t,n=g[e>>2],a=e+4;if(r)for(var o=a,i=0;i<=n;++i){var s=a+i;if(i==n||0==v[s]){var l=s-o,c=er(o,l);void 0===t?t=c:(t+="\0",t+=c),o=s+1}}else{var d=new Array(n);for(i=0;i<n;++i)d[i]=String.fromCharCode(v[a+i]);t=d.join("")}return Kr(e),t},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n,a="string"==typeof t;a||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Ce("Cannot pass non-string to std::string"),n=r&&a?Gt(t):t.length;var o=Gr(4+n+1),i=o+4;if(g[o>>2]=n,r&&a)Kt(t,i,n+1);else if(a)for(var s=0;s<n;++s){var l=t.charCodeAt(s);l>255&&(Kr(i),Ce("String has UTF-16 code units that do not fit in 8 bits")),v[i+s]=l}else for(s=0;s<n;++s)v[i+s]=t[s];return null!==e&&e.push(Kr,o),o},argPackAdvance:Ee,readValueFromPointer:lt,destructorFunction(e){Kr(e)}})},rr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,nr=(e,t)=>{for(var r=e,n=r>>1,a=n+t/2;!(n>=a)&&k[n];)++n;if(r=n<<1,r-e>32&&rr)return rr.decode(v.subarray(e,r));for(var o="",i=0;!(i>=t/2);++i){var s=b[e+2*i>>1];if(0==s)break;o+=String.fromCharCode(s)}return o},ar=(e,t,r)=>{var n;if(null!==(n=r)&&void 0!==n||(r=2147483647),r<2)return 0;r-=2;for(var a=t,o=r<2*e.length?r/2:e.length,i=0;i<o;++i){var s=e.charCodeAt(i);b[t>>1]=s,t+=2}return b[t>>1]=0,t-a},or=e=>2*e.length,ir=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var a=y[e+4*r>>2];if(0==a)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(a)}return n},sr=(e,t,r)=>{var n;if(null!==(n=r)&&void 0!==n||(r=2147483647),r<4)return 0;for(var a=t,o=a+r-4,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343){var l=e.charCodeAt(++i);s=65536+((1023&s)<<10)|1023&l}if(y[t>>2]=s,t+=4,t+4>o)break}return y[t>>2]=0,t-a},lr=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},cr=(e,t,r)=>{var n,a,o,i,s;r=we(r),2===t?(n=nr,a=ar,i=or,o=()=>k,s=1):4===t&&(n=ir,a=sr,i=lr,o=()=>g,s=2),_e(e,{name:r,fromWireType:e=>{for(var r,a=g[e>>2],i=o(),l=e+4,c=0;c<=a;++c){var d=e+4+c*t;if(c==a||0==i[d>>s]){var u=d-l,p=n(l,u);void 0===r?r=p:(r+="\0",r+=p),l=d+t}}return Kr(e),r},toWireType:(e,n)=>{"string"!=typeof n&&Ce(`Cannot pass non-string to C++ string type ${r}`);var o=i(n),l=Gr(4+o+t);return g[l>>2]=o>>s,a(n,l+4,o+t),null!==e&&e.push(Kr,l),l},argPackAdvance:Ee,readValueFromPointer:de,destructorFunction(e){Kr(e)}})},dr=(e,t,r,n,a,o)=>{le[e]={name:we(t),rawConstructor:yt(r,n),rawDestructor:yt(a,o),fields:[]}},ur=(e,t,r,n,a,o,i,s,l,c)=>{le[e].fields.push({fieldName:we(t),getterReturnType:r,getter:yt(n,a),getterContext:o,setterArgumentType:i,setter:yt(s,l),setterContext:c})},pr=(e,t)=>{t=we(t),_e(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(e,t)=>{}})},hr=[],mr=(e,t,r,n)=>(e=hr[e],t=jt.toValue(t),e(null,t,r,n)),fr={},vr=e=>{var t=fr[e];return void 0===t?we(e):t},br=()=>{if("object"==typeof globalThis)return globalThis;function e(e){e.$$$embind_global$$$=e;var t="object"==typeof $$$embind_global$$$&&e.$$$embind_global$$$==e;return t||delete e.$$$embind_global$$$,t}if("object"==typeof $$$embind_global$$$||("object"==typeof global&&e(global)?$$$embind_global$$$=global:"object"==typeof self&&e(self)&&($$$embind_global$$$=self),"object"==typeof $$$embind_global$$$))return $$$embind_global$$$;throw Error("unable to get global object.")},kr=e=>0===e?jt.toHandle(br()):(e=vr(e),jt.toHandle(br()[e])),yr=e=>{var t=hr.length;return hr.push(e),t},gr=(e,t)=>{for(var r=new Array(e),n=0;n<e;++n)r[n]=Vt(g[t+4*n>>2],"parameter "+n);return r},Lr=Reflect.construct,wr=(e,t,r)=>{var n=[],a=e.toWireType(n,r);return n.length&&(g[t>>2]=jt.toHandle(n)),a},Cr=(e,t,r)=>{var n=gr(e,t),a=n.shift();e--;var o=new Array(e),i=(t,i,s,l)=>{for(var c=0,d=0;d<e;++d)o[d]=n[d].readValueFromPointer(l+c),c+=n[d].argPackAdvance;var u=1===r?Lr(i,o):i.apply(t,o);for(d=0;d<e;++d){var p,h;null===(p=(h=n[d]).deleteObject)||void 0===p||p.call(h,o[d])}return wr(a,s,u)},s=`methodCaller<(${n.map(e=>e.name).join(", ")}) => ${a.name}>`;return yr(Ge(s,i))},Tr=e=>{e>4&&($t.get(e).refcount+=1)},_r=e=>{var t=jt.toValue(e);ce(t),Ot(e)},xr=(e,t)=>{e=Vt(e,"_emval_take_value");var r=e.readValueFromPointer(t);return jt.toHandle(r)},Er=()=>{M("")},Sr=(e,t,r)=>v.copyWithin(e,t,t+r),Pr=()=>2147483648,Dr=e=>{var t=m.buffer,r=(e-t.byteLength+65535)/65536;try{return m.grow(r),T(),1}catch(n){}},Ar=e=>{var t=v.length;e>>>=0;var r=Pr();if(e>r)return!1;for(var n=(e,t)=>e+(t-e%t)%t,a=1;a<=4;a*=2){var o=t*(1+.2/a);o=Math.min(o,e+100663296);var i=Math.min(r,n(Math.max(e,o),65536)),s=Dr(i);if(s)return!0}return!1},$r={},Or=()=>i||"./this.program",Fr=()=>{if(!Fr.strings){var e=("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Or()};for(var r in $r)void 0===$r[r]?delete t[r]:t[r]=$r[r];var n=[];for(var r in t)n.push(`${r}=${t[r]}`);Fr.strings=n}return Fr.strings},Ur=(e,t)=>{for(var r=0;r<e.length;++r)f[t++|0]=e.charCodeAt(r);f[t|0]=0},jr=(e,t)=>{var r=0;return Fr().forEach((n,a)=>{var o=t+r;g[e+4*a>>2]=o,Ur(n,o),r+=n.length+1}),0},Ir=(e,t)=>{var r=Fr();g[e>>2]=r.length;var n=0;return r.forEach(e=>n+=e.length+1),g[t>>2]=n,0},Mr=e=>e,Xr=e=>e%4===0&&(e%100!==0||e%400===0),Vr=(e,t)=>{for(var r=0,n=0;n<=t;r+=e[n++]);return r},Nr=[31,29,31,30,31,30,31,31,30,31,30,31],Rr=[31,28,31,30,31,30,31,31,30,31,30,31],Wr=(e,t)=>{for(var r=new Date(e.getTime());t>0;){var n=Xr(r.getFullYear()),a=r.getMonth(),o=(n?Nr:Rr)[a];if(!(t>o-r.getDate()))return r.setDate(r.getDate()+t),r;t-=o-r.getDate()+1,r.setDate(1),a<11?r.setMonth(a+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r};function Br(e,t,r){var n=Gt(e)+1,a=new Array(n);return Ht(e,a,0,a.length),a}var Qr=(e,t)=>{f.set(e,t)},qr=(e,t,r,n)=>{var a=g[n+40>>2],o={tm_sec:y[n>>2],tm_min:y[n+4>>2],tm_hour:y[n+8>>2],tm_mday:y[n+12>>2],tm_mon:y[n+16>>2],tm_year:y[n+20>>2],tm_wday:y[n+24>>2],tm_yday:y[n+28>>2],tm_isdst:y[n+32>>2],tm_gmtoff:y[n+36>>2],tm_zone:a?er(a):""},i=er(r),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in s)i=i.replace(new RegExp(l,"g"),s[l]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function u(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function p(e,t){return u(e,t,"0")}function h(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function m(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function f(e){var t=Wr(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),a=m(r),o=m(n);return h(a,t)<=0?h(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var v={"%a":e=>c[e.tm_wday].substring(0,3),"%A":e=>c[e.tm_wday],"%b":e=>d[e.tm_mon].substring(0,3),"%B":e=>d[e.tm_mon],"%C":e=>{var t=e.tm_year+1900;return p(t/100|0,2)},"%d":e=>p(e.tm_mday,2),"%e":e=>u(e.tm_mday,2," "),"%g":e=>f(e).toString().substring(2),"%G":e=>f(e),"%H":e=>p(e.tm_hour,2),"%I":e=>{var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),p(t,2)},"%j":e=>p(e.tm_mday+Vr(Xr(e.tm_year+1900)?Nr:Rr,e.tm_mon-1),3),"%m":e=>p(e.tm_mon+1,2),"%M":e=>p(e.tm_min,2),"%n":()=>"\n","%p":e=>e.tm_hour>=0&&e.tm_hour<12?"AM":"PM","%S":e=>p(e.tm_sec,2),"%t":()=>"\t","%u":e=>e.tm_wday||7,"%U":e=>{var t=e.tm_yday+7-e.tm_wday;return p(Math.floor(t/7),2)},"%V":e=>{var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var r=(e.tm_wday+371-e.tm_yday)%7;4!=r&&(3!=r||!Xr(e.tm_year))&&(t=1)}}else{t=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&Xr(e.tm_year%400-1))&&t++}return p(t,2)},"%w":e=>e.tm_wday,"%W":e=>{var t=e.tm_yday+7-(e.tm_wday+6)%7;return p(Math.floor(t/7),2)},"%y":e=>(e.tm_year+1900).toString().substring(2),"%Y":e=>e.tm_year+1900,"%z":e=>{var t=e.tm_gmtoff,r=t>=0;return t=Math.abs(t)/60,t=t/60*100+t%60,(r?"+":"-")+("0000"+t).slice(-4)},"%Z":e=>e.tm_zone,"%%":()=>"%"};for(var l in i=i.replace(/%%/g,"\0\0"),v)i.includes(l)&&(i=i.replace(new RegExp(l,"g"),v[l](o)));i=i.replace(/\0\0/g,"%");var b=Br(i);return b.length>t?0:(Qr(b,e),b.length-1)},zr=(e,t,r,n,a)=>qr(e,t,r,n);ue=a.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Le(),he=a.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},He(),Re(),ct(),pt=a.UnboundTypeError=gt(Error,"UnboundTypeError"),Dt(),Ut();var Jr={s:K,u:Y,b:re,g:ne,q:ae,J:oe,f:ie,V:se,d:ee,da:ye,Q:ge,_:Se,ca:Ct,ba:Et,w:Pt,Y:It,x:Xt,h:Nt,L:Bt,M:Qt,t:zt,o:Jt,K:tr,C:cr,A:dr,ea:ur,$:pr,R:mr,ha:Ot,fa:kr,Z:Cr,N:Tr,O:_r,aa:xr,B:Er,X:Sr,W:Ar,T:jr,U:Ir,E:_n,D:mn,F:Tn,n:xn,a:dn,e:vn,m:hn,k:kn,H:wn,v:gn,G:Cn,z:Sn,P:Dn,l:bn,j:fn,c:pn,p:un,I:Ln,r:En,i:yn,y:Pn,ga:Mr,S:zr},Hr=q(),Kr=a._free=e=>(Kr=a._free=Hr.ka)(e),Gr=a._malloc=e=>(Gr=a._malloc=Hr.la)(e),Yr=e=>(Yr=Hr.na)(e),Zr=(e,t)=>(Zr=Hr.oa)(e,t),en=e=>(en=Hr.pa)(e),tn=()=>(tn=Hr.qa)(),rn=e=>(rn=Hr.ra)(e),nn=e=>(nn=Hr.sa)(e),an=e=>(an=Hr.ta)(e),on=(e,t,r)=>(on=Hr.ua)(e,t,r),sn=e=>(sn=Hr.va)(e);a.dynCall_viijii=(e,t,r,n,o,i,s)=>(a.dynCall_viijii=Hr.wa)(e,t,r,n,o,i,s);var ln,cn=a.dynCall_jiiii=(e,t,r,n,o)=>(cn=a.dynCall_jiiii=Hr.xa)(e,t,r,n,o);function dn(e,t){var r=tn();try{return vt(e)(t)}catch(n){if(rn(r),n!==n+0)throw n;Zr(1,0)}}function un(e,t,r,n){var a=tn();try{vt(e)(t,r,n)}catch(o){if(rn(a),o!==o+0)throw o;Zr(1,0)}}function pn(e,t,r){var n=tn();try{vt(e)(t,r)}catch(a){if(rn(n),a!==a+0)throw a;Zr(1,0)}}function hn(e,t,r,n){var a=tn();try{return vt(e)(t,r,n)}catch(o){if(rn(a),o!==o+0)throw o;Zr(1,0)}}function mn(e,t,r,n,a){var o=tn();try{return vt(e)(t,r,n,a)}catch(i){if(rn(o),i!==i+0)throw i;Zr(1,0)}}function fn(e,t){var r=tn();try{vt(e)(t)}catch(n){if(rn(r),n!==n+0)throw n;Zr(1,0)}}function vn(e,t,r){var n=tn();try{return vt(e)(t,r)}catch(a){if(rn(n),a!==a+0)throw a;Zr(1,0)}}function bn(e){var t=tn();try{vt(e)()}catch(r){if(rn(t),r!==r+0)throw r;Zr(1,0)}}function kn(e,t,r,n,a){var o=tn();try{return vt(e)(t,r,n,a)}catch(i){if(rn(o),i!==i+0)throw i;Zr(1,0)}}function yn(e,t,r,n,a,o,i,s,l,c,d){var u=tn();try{vt(e)(t,r,n,a,o,i,s,l,c,d)}catch(p){if(rn(u),p!==p+0)throw p;Zr(1,0)}}function gn(e,t,r,n,a,o,i){var s=tn();try{return vt(e)(t,r,n,a,o,i)}catch(l){if(rn(s),l!==l+0)throw l;Zr(1,0)}}function Ln(e,t,r,n,a){var o=tn();try{vt(e)(t,r,n,a)}catch(i){if(rn(o),i!==i+0)throw i;Zr(1,0)}}function wn(e,t,r,n,a,o){var i=tn();try{return vt(e)(t,r,n,a,o)}catch(s){if(rn(i),s!==s+0)throw s;Zr(1,0)}}function Cn(e,t,r,n,a,o,i,s){var l=tn();try{return vt(e)(t,r,n,a,o,i,s)}catch(c){if(rn(l),c!==c+0)throw c;Zr(1,0)}}function Tn(e,t,r,n){var a=tn();try{return vt(e)(t,r,n)}catch(o){if(rn(a),o!==o+0)throw o;Zr(1,0)}}function _n(e,t,r,n){var a=tn();try{return vt(e)(t,r,n)}catch(o){if(rn(a),o!==o+0)throw o;Zr(1,0)}}function xn(e){var t=tn();try{return vt(e)()}catch(r){if(rn(t),r!==r+0)throw r;Zr(1,0)}}function En(e,t,r,n,a,o,i,s){var l=tn();try{vt(e)(t,r,n,a,o,i,s)}catch(c){if(rn(l),c!==c+0)throw c;Zr(1,0)}}function Sn(e,t,r,n,a,o,i,s,l,c,d,u){var p=tn();try{return vt(e)(t,r,n,a,o,i,s,l,c,d,u)}catch(h){if(rn(p),h!==h+0)throw h;Zr(1,0)}}function Pn(e,t,r,n,a,o,i,s,l,c,d,u,p,h,m,f){var v=tn();try{vt(e)(t,r,n,a,o,i,s,l,c,d,u,p,h,m,f)}catch(b){if(rn(v),b!==b+0)throw b;Zr(1,0)}}function Dn(e,t,r,n,a){var o=tn();try{return cn(e,t,r,n,a)}catch(i){if(rn(o),i!==i+0)throw i;Zr(1,0)}}function An(){function e(){ln||(ln=!0,a.calledRun=!0,!C&&(P(),r(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),D()))}F>0||(S(),F>0)||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e())}if(a.dynCall_iiiiij=(e,t,r,n,o,i,s)=>(a.dynCall_iiiiij=Hr.ya)(e,t,r,n,o,i,s),a.dynCall_iiiiijj=(e,t,r,n,o,i,s,l,c)=>(a.dynCall_iiiiijj=Hr.za)(e,t,r,n,o,i,s,l,c),a.dynCall_iiiiiijj=(e,t,r,n,o,i,s,l,c,d)=>(a.dynCall_iiiiiijj=Hr.Aa)(e,t,r,n,o,i,s,l,c,d),U=function e(){ln||An(),ln||(U=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return An(),t.ready}})();function he(e){return le(pe,e)}async function me(e,t){return ce(pe,e,t)}async function fe(e,t){return de(pe,e,t)}class ve extends EventTarget{constructor(e={}){var t;super(),g(this,ue,void 0);try{const r=null==(t=null==e?void 0:e.formats)?void 0:t.filter(e=>"unknown"!==e);if(0===(null==r?void 0:r.length))throw new TypeError("Hint option provided, but is empty.");null==r||r.forEach(e=>{if(!T.has(e))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${e}' is not a valid enum value of type BarcodeFormat.`)}),L(this,ue,null!=r?r:[]),he().then(e=>{this.dispatchEvent(new CustomEvent("load",{detail:e}))}).catch(e=>{this.dispatchEvent(new CustomEvent("error",{detail:e}))})}catch(r){throw q(r,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return C.filter(e=>"unknown"!==e)}async detect(e){try{const r=await V(e);if(null===r)return[];let n;try{n=F(r)?await me(r,{tryHarder:!0,formats:y(this,ue).map(e=>T.get(e))}):await fe(r,{tryHarder:!0,formats:y(this,ue).map(e=>T.get(e))})}catch(t){throw console.error(t),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return n.map(e=>{const{topLeft:{x:t,y:r},topRight:{x:n,y:a},bottomLeft:{x:o,y:i},bottomRight:{x:s,y:l}}=e.position,c=Math.min(t,n,o,s),d=Math.min(r,a,i,l),u=Math.max(t,n,o,s),p=Math.max(r,a,i,l);return{boundingBox:new DOMRectReadOnly(c,d,u-c,p-d),rawValue:e.text,format:_(e.format),cornerPoints:[{x:t,y:r},{x:n,y:a},{x:s,y:l},{x:o,y:i}]}})}catch(r){throw q(r,"Failed to execute 'detect' on 'BarcodeDetector'")}}}ue=new WeakMap;const be=(e,t,r="error")=>{let n,a;const o=new Promise((o,i)=>{n=o,a=i,e.addEventListener(t,n),e.addEventListener(r,a)});return o.finally(()=>{e.removeEventListener(t,n),e.removeEventListener(r,a)}),o},ke=e=>new Promise(t=>setTimeout(t,e));Error;class ye extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class ge extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Le extends Error{constructor(){super("Loading camera stream timed out after 6 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let we;function Ce(e){we=new ve({formats:e})}const Te=async(e,{detectHandler:t,locateHandler:r,minDelay:n,formats:a})=>{console.debug("[vue-qrcode-reader] start scanning"),Ce(a);const o=a=>async i=>{if(0===e.readyState)console.debug("[vue-qrcode-reader] stop scanning: video element readyState is 0");else{const{lastScanned:s,contentBefore:l,lastScanHadContent:c}=a;if(i-s<n)window.requestAnimationFrame(o(a));else{const n=await we.detect(e),a=n.some(e=>!l.includes(e.rawValue));a&&t(n);const s=n.length>0;s&&r(n),!s&&c&&r(n);const d={lastScanned:i,lastScanHadContent:s,contentBefore:a?n.map(e=>e.rawValue):l};window.requestAnimationFrame(o(d))}}};o({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var _e={},xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.compactObject=Re,xe.deprecated=Xe;var Ee=xe.detectBrowser=Ve;function Se(e,t,r){return t=Pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e){var t=De(e,"string");return"symbol"===Ae(t)?t:String(t)}function De(e,t){if("object"!==Ae(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}xe.disableLog=je,xe.disableWarnings=Ie,xe.extractVersion=Fe,xe.filterStats=Be,xe.log=Me,xe.walkStats=We,xe.wrapPeerConnectionEvent=Ue;var $e=!0,Oe=!0;function Fe(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function Ue(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,a=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return a.apply(this,arguments);var o=function(e){var t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,o),a.apply(this,[e,o])};var o=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(r))return o.apply(this,arguments);var n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function je(e){return"boolean"!=typeof e?new Error("Argument type: "+Ae(e)+". Please use a boolean."):($e=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Ie(e){return"boolean"!=typeof e?new Error("Argument type: "+Ae(e)+". Please use a boolean."):(Oe=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Me(){if("object"===(typeof window>"u"?"undefined":Ae(window))){if($e)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function Xe(e,t){Oe&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Ve(e){var t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;var r=e.navigator;if(r.mozGetUserMedia)t.browser="firefox",t.version=Fe(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Fe(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=Fe(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function Ne(e){return"[object Object]"===Object.prototype.toString.call(e)}function Re(e){return Ne(e)?Object.keys(e).reduce(function(t,r){var n=Ne(e[r]),a=n?Re(e[r]):e[r],o=n&&!Object.keys(a).length;return void 0===a||o?t:Object.assign(t,Se({},r,a))},{}):e}function We(e,t,r){!t||r.has(t.id)||(r.set(t.id,t),Object.keys(t).forEach(function(n){n.endsWith("Id")?We(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach(function(t){We(e,e.get(t),r)})}))}function Be(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",a=new Map;if(null===t)return a;var o=[];return e.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(function(t){e.forEach(function(r){r.type===n&&r.trackId===t.id&&We(e,r,a)})}),a}Object.defineProperty(_e,"__esModule",{value:!0});var Qe=_e.shimGetUserMedia=Ge,qe=Je(xe);function ze(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(ze=function(e){return e?r:t})(e)}function Je(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==He(e)&&"function"!=typeof e)return{default:e};var r=ze(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}var Ke=qe.log;function Ge(e,t){var r=e&&e.navigator;if(r.mediaDevices){var n=function(e){if("object"!==He(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"===He(e[r])?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var a=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var o={};"number"==typeof n.ideal?(o[a("min",r)]=n.ideal,t.optional.push(o),o={},o[a("max",r)]=n.ideal,t.optional.push(o)):(o[a("",r)]=n.ideal,t.optional.push(o))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[a("",r)]=n.exact):["min","max"].forEach(function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[a(e,r)]=n[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},a=function(e,a){if(t.version>=61)return a(e);if(e=JSON.parse(JSON.stringify(e)),e&&"object"===He(e.audio)){var o=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};e=JSON.parse(JSON.stringify(e)),o(e.audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"===He(e.video)){var i=e.video.facingMode;i=i&&("object"===He(i)?i:{ideal:i});var s,l=t.version<66;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||l))if(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal?s=["back","rear"]:("user"===i.exact||"user"===i.ideal)&&(s=["front"]),s)return r.mediaDevices.enumerateDevices().then(function(t){t=t.filter(function(e){return"videoinput"===e.kind});var r=t.find(function(e){return s.some(function(t){return e.label.toLowerCase().includes(t)})});return!r&&t.length&&s.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=i.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=n(e.video),Ke("chrome: "+JSON.stringify(e)),a(e)});e.video=n(e.video)}return Ke("chrome: "+JSON.stringify(e)),a(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},i=function(e,t,n){a(e,function(e){r.webkitGetUserMedia(e,t,function(e){n&&n(o(e))})})};if(r.getUserMedia=i.bind(r),r.mediaDevices.getUserMedia){var s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return a(e,function(e){return s(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(o(e))})})}}}}var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});var Ze=Ye.shimGetUserMedia=at,et=rt(xe);function tt(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(tt=function(e){return e?r:t})(e)}function rt(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==nt(e)&&"function"!=typeof e)return{default:e};var r=tt(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function at(e,t){var r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){et.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var a=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},o=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"===nt(e)&&"object"===nt(e.audio)&&(e=JSON.parse(JSON.stringify(e)),a(e.audio,"autoGainControl","mozAutoGainControl"),a(e.audio,"noiseSuppression","mozNoiseSuppression")),o(e)},n&&n.prototype.getSettings){var i=n.prototype.getSettings;n.prototype.getSettings=function(){var e=i.apply(this,arguments);return a(e,"mozAutoGainControl","autoGainControl"),a(e,"mozNoiseSuppression","noiseSuppression"),e}}if(n&&n.prototype.applyConstraints){var s=n.prototype.applyConstraints;n.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===nt(e)&&(e=JSON.parse(JSON.stringify(e)),a(e,"autoGainControl","mozAutoGainControl"),a(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.shimAudioContext=yt,ot.shimCallbacksAPI=ht,ot.shimConstraints=ft,ot.shimCreateOfferLegacy=kt;var it=ot.shimGetUserMedia=mt;ot.shimLocalStreamsAPI=ut,ot.shimRTCIceServerUrls=vt,ot.shimRemoteStreamsAPI=pt,ot.shimTrackEventTransceiver=bt;var st=ct(xe);function lt(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(lt=function(e){return e?r:t})(e)}function ct(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==dt(e)&&"function"!=typeof e)return{default:e};var r=lt(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function ut(e){if("object"===dt(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(function(n){return t.call(r,n,e)}),e.getVideoTracks().forEach(function(n){return t.call(r,n,e)})},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=this,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return a&&a.forEach(function(e){r._localStreams?r._localStreams.includes(e)||r._localStreams.push(e):r._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var n=e.getTracks();this.getSenders().forEach(function(e){n.includes(e.track)&&t.removeTrack(e)})}})}}function pt(e){if("object"===dt(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}})}),t.apply(e,arguments)}}}function ht(e){if("object"===dt(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,a=t.setLocalDescription,o=t.setRemoteDescription,i=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],a=r.apply(this,[n]);return t?(a.then(e,t),Promise.resolve()):a},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],a=n.apply(this,[r]);return t?(a.then(e,t),Promise.resolve()):a};var s=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){var n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}}function mt(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return n(ft(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function ft(e){return e&&void 0!==e.video?Object.assign({},e,{video:st.compactObject(e.video)}):e}function vt(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var n=[],a=0;a<e.iceServers.length;a++){var o=e.iceServers[a];void 0===o.urls&&o.url?(st.deprecated("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,n.push(o)):n.push(e.iceServers[a])}e.iceServers=n}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function bt(e){"object"===dt(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function kt(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){typeof e.offerToReceiveAudio<"u"&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find(function(e){return"audio"===e.receiver.track.kind});!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0===e.offerToReceiveAudio&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),typeof e.offerToReceiveVideo<"u"&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=this.getTransceivers().find(function(e){return"video"===e.receiver.track.kind});!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0===e.offerToReceiveVideo&&!n&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function yt(e){"object"!==dt(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const gt=e=>{let t,r=!1;return(...n)=>(r||(t=e(n),r=!0),t)};function Lt(e,t){if(!1===e)throw new Error(null!=t?t:"assertion failure")}function wt(e){throw new Error("this code should be unreachable")}const Ct=gt(()=>{const e=Ee(window);switch(e.browser){case"chrome":Qe(window,e);break;case"firefox":Ze(window,e);break;case"safari":it(window,e);break;default:throw new ye}});let Tt=Promise.resolve({type:"stop",data:{}});async function _t(e,t,r){var n,a,o;if(console.debug("[vue-qrcode-reader] starting camera with constraints: ",JSON.stringify(t)),!0!==window.isSecureContext)throw new ge;if(void 0===(null==(n=null==navigator?void 0:navigator.mediaDevices)?void 0:n.getUserMedia))throw new ye;Ct(),console.debug("[vue-qrcode-reader] calling getUserMedia");const i=await navigator.mediaDevices.getUserMedia({audio:!1,video:t});void 0!==e.srcObject?e.srcObject=i:void 0!==e.mozSrcObject?e.mozSrcObject=i:window.URL.createObjectURL?e.src=window.URL.createObjectURL(i):window.webkitURL?e.src=window.webkitURL.createObjectURL(i):e.src=i.id,e.play(),console.debug("[vue-qrcode-reader] waiting for video element to load"),await Promise.race([be(e,"loadeddata"),ke(6e3).then(()=>{throw new Le})]),console.debug("[vue-qrcode-reader] video element loaded"),await ke(500);const[s]=i.getVideoTracks(),l=null!=(o=null==(a=null==s?void 0:s.getCapabilities)?void 0:a.call(s))?o:{};let c=!1;return r&&l.torch&&(await s.applyConstraints({advanced:[{torch:!0}]}),c=!0),console.debug("[vue-qrcode-reader] camera ready"),{type:"start",data:{videoEl:e,stream:i,capabilities:l,constraints:t,isTorchOn:c}}}async function xt(e,{constraints:t,torch:r,restart:n=!1}){Tt=Tt.then(a=>{if("start"===a.type){const{data:{videoEl:o,stream:i,constraints:s,isTorchOn:l}}=a;return n||e!==o||t!==s||r!==l?Et(o,i,l).then(()=>_t(e,t,r)):a}if("stop"===a.type||"failed"===a.type)return _t(e,t,r);wt()}).catch(e=>(console.debug(`[vue-qrcode-reader] starting camera failed with "${e}"`),{type:"failed",error:e}));const a=await Tt;if("stop"===a.type)throw new Error("Something went wrong with the camera task queue (start task).");if("failed"===a.type)throw a.error;if("start"===a.type)return a.data.capabilities;wt()}async function Et(e,t,r){console.debug("[vue-qrcode-reader] stopping camera"),e.src="",e.srcObject=null,e.load(),await be(e,"error");for(const n of t.getTracks())null!=r||await n.applyConstraints({advanced:[{torch:!1}]}),t.removeTrack(n),n.stop();return{type:"stop",data:{}}}async function St(){if(Tt=Tt.then(e=>{if("stop"===e.type||"failed"===e.type)return e;const{data:{videoEl:t,stream:r,isTorchOn:n}}=e;return Et(t,r,n)}),"start"===(await Tt).type)throw new Error("Something went wrong with the camera task queue (stop task).")}const Pt=(0,n.pM)({__name:"QrcodeStream",props:{constraints:{default:()=>({facingMode:"environment"})},formats:{default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function,default:void 0}},emits:["detect","camera-on","camera-off","error"],setup(e,{emit:t}){const r=e,o=t,i=(0,v.KR)(r.constraints),s=(0,v.KR)(r.formats);(0,n.wB)(()=>r.constraints,(e,t)=>{JSON.stringify(e)!==JSON.stringify(t)&&(i.value=e)},{deep:!0}),(0,n.wB)(()=>r.formats,(e,t)=>{JSON.stringify(e)!==JSON.stringify(t)&&(s.value=e)},{deep:!0});const l=(0,v.KR)(),c=(0,v.KR)(),d=(0,v.KR)(),u=(0,v.KR)(!1),p=(0,v.KR)(!1);(0,n.sV)(()=>{p.value=!0}),(0,n.hi)(()=>{St()});const h=(0,n.EW)(()=>({torch:r.torch,constraints:i.value,shouldStream:p.value&&!r.paused}));(0,n.wB)(h,async e=>{const t=d.value;Lt(void 0!==t,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const r=l.value;Lt(void 0!==r,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const n=r.getContext("2d");if(Lt(null!==n,"if cavnas is defined, canvas 2d context should also be non-null"),e.shouldStream){St(),u.value=!1;try{const r=await xt(t,e);p.value?(u.value=!0,o("camera-on",r)):await St()}catch(a){o("error",a)}}else r.width=t.videoWidth,r.height=t.videoHeight,n.drawImage(t,0,0,t.videoWidth,t.videoHeight),St(),u.value=!1,o("camera-off")},{deep:!0}),(0,n.wB)(s,e=>{p.value&&Ce(e)});const m=(0,n.EW)(()=>h.value.shouldStream&&u.value);(0,n.wB)(m,e=>{if(e){Lt(void 0!==l.value,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),f(l.value),Lt(void 0!==c.value,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),f(c.value);const e=()=>void 0===r.track?500:40;Lt(void 0!==d.value,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),Te(d.value,{detectHandler:e=>o("detect",e),formats:s.value,locateHandler:k,minDelay:e()})}});const f=e=>{const t=e.getContext("2d");Lt(null!==t,"canvas 2d context should always be non-null"),t.clearRect(0,0,e.width,e.height)},k=e=>{const t=c.value;Lt(void 0!==t,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const n=d.value;if(Lt(void 0!==n,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),0===e.length||void 0===r.track)f(t);else{const a=n.offsetWidth,o=n.offsetHeight,i=n.videoWidth,s=n.videoHeight,l=Math.max(a/i,o/s),c=i*l,d=s*l,u=c/i,p=d/s,h=(a-c)/2,m=(o-d)/2,f=({x:e,y:t})=>({x:Math.floor(e*u),y:Math.floor(t*p)}),v=({x:e,y:t})=>({x:Math.floor(e+h),y:Math.floor(t+m)}),b=e.map(e=>{const{boundingBox:t,cornerPoints:r}=e,{x:n,y:a}=v(f({x:t.x,y:t.y})),{x:o,y:i}=f({x:t.width,y:t.height});return{...e,cornerPoints:r.map(e=>v(f(e))),boundingBox:DOMRectReadOnly.fromRect({x:n,y:a,width:o,height:i})}});t.width=n.offsetWidth,t.height=n.offsetHeight;const k=t.getContext("2d");Lt(null!==k,"canvas 2d context should always be non-null"),r.track(b,k)}},y={width:"100%",height:"100%",position:"relative","z-index":"0"},g={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},L={width:"100%",height:"100%","object-fit":"cover"},w=(0,n.EW)(()=>m.value?L:{...L,visibility:"hidden",position:"absolute"});return(e,t)=>((0,n.uX)(),(0,n.CE)("div",{style:y},[(0,n.Lk)("video",{ref_key:"videoRef",ref:d,style:(0,a.Tr)(w.value),autoplay:"",muted:"",playsinline:""},null,4),(0,n.bo)((0,n.Lk)("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:l,style:L},null,512),[[b.aG,!m.value]]),(0,n.Lk)("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:c,style:g},null,512),(0,n.Lk)("div",{style:g},[(0,n.RG)(e.$slots,"default")])]))}});var Dt=r(4373),At={name:"QRScanner",components:{QrcodeStream:Pt},data(){return{scanning:!1,result:"",ticket:null,error:"",notFound:!1}},methods:{startScanning(){this.scanning=!0},async onDetect(e){const t=e[0]?.rawValue;this.result=t,this.ticket=null,this.notFound=!1,this.error="";try{const e=await Dt.A.get(`https://95eb7e2b76c5.ngrok-free.app/api/order/${t}`);this.ticket=e.data.order}catch(r){r.response?404===r.response.status?this.notFound=!0:409===r.response.status?(this.error="âŒ This ticket has already been scanned.",window.alert(this.error)):(this.error="âš ï¸ Server error. Please try again.",window.alert(this.error)):(this.error="âš ï¸ Network error. Please check your connection.",window.alert(this.error)),console.error(r)}},onError(e){console.error(e),this.error="Camera access or scanning failed."}}},$t=r(1241);const Ot=(0,$t.A)(At,[["render",f],["__scopeId","data-v-30c92054"]]);var Ft=Ot},6055:function(e,t,r){"use strict";r(4114),r(8111),r(2489),r(7588),r(1701),r(8237);var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=n(r(2213)),o=n(r(1314)),i=n(r(1029)),s=n(r(2259)),l=n(r(4738)),c=String.fromCharCode(0),d=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var r={};return"string"===typeof e&&0===e.length?this:(r.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},e.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=o.default(e),"object"===typeof r){if("number"===typeof e.delete&&"number"===typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"===typeof r.delete&&null!=e.insert&&(t-=1,r=this.ops[t-1],"object"!==typeof r))return this.ops.unshift(e),this;if(i.default(e.attributes,r.attributes)){if("string"===typeof e.insert&&"string"===typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],r=[];return this.forEach(function(n){var a=e(n)?t:r;a.push(n)}),[t,r]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+l.default.length(t):t.delete?e-t.delete:e},0)},e.prototype.length=function(){return this.reduce(function(e,t){return e+l.default.length(t)},0)},e.prototype.slice=function(t,r){void 0===t&&(t=0),void 0===r&&(r=1/0);var n=[],a=l.default.iterator(this.ops),o=0;while(o<r&&a.hasNext()){var i=void 0;o<t?i=a.next(t-o):(i=a.next(r-o),n.push(i)),o+=l.default.length(i)}return new e(n)},e.prototype.compose=function(t){var r=l.default.iterator(this.ops),n=l.default.iterator(t.ops),a=[],o=n.peek();if(null!=o&&"number"===typeof o.retain&&null==o.attributes){var c=o.retain;while("insert"===r.peekType()&&r.peekLength()<=c)c-=r.peekLength(),a.push(r.next());o.retain-c>0&&n.next(o.retain-c)}var d=new e(a);while(r.hasNext()||n.hasNext())if("insert"===n.peekType())d.push(n.next());else if("delete"===r.peekType())d.push(r.next());else{var u=Math.min(r.peekLength(),n.peekLength()),p=r.next(u),h=n.next(u);if("number"===typeof h.retain){var m={};"number"===typeof p.retain?m.retain=u:m.insert=p.insert;var f=s.default.compose(p.attributes,h.attributes,"number"===typeof p.retain);if(f&&(m.attributes=f),d.push(m),!n.hasNext()&&i.default(d.ops[d.ops.length-1],m)){var v=new e(r.rest());return d.concat(v).chop()}}else"number"===typeof h.delete&&"number"===typeof p.retain&&d.push(h)}return d.chop()},e.prototype.concat=function(t){var r=new e(this.ops.slice());return t.ops.length>0&&(r.push(t.ops[0]),r.ops=r.ops.concat(t.ops.slice(1))),r},e.prototype.diff=function(t,r){if(this.ops===t.ops)return new e;var n=[this,t].map(function(e){return e.map(function(r){if(null!=r.insert)return"string"===typeof r.insert?r.insert:c;var n=e===t?"on":"with";throw new Error("diff() called "+n+" non-document")}).join("")}),o=new e,d=a.default(n[0],n[1],r),u=l.default.iterator(this.ops),p=l.default.iterator(t.ops);return d.forEach(function(e){var t=e[1].length;while(t>0){var r=0;switch(e[0]){case a.default.INSERT:r=Math.min(p.peekLength(),t),o.push(p.next(r));break;case a.default.DELETE:r=Math.min(t,u.peekLength()),u.next(r),o.delete(r);break;case a.default.EQUAL:r=Math.min(u.peekLength(),p.peekLength(),t);var n=u.next(r),l=p.next(r);i.default(n.insert,l.insert)?o.retain(r,s.default.diff(n.attributes,l.attributes)):o.push(l).delete(r);break}t-=r}}),o.chop()},e.prototype.eachLine=function(t,r){void 0===r&&(r="\n");var n=l.default.iterator(this.ops),a=new e,o=0;while(n.hasNext()){if("insert"!==n.peekType())return;var i=n.peek(),s=l.default.length(i)-n.peekLength(),c="string"===typeof i.insert?i.insert.indexOf(r,s)-s:-1;if(c<0)a.push(n.next());else if(c>0)a.push(n.next(c));else{if(!1===t(a,n.next(1).attributes||{},o))return;o+=1,a=new e}}a.length()>0&&t(a,{},o)},e.prototype.invert=function(t){var r=new e;return this.reduce(function(e,n){if(n.insert)r.delete(l.default.length(n));else{if(n.retain&&null==n.attributes)return r.retain(n.retain),e+n.retain;if(n.delete||n.retain&&n.attributes){var a=n.delete||n.retain,o=t.slice(e,e+a);return o.forEach(function(e){n.delete?r.push(e):n.retain&&n.attributes&&r.retain(l.default.length(e),s.default.invert(n.attributes,e.attributes))}),e+a}}return e},0),r.chop()},e.prototype.transform=function(t,r){if(void 0===r&&(r=!1),r=!!r,"number"===typeof t)return this.transformPosition(t,r);var n=t,a=l.default.iterator(this.ops),o=l.default.iterator(n.ops),i=new e;while(a.hasNext()||o.hasNext())if("insert"!==a.peekType()||!r&&"insert"===o.peekType())if("insert"===o.peekType())i.push(o.next());else{var c=Math.min(a.peekLength(),o.peekLength()),d=a.next(c),u=o.next(c);if(d.delete)continue;u.delete?i.push(u):i.retain(c,s.default.transform(d.attributes,u.attributes,r))}else i.retain(l.default.length(a.next()));return i.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;var r=l.default.iterator(this.ops),n=0;while(r.hasNext()&&n<=e){var a=r.peekLength(),o=r.peekType();r.next(),"delete"!==o?("insert"===o&&(n<e||!t)&&(e+=a),n+=a):e-=Math.min(a,e-n)}return e},e.Op=l.default,e.AttributeMap=s.default,e}();e.exports=d},6488:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var n=r(6768),a=r(5130);const o={class:"login-wrapper"},i={class:"login-container"},s={class:"login-card"},l={class:"form-group"},c={class:"form-group"},d={class:"auth-buttons pt-2 d-none"},u={class:"text-center mt-1"},p={class:"text-start"},h={class:"text-center mt-1 d-flex"};function m(e,t,r,m,f,v){const b=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("div",i,[(0,n.Lk)("div",s,[t[13]||(t[13]=(0,n.Lk)("h4",{class:"login-title"},"Welcome back",-1)),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)((...e)=>v.loginUser&&v.loginUser(...e),["prevent"]))},[(0,n.Lk)("div",l,[t[4]||(t[4]=(0,n.Lk)("label",{class:"form-label"},"Email",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>f.email=e),type:"email",class:"form-input",placeholder:"Email",required:""},null,512),[[a.Jo,f.email]])]),(0,n.Lk)("div",c,[t[5]||(t[5]=(0,n.Lk)("label",{class:"form-label"},"Password",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>f.password=e),type:"password",class:"form-input",placeholder:"Password",required:""},null,512),[[a.Jo,f.password]])]),t[6]||(t[6]=(0,n.Lk)("div",{class:"form-submit"},[(0,n.Lk)("button",{type:"submit",class:"btn-primary"},"log in")],-1))],32),(0,n.Lk)("div",d,[(0,n.Lk)("button",{class:"btn-google",onClick:t[3]||(t[3]=(...e)=>v.login&&v.login(...e))},[...t[7]||(t[7]=[(0,n.Lk)("span",{class:"google-icon"},"G",-1),(0,n.eW)(" Log in with Google ",-1)])])]),(0,n.Lk)("p",u,[(0,n.bF)(b,{to:"/forgot-password",class:"link-blue"},{default:(0,n.k6)(()=>[...t[8]||(t[8]=[(0,n.eW)("reset password",-1)])]),_:1})]),(0,n.Lk)("p",p,[t[10]||(t[10]=(0,n.eW)(" dont have an account? ",-1)),(0,n.bF)(b,{to:"/register",class:"link-blue"},{default:(0,n.k6)(()=>[...t[9]||(t[9]=[(0,n.eW)("Sign up",-1)])]),_:1})]),(0,n.Lk)("div",h,[t[12]||(t[12]=(0,n.Lk)("small",null,"login as staff member?",-1)),(0,n.bF)(b,{to:"/staff-login",class:"link-blue"},{default:(0,n.k6)(()=>[...t[11]||(t[11]=[(0,n.eW)("Staff Login",-1)])]),_:1})])])])])}var f=r(782),v=r(9103),b=r(4874),k=r.n(b);r(4979);function y(e){this.message=e}y.prototype=new Error,y.prototype.name="InvalidCharacterError";"undefined"!=typeof window&&window.atob&&window.atob.bind(window);function g(e){this.message=e}g.prototype=new Error,g.prototype.name="InvalidTokenError";var L={data(){return{name:"",email:"",password:""}},methods:{...(0,f.i0)(["LOGIN_USER","sendCodeToBackend"]),login(){(0,v.D4)(e=>{e.accounts.oauth2.initCodeClient({client_id:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_CLIENT_ID,scope:"email profile openid",redirect_uri:"https://event-ticket-backend-yx81.onrender.com  /auth/callback",callback:e=>{e.code&&this.sendCodeToBackend(e.code)}}).requestCode()})},loginUser(){const e={email:this.email,password:this.password};this.LOGIN_USER(e).then(()=>{k().fire("Login successful"),window.location.href="/dashboard"}).catch(e=>{const t=e.message||"Login failed";k().fire("Oh oo!",t,"error")})}}},w=r(1241);const C=(0,w.A)(L,[["render",m],["__scopeId","data-v-13a6f1a8"]]);var T=C},6931:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(4738)),o=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=a.default.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"===typeof t.retain?o.retain=e:"string"===typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?a.default.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e}();t["default"]=o},7315:function(e,t,r){"use strict";r.d(t,{A:function(){return c}});var n=r(6768);const a={class:"spinner"};function o(e,t){return(0,n.uX)(),(0,n.CE)("div",a,[...t[0]||(t[0]=[(0,n.Lk)("div",{class:"double-bounce1"},null,-1),(0,n.Lk)("div",{class:"double-bounce2"},null,-1)])])}var i=r(1241);const s={},l=(0,i.A)(s,[["render",o]]);var c=l},7326:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(6768),a=r(4232),o=r(5130);const i={class:"container text-start"},s={class:"navbar navbar-expand-md navbar-light bg-white"},l={class:"container-fluid p-0"},c={class:"navbar-brand text-uppercase fw-800",href:"#"},d={class:"d-md-none"},u={class:"row"},p={key:0,class:""},h={class:"row"},m=["src"],f={class:"pt-2"},v={class:"mb-1"},b={key:0},k={class:"mb-1"},y=["onClick"],g={key:1};function L(e,t,r,L,w,C){return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("nav",s,[(0,n.Lk)("div",l,[(0,n.Lk)("a",c,[t[2]||(t[2]=(0,n.Lk)("span",{class:"border-red pe-2"},"Products",-1)),(0,n.eW)(" "+(0,a.v_)(w.products.length)+" found ",1)]),(0,n.Lk)("button",{class:"navbar-toggler d-md-none",onClick:t[0]||(t[0]=(...t)=>e.openModal&&e.openModal(...t)),type:"button","data-bs-toggle":"collapse","data-bs-target":"#myNav","aria-controls":"myNav","aria-expanded":"false","aria-label":"Toggle navigation"},[...t[3]||(t[3]=[(0,n.Lk)("span",{class:"fas fa-bars"},null,-1)])])])]),(0,n.Lk)("div",d,[w.isModalOpen?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal",onClick:t[1]||(t[1]=(0,o.D$)((...t)=>e.closeModal&&e.closeModal(...t),["self"]))},[...t[4]||(t[4]=[(0,n.Lk)("div",{class:"modal-content text-start"},null,-1)])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",u,[w.products.length>0?((0,n.uX)(),(0,n.CE)("div",p,[(0,n.Lk)("div",h,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(w.products,e=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-4 pt-3 pb-3 pt-md-0",key:e._id},[(0,n.Lk)("div",null,[(0,n.Lk)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,m),(0,n.Lk)("div",f,[(0,n.Lk)("h5",null,(0,a.v_)(e.title),1),(0,n.Lk)("p",v,[t[5]||(t[5]=(0,n.Lk)("i",{class:"bi bi-calendar-event me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(C.formatDate(e.event.start))+" ",1),e.event.end?((0,n.uX)(),(0,n.CE)("span",b,"- "+(0,a.v_)(C.formatDate(e.event.end)),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("p",k,[t[6]||(t[6]=(0,n.Lk)("i",{class:"bi bi-geo-alt me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(e.event.location.name||"No location"),1)]),(0,n.Lk)("p",null,(0,a.v_)(0===e.event.tickets[0].price&&0===e.event.tickets[e.event.tickets.length-1].price?"Free":e.event.tickets[0].price===e.event.tickets[e.event.tickets.length-1].price?C.formatPrice(e.event.tickets[0].price):`From ${C.formatPrice(e.event.tickets[0].price)} - ${C.formatPrice(e.event.tickets[e.event.tickets.length-1].price)}`),1),(0,n.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>C.goToProduct(e.title)}," View Event ",8,y)])])]))),128))])])):((0,n.uX)(),(0,n.CE)("p",g,"No products found in this category."))])])}var w=r(4373),C={data(){return{minPrice:0,maxPrice:1e3,selectedMinPrice:0,selectedMaxPrice:1e3,isModalOpen:!1,products:[],searchQuery:""}},computed:{},async created(){const e=this.$route.params.categoryType,t=e.replace(/-/g," "),r=t.replace(/\b\w/g,e=>e.toUpperCase()),n=await w.A.get(`https://event-ticket-backend-yx81.onrender.com/api/categories/${encodeURIComponent(r)}`);console.log("Category Products Response:",n.data),this.products=n.data.products},methods:{goToProduct(e){const t=e.replace(/\s+/g,"-").toLowerCase();window.open(`/event/${t}`,"_blank")},formatDate(e){if(!e)return"No date";const t={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`â‚¦${e}`:"Free"}}},T=r(1241);const _=(0,T.A)(C,[["render",L]]);var x=_},7603:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return O}});var n=r(6768),a=r(4232);const o={class:""},i={class:"padding-global"},s={style:{"background-image":"url('/IMG_0305.PNG')","background-size":"cover",position:"relative","background-position":"center",height:"fit-content",overflow:"hidden"}},l={class:"container-large",style:{}},c={class:"home-hero_content text-start"},d={class:"home-hero_content-col-left",style:{position:"relative","z-index":"2",color:"white",padding:"2rem"}},u={class:"home-hero_button-group"},p={class:"container pt-4"},h={class:"overflow-auto"},m={key:0,class:"d-flex flex-nowrap text-center justify-content-between gap-4"},f=["onClick"],v=["src"],b={class:"mt-2 mb-0"},k={key:1},y={class:"container pt-4 text-start py-4"},g={class:"row"},L=["src"],w={class:"pt-2"},C={class:"mb-1"},T={key:0},_={class:"mb-1"},x={class:"mb-1"},E=["onClick"];function S(e,t,r,S,P,D){const A=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("div",i,[(0,n.Lk)("div",s,[t[3]||(t[3]=(0,n.Lk)("div",{style:{position:"absolute",inset:"0","background-color":"rgba(0, 0, 0, 0.6)","z-index":"1"}},null,-1)),(0,n.Lk)("div",l,[(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[t[2]||(t[2]=(0,n.Fv)('<div class="max-width-medium pt-md-4 pt-1"><h1 class="text-white pt-md-5 pt-0">Find It. Book It. Live It.</h1></div><div class="padding-bottom padding-small"><div class="padding-bottom padding-xxsmall"></div></div><p> From concerts to community events â€” unlock access to experiences that stay with you. </p><div class="padding-bottom padding-custom2"></div>',4)),(0,n.Lk)("div",u,[(0,n.bF)(A,{class:"button text-decoration-none btn-primary btn-primary:hover",to:"/dashboard?activeTab=add-event"},{default:(0,n.k6)(()=>[...t[0]||(t[0]=[(0,n.eW)("Host an event",-1)])]),_:1}),(0,n.bF)(A,{class:"button is-secondary text-decoration-none is-white w-button",to:"/events"},{default:(0,n.k6)(()=>[...t[1]||(t[1]=[(0,n.eW)("Find Events",-1)])]),_:1})])])])])])]),(0,n.Lk)("div",p,[(0,n.Lk)("div",h,[P.categories.length?((0,n.uX)(),(0,n.CE)("div",m,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(P.categories,e=>((0,n.uX)(),(0,n.CE)("div",{key:e._id,class:"flex-shrink-0"},[(0,n.Lk)("div",{class:"border rounded-circle icon-box p-4 d-flex align-items-center justify-content-center mx-auto",style:{width:"80px",height:"80px"},onClick:t=>D.goToCategory(e.type)},[(0,n.Lk)("img",{src:e.photo,alt:"Category SVG",width:"40",height:"40"},null,8,v)],8,f),(0,n.Lk)("p",b,(0,a.v_)(e.type),1)]))),128))])):((0,n.uX)(),(0,n.CE)("p",k,"No categories found."))])]),t[8]||(t[8]=(0,n.Fv)('<div class="container py-5"><div class="row text-start"><div class="col-md-6 mb-4 mb-md-0"><h1 class="fw-bold display-4">find your vibe</h1></div><div class="col-md-6 d-flex flex-column justify-content-end text-start"><small> From late-night parties to inspiring talks, thereâ€™s always an event that matches your energy. </small></div></div></div>',1)),(0,n.Lk)("div",y,[t[7]||(t[7]=(0,n.Lk)("h3",{class:"mb-3"},"Trending Events",-1)),(0,n.Lk)("div",g,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(P.products,e=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-4 mb-2",key:e._id},[(0,n.Lk)("div",null,[(0,n.Lk)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,L),(0,n.Lk)("div",w,[(0,n.Lk)("div",null,[(0,n.Lk)("h5",null,(0,a.v_)(e.title),1),(0,n.Lk)("p",C,[t[4]||(t[4]=(0,n.Lk)("i",{class:"bi bi-calendar-event me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(D.formatDate(e.event.start))+" ",1),e.event.end?((0,n.uX)(),(0,n.CE)("span",T,"- "+(0,a.v_)(D.formatDate(e.event.end)),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("p",_,[t[5]||(t[5]=(0,n.Lk)("i",{class:"bi bi-clock me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(e.event.startTime),1)]),(0,n.Lk)("p",x,[t[6]||(t[6]=(0,n.Lk)("i",{class:"bi bi-geo-alt me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(e.event.location.name||"No location"),1)]),(0,n.Lk)("p",null,(0,a.v_)(0===e.event.tickets[0].price&&0===e.event.tickets[e.event.tickets.length-1].price?"Free":e.event.tickets[0].price===e.event.tickets[e.event.tickets.length-1].price?D.formatPrice(e.event.tickets[0].price):`${D.formatPrice(e.event.tickets[0].price)} - ${D.formatPrice(e.event.tickets[e.event.tickets.length-1].price)}`),1)]),(0,n.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>D.goToProduct(e.title)}," View Event ",8,E)])])]))),128))])]),t[9]||(t[9]=(0,n.Fv)('<div class="container"><div class="row align-items-center text-start pt-5"><div class="col-lg-6 mb-4 mb-lg-0"><h1 class="fw-bold mb-3">About Us</h1><p class="fs-6 text-muted mb-4"> Welcome to 234Tickets â€” your plug for unforgettable experiences. Weâ€™re here to connect you with the best concerts, festivals, parties, and cultural events across the globe. With a smooth booking process, instant ticket access, and real-time updates, we make sure you never miss out on the vibe. </p><p class="fs-6 text-muted"> Our platform connects event organizers and attendees in a seamless way, giving you real-time access to tickets, event details, and more. </p><p class="fs-6 text-muted"> Join our growing community of event lovers and discover whatâ€™s next, one ticket at a time. </p></div><div class="col-lg-6 text-center"><img src="WhatsApp Image 2025-08-26 at 16.50.53_abdf8872.jpg" alt="People enjoying an event" class="img-fluid rounded"></div></div><div class="row align-items-center py-5 text-start"><div class="col-md-6 text-center mt-4 mt-md-0"><img src="/WhatsApp Image 2025-08-25 at 15.27.25_f8d06780.jpg" class="img-fluid" alt="Manage Events Illustration"></div><div class="col-md-6"><h3 class="fw-bold mb-3">Manage Your Events Easily</h3><p class="text-muted"> Create. Share. Sell. Running an event? Weâ€™ve got you covered. </p><ul class="list-unstyled text-muted"><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>Create Set up your event in minutes </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>Monitor Sell tickets and track sales instantly </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i> Get real-time check-ins and guest insights Built-in tools for promo and payments </li></ul><a href="features-create.html" class="btn btn-primary btn-primary:hover mt-3">Create Event</a></div></div><section class=""><div class="row g-4"><section class="container py-5"><div class="row align-items-center text-start"><div class="col-md-6"><h3 class="fw-bold mb-3">24/7 Live Support</h3><ul class="list-unstyled text-muted"><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>Weâ€™ve Got Your Back, 24/7 Need help? Our team is always here to keep things moving. </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>Guides, FAQs, and self-help tools </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i> Fast chat &amp; email support </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>Help center with detailed guides and FAQs </li><li class="mb-2"><i class="bi bi-check-circle-fill me-2" style="color:#429371;"></i>Event setup specialists on demand </li></ul><a href="#" class="btn btn-primary btn-primary:hover mt-3 mb-3" style="color:#429371;">Get Help Now</a></div><div class="col-md-6 mb-4 mb-md-0 text-center"><img src="/WhatsApp Image 2025-08-25 at 15.27.25_58bc1d25.jpg" class="img-fluid" alt="Live Support"></div></div></section></div></section></div><div class="container text-center py-5"><h2 class="fw-bold">Pricing</h2><p class="text-muted">No hidden fees. Only pay when you sell tickets.</p><div class="bg-light rounded-3 p-4 my-4 mx-auto" style="max-width:400px;"><div class="fs-4 fw-semibold">7.5% <span class="fw-bold"></span></div><div class="text-muted">per paid ticket</div></div><p class="text-success fw-medium"> Free tickets? <span class="fw-bold">No charge at all!</span></p></div>',2))])}r(4114);var P=r(4373),D={name:"CategoriesList",data(){return{categories:[],products:[]}},mounted(){this.fetchCategories(),this.fetchProducts()},methods:{goToCategory(e){const t=e.replace(/\s+/g,"-").trim();this.$router.push(`/categories/${t}`)},async fetchCategories(){try{const e=await P.A.get("https://event-ticket-backend-yx81.onrender.com/api/categories");e.data.status&&(this.categories=e.data.categories),console.log("Categories fetched:",this.categories)}catch(e){console.error("Error fetching categories:",e.message)}},async fetchProducts(){try{const e=await P.A.get("https://event-ticket-backend-yx81.onrender.com/api/products"),t=e.data.products,r=t.sort(()=>Math.random()-.5);this.products=r.slice(0,3)}catch(e){console.error("Error fetching products:",e)}},goToProduct(e){const t=e.replace(/\s+/g,"-").toLowerCase();window.open(`/event/${t}`,"_blank")},formatDate(e){if(!e)return"No date";const t={weekday:"short",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`â‚¦${e}`:"Free"}}},A=r(1241);const $=(0,A.A)(D,[["render",S]]);var O=$},7769:function(e,t,r){"use strict";r.d(t,{A:function(){return be}});var n=r(6768),a=r(4232),o=r(5130);const i={class:"form-container"},s={class:"stepper pt-2 mx-auto"},l={class:"circle"},c={key:0},d={key:1},u={class:"label"},p={class:"progress-line"},h={class:"row text-start"},m={class:"col-12"},f={key:0,class:""},v={class:"row"},b={class:"mb-3 col-md-7"},k={class:"mb-3 col-md-5"},y={class:"row mb-3"},g={class:"col-md-7"},L=["value"],w={class:"col-md-5"},C={class:""},T={class:"input-group pt-2"},_={class:"mb-3"},x={key:1},E={class:"mt-4 text-start"},S={class:"btn-group mb-3",role:"group"},P={class:"row mb-3"},D={class:""},A={class:"mb-3"},$={class:"row"},O={class:"row"},F={class:"col-md-6 mb-3"},U={key:0,class:"col-md-6 mb-3"},j={class:"row"},I={class:"col-md-6 mb-3"},M={class:"d-flex justify-content-between"},X={class:"mt-2"},V={key:0,class:"col-md-4 mb-3"},N={key:2},R={class:"container py-5 text-start"},W={class:"row"},B={class:"col-md-6"},Q={for:"imageUpload",class:"border rounded bg-light d-flex flex-column justify-content-center align-items-center text-center py-5 mb-2",style:{cursor:"pointer"}},q={key:0},z={key:0,class:"text-center mt-3"},J=["src"],H={key:3},K={class:"my-4 text-start"},G={class:"col-md-3"},Y=["onUpdate:modelValue"],Z={class:"col-md-2"},ee=["onUpdate:modelValue"],te={class:"col-md-3"},re=["onUpdate:modelValue"],ne={class:"col-md-2 d-flex align-items-end"},ae=["onClick"],oe={class:"d-flex gap-3"},ie={class:"text-center mt-4 d-flex justify-content-between"},se=["disabled"],le={key:1,type:"submit",class:"btn btn-primary btn-primary:hover"};function ce(e,t,r,ce,de,ue){const pe=(0,n.g2)("spinner");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("div",s,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(de.steps,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,a.C4)(["step",{"step-active":de.currentStep===t,"step-completed":t<de.currentStep}])},[(0,n.Lk)("div",l,[t<de.currentStep?((0,n.uX)(),(0,n.CE)("span",c,"âœ”")):((0,n.uX)(),(0,n.CE)("span",d,(0,a.v_)(t+1),1))]),(0,n.Lk)("div",u,(0,a.v_)(e),1)],2))),128)),(0,n.Lk)("div",p,[(0,n.Lk)("div",{class:"progress-fill",style:(0,a.Tr)({width:de.currentStep/(de.steps.length-1)*100+"%"})},null,4)])]),(0,n.Lk)("div",h,[(0,n.Lk)("div",m,[(0,n.Lk)("form",{onSubmit:t[17]||(t[17]=(0,o.D$)((...e)=>ue.submitProduct&&ue.submitProduct(...e),["prevent"])),enctype:"multipart/form-data",class:"shadow p-4"},[0===de.currentStep?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.Lk)("div",v,[(0,n.Lk)("div",b,[t[18]||(t[18]=(0,n.Lk)("label",{for:"title",class:"form-label"},"What is your event name:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>de.product.title=e),placeholder:"Tech Summit, Afro summit",type:"text",id:"title",class:"form-control"},null,512),[[o.Jo,de.product.title]])]),(0,n.Lk)("div",k,[(0,n.Lk)("div",null,[(0,n.Lk)("div",null,[t[19]||(t[19]=(0,n.Lk)("label",{for:"title",class:"form-label"},"Tag:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>de.product.tag=e),type:"text",placeholder:"Tags (comma-separated)",id:"title",class:"form-control"},null,512),[[o.Jo,de.product.tag]])])])])]),(0,n.Lk)("div",y,[(0,n.Lk)("div",g,[t[21]||(t[21]=(0,n.Lk)("label",{class:"form-label"},"Event Category",-1)),(0,n.Lk)("div",null,[de.categories.length>0?(0,n.bo)(((0,n.uX)(),(0,n.CE)("select",{key:0,class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>de.categoryID=e)},[t[20]||(t[20]=(0,n.Lk)("option",{value:"",disabled:""},"Select a category",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(de.categories,e=>((0,n.uX)(),(0,n.CE)("option",{key:e._id,value:e._id},(0,a.v_)(e.type),9,L))),128))],512)),[[o.u1,de.categoryID]]):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",w,[(0,n.Lk)("div",C,[t[23]||(t[23]=(0,n.Lk)("label",{for:"customUrl",class:"form-label"},"Use custom URL",-1)),(0,n.Lk)("div",T,[t[22]||(t[22]=(0,n.Lk)("span",{class:"input-group-text"},"234tickets.live/event/",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>de.product.customizeUrl=e),class:"form-control pt-md-2",id:"customUrl",placeholder:"Enter your custom link",readonly:""},null,512),[[o.Jo,de.product.customizeUrl]])])])])]),(0,n.Lk)("div",_,[t[24]||(t[24]=(0,n.Lk)("label",{class:"form-label"},"What's your event about:",-1)),(0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("textarea",{class:"w-100 h-50","onUpdate:modelValue":t[4]||(t[4]=e=>de.product.description=e)},null,512),[[o.Jo,de.product.description]])])])])):(0,n.Q3)("",!0),1===de.currentStep?((0,n.uX)(),(0,n.CE)("div",x,[(0,n.Lk)("div",E,[t[33]||(t[33]=(0,n.Lk)("h4",null,[(0,n.Lk)("strong",null,"When is your event?")],-1)),t[34]||(t[34]=(0,n.Lk)("p",{class:"text-muted"},"Select all the dates of your event",-1)),(0,n.Lk)("div",S,[(0,n.Lk)("button",{type:"button",class:(0,a.C4)(["btn","single"===de.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[5]||(t[5]=e=>de.eventType="single")}," Single Event ",2),(0,n.Lk)("button",{type:"button",class:(0,a.C4)(["btn","recurring"===de.eventType?"btn-primary active":"btn-outline-secondary"]),onClick:t[6]||(t[6]=e=>de.eventType="recurring")}," Recurring Event ",2)]),(0,n.Lk)("div",P,[(0,n.Lk)("div",D,[(0,n.Lk)("div",A,[t[25]||(t[25]=(0,n.Lk)("label",{for:"address",class:"form-label"},"Enter Address:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>de.address=e),type:"text",class:"form-control",id:"address",placeholder:"e.g. 1600 Amphitheatre Parkway, CA",required:""},null,512),[[o.Jo,de.address]])])])]),(0,n.Lk)("div",$,[t[27]||(t[27]=(0,n.Lk)("label",{class:"form-label"},"* Select time zone",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[8]||(t[8]=e=>de.product.event.timezone=e)},[...t[26]||(t[26]=[(0,n.Lk)("option",{value:""},"Select Time Zone",-1),(0,n.Lk)("option",{value:"UTC+01:00"},"(UTC+01:00) West Central Africa",-1),(0,n.Lk)("option",{value:"UTC+00:00"},"(UTC+00:00) GMT",-1),(0,n.Lk)("option",{value:"UTC-05:00"}," (UTC-05:00) Eastern Time (US & Canada) ",-1)])],512),[[o.u1,de.product.event.timezone]])]),(0,n.Lk)("div",O,[(0,n.Lk)("div",F,[t[28]||(t[28]=(0,n.Lk)("label",{class:"form-label"},"* Start date",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>de.product.event.startDate=e)},null,512),[[o.Jo,de.product.event.startDate]])]),"recurring"===de.eventType?((0,n.uX)(),(0,n.CE)("div",U,[t[29]||(t[29]=(0,n.Lk)("label",{class:"form-label"},"* End date",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>de.product.event.endDate=e)},null,512),[[o.Jo,de.product.event.endDate]])])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",j,[(0,n.Lk)("div",I,[t[30]||(t[30]=(0,n.Lk)("label",{class:"form-label"},"Start time",-1)),(0,n.Lk)("div",M,[(0,n.Lk)("div",X,[(0,n.bo)((0,n.Lk)("input",{type:"time",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=e=>de.product.event.startTime=e)},null,512),[[o.Jo,de.product.event.startTime]])])])]),"recurring"===de.eventType?((0,n.uX)(),(0,n.CE)("div",V,[t[32]||(t[32]=(0,n.Lk)("label",{class:"form-label"},"* Event frequency",-1)),(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=e=>de.eventFrequency=e)},[...t[31]||(t[31]=[(0,n.Lk)("option",null,"Every day",-1),(0,n.Lk)("option",null,"Weekdays",-1),(0,n.Lk)("option",null,"Weekends",-1),(0,n.Lk)("option",null,"Every week",-1)])],512),[[o.u1,de.eventFrequency]])])):(0,n.Q3)("",!0)])])])):(0,n.Q3)("",!0),2===de.currentStep?((0,n.uX)(),(0,n.CE)("div",N,[(0,n.Lk)("div",R,[(0,n.Lk)("div",W,[(0,n.Lk)("div",B,[t[37]||(t[37]=(0,n.Lk)("h5",null,[(0,n.Lk)("strong",null,"Event Image")],-1)),t[38]||(t[38]=(0,n.Lk)("p",{class:"text-muted"},"Upload a JPEG or PNG file",-1)),t[39]||(t[39]=(0,n.Lk)("div",{class:"alert alert-light border text-muted py-2 small d-flex align-items-start"},[(0,n.Lk)("i",{class:"bi bi-info-circle-fill me-2 text-danger"}),(0,n.eW)(" Images with a 1:1 ratio (a square) work best on all event themes ")],-1)),(0,n.Lk)("div",null,[(0,n.Lk)("label",Q,[t[35]||(t[35]=(0,n.Lk)("i",{class:"bi bi-image fs-1 mb-2"},null,-1)),t[36]||(t[36]=(0,n.Lk)("span",null,[(0,n.eW)(" Drag an image here or "),(0,n.Lk)("span",{class:"text-danger fw-bold"},"click to upload")],-1)),(0,n.Lk)("input",{type:"file",multiple:"",onChange:t[13]||(t[13]=(...e)=>ue.handleFiles&&ue.handleFiles(...e)),accept:"image/*",id:"imageUpload",class:"d-none"},null,32),de.photos.length?((0,n.uX)(),(0,n.CE)("p",q,"Selected: "+(0,a.v_)(de.photos.length)+" image(s)",1)):(0,n.Q3)("",!0)]),de.previewUrl||de.product.photos&&de.product.photos.length?((0,n.uX)(),(0,n.CE)("div",z,[(0,n.Lk)("img",{src:de.previewUrl||de.product.photos[0],alt:"Preview",class:"img-fluid rounded shadow",style:{"max-height":"250px"}},null,8,J)])):(0,n.Q3)("",!0)]),t[40]||(t[40]=(0,n.Lk)("p",{class:"text-muted small"}," Upload an image with a size less than 2mb ",-1))])])])])):(0,n.Q3)("",!0),3===de.currentStep?((0,n.uX)(),(0,n.CE)("div",H,[(0,n.Lk)("div",K,[t[45]||(t[45]=(0,n.Lk)("h5",null,[(0,n.Lk)("strong",null,"Create your ticket types")],-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(de.tickets,(e,r)=>((0,n.uX)(),(0,n.CE)("div",{key:r,class:"row g-3 align-items-end mb-2"},[(0,n.Lk)("div",G,[t[41]||(t[41]=(0,n.Lk)("label",{class:"form-label"},"Ticket name",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.name=t,type:"text",class:"form-control",placeholder:"e.g. General Admission"},null,8,Y),[[o.Jo,e.name]])]),(0,n.Lk)("div",Z,[t[42]||(t[42]=(0,n.Lk)("label",{class:"form-label"},"Quantity",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.quantity=t,type:"number",class:"form-control"},null,8,ee),[[o.Jo,e.quantity,void 0,{number:!0}]])]),(0,n.Lk)("div",te,[t[43]||(t[43]=(0,n.Lk)("label",{class:"form-label"},"Price",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.price=t,type:"number",class:"form-control",placeholder:"Blank for free event"},null,8,re),[[o.Jo,e.price,void 0,{number:!0}]])]),(0,n.Lk)("div",ne,[(0,n.Lk)("button",{class:"btn btn-outline-danger w-100",title:"Delete",onClick:e=>ue.removeTicket(r)},[...t[44]||(t[44]=[(0,n.Lk)("i",{class:"bi bi-trash"},null,-1)])],8,ae)])]))),128)),(0,n.Lk)("div",oe,[(0,n.Lk)("button",{class:"btn btn-primary btn-primary:hover",type:"button",onClick:t[14]||(t[14]=e=>ue.addTicket("Paid"))}," + ticket ")])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",ie,[(0,n.Lk)("button",{type:"button",class:"btn btn-danger",onClick:t[15]||(t[15]=(...e)=>ue.prevStep&&ue.prevStep(...e)),disabled:0===de.currentStep}," Back ",8,se),de.currentStep<de.steps.length-1?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",class:"btn btn-primary btn-primary:hover",onClick:t[16]||(t[16]=(...e)=>ue.nextStep&&ue.nextStep(...e))}," Next ")):((0,n.uX)(),(0,n.CE)("button",le," Update Event "))]),de.spinner?((0,n.uX)(),(0,n.Wv)(pe,{key:4})):(0,n.Q3)("",!0)],32)])])])}r(4114),r(8111),r(7588);var de=r(4373),ue=r(782),pe=r(1955),he=r(7315),me={props:{productId:{type:String,required:!0}},components:{QuillEditor:pe.tB,spinner:he.A},data(){return{currentStep:0,steps:["Basic Info","Event Details","Media Upload","Tickets"],categories:[],spinner:!1,categoryID:"",product:{title:"",description:"",tag:"",price:"",event:{startDate:"",endDate:"",startTime:"",endTime:"",timezone:"UTC",location:""}},address:"",startAmPm:"AM",endAmPm:"PM",eventType:"single",eventFrequency:"",photos:[],previewUrl:null,tickets:[{name:"",price:null,quantity:null}]}},computed:{...(0,ue.L8)(["getToken"]),mapUrl(){if(!this.coordinates)return"";const{lat:e,lng:t}=this.coordinates;return`https://www.google.com/maps/embed/v1/view?key=${this.API_KEY}&center=${e},${t}&zoom=15`}},async created(){try{const e=await de.A.get("https://event-ticket-backend-yx81.onrender.com/api/categories");this.categories=e.data.categories||e.data,console.log("Categories fetched:",this.categories),this.productId&&await this.fetchProduct()}catch(e){console.error("Failed to fetch categories:",e)}},watch:{productId(e){e&&this.fetchProduct()}},methods:{async fetchProduct(){try{const e=await de.A.get(`https://event-ticket-backend-yx81.onrender.com/api/product/${this.productId}`);console.log("Product data:",e.data);const t=e.data.product;if(this.product.title=t.title,this.product.description=t.description,this.product.tag=t.tag?.join(", ")||"",this.categoryID=t.category,this.product.photos=t.photos||[],this.product.customizeUrl=t.customizeUrl||"",t.event){const e=t.event.start,r=t.event.end;if(e){const t=new Date(e),r=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0");this.product.event.startDate=e.split("T")[0],this.product.event.startTime=`${r}:${n}`}if(r){const e=new Date(r),t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0");this.product.event.endDate=r.split("T")[0],this.product.event.endTime=`${t}:${n}`}this.product.event.timezone=t.event.timezone||"",this.address=t.event.location?.name||"",this.tickets=t.event.tickets||[]}console.log("Product loaded:",t)}catch(e){if(!e.response||401!==e.response.status)throw e;localStorage.removeItem("token"),router.push("/login")}},getAmPm(e){if(!e)return"AM";const t=parseInt(e.split(":")[0],10);return t>=12?"PM":"AM"},nextStep(){this.currentStep<this.steps.length-1&&this.currentStep++},prevStep(){this.currentStep>0&&this.currentStep--},handleFiles(e){const t=Array.from(e.target.files);if(this.photos=t,t.length>0){const e=new FileReader;e.onload=e=>{this.previewUrl=e.target.result},e.readAsDataURL(t[0])}},addTicket(e){this.tickets.push({name:"",quantity:"Unlimited",price:null})},removeTicket(e){this.tickets.splice(e,1)},duplicateTicket(e){const t=this.tickets[e];this.tickets.splice(e+1,0,{...t})},async submitProduct(){this.spinner=!0;const e=new FormData;e.append("categoryID",this.categoryID),e.append("title",this.product.title),e.append("description",this.product.description),e.append("tag",this.product.tag),e.append("price",this.product.price),e.append("eventDate",new Date(this.product.event.startDate).toISOString()),this.product.event.endDate&&e.append("endDate",new Date(this.product.event.endDate).toISOString()),e.append("startTime",this.product.event.startTime+" "+this.startAmPm),e.append("endTime",this.product.event.endTime+" "+this.endAmPm),e.append("timezone",this.product.event.timezone),e.append("locationName",this.address),"recurring"===this.eventType&&e.append("eventFrequency",this.eventFrequency),e.append("tickets",JSON.stringify(this.tickets)),this.photos.forEach(t=>{e.append("photos",t)});try{const t=await de.A.put(`https://event-ticket-backend-yx81.onrender.com/api/product/${this.productId}`,e,{headers:{Authorization:`Bearer ${this.getToken}`,"Content-Type":"multipart/form-data"}});console.log("Product updated:",t.data),alert("Event updated successfully!"),this.$emit("close"),this.$emit("refresh")}catch(t){if(!t.response||401!==t.response.status)throw t;localStorage.removeItem("token"),router.push("/login")}this.spinner=!1}}},fe=r(1241);const ve=(0,fe.A)(me,[["render",ce],["__scopeId","data-v-eec84792"]]);var be=ve},8034:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var n=r(6768),a=r(4232);const o={class:"container text-start"},i={key:0},s={key:1},l={class:"row"},c={class:"col-md-8"},d=["src"],u={class:"card-body"},p={class:"card-title"},h={class:"border-top pt-2 mt-2"},m={class:"mb-1"},f={class:"mb-1"},v={class:"mb-1"},b={key:0},k={class:"col-md-4"},y={class:"card shadow-sm border-0 h-100"},g={class:"card-body d-flex align-items-center justify-content-center"};function L(e,t,r,L,w,C){const T=(0,n.g2)("Scanner",!0);return(0,n.uX)(),(0,n.CE)("div",o,[t[4]||(t[4]=(0,n.Lk)("h2",null,"Staff Products",-1)),w.loading?((0,n.uX)(),(0,n.CE)("div",i,"Loading...")):((0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",l,[(0,n.Lk)("div",c,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(w.products,(e,r)=>((0,n.uX)(),(0,n.CE)("div",{key:r,class:"card mb-4 shadow-sm border-0"},[e.productID.photos&&e.productID.photos.length?((0,n.uX)(),(0,n.CE)("img",{key:0,src:e.productID.photos[0],alt:"Product Image",class:"card-img-top",style:{height:"200px","object-fit":"cover"}},null,8,d)):(0,n.Q3)("",!0),(0,n.Lk)("div",u,[(0,n.Lk)("h5",p,(0,a.v_)(e.productID.title),1),(0,n.Lk)("div",h,[t[2]||(t[2]=(0,n.Lk)("h6",{class:"fw-bold"},"Event Info",-1)),(0,n.Lk)("p",m,[t[0]||(t[0]=(0,n.Lk)("strong",null,"Location:",-1)),(0,n.eW)(" "+(0,a.v_)(e.productID.event.location.name),1)]),(0,n.Lk)("p",f,[t[1]||(t[1]=(0,n.Lk)("strong",null,"Start:",-1)),(0,n.eW)(" "+(0,a.v_)(C.formatDate(e.productID.event.start))+" at "+(0,a.v_)(e.productID.event.startTime),1)]),(0,n.Lk)("p",v,[e.productID.event.end?((0,n.uX)(),(0,n.CE)("span",b,"- "+(0,a.v_)(C.formatDate(e.productID.event.end))+" at ",1)):(0,n.Q3)("",!0)])])])]))),128))]),(0,n.Lk)("div",k,[(0,n.Lk)("div",y,[t[3]||(t[3]=(0,n.Lk)("div",{class:"text center bg-success p-2",style:{color:"white"}},[(0,n.Lk)("h5",{class:"mb-0"},"Scanner")],-1)),(0,n.Lk)("div",g,[(0,n.bF)(T)])])])])]))])}var w=r(4373),C=r(5688),T={components:{Scanner:C.A},data(){return{products:[],loading:!0}},async mounted(){try{const e=localStorage.getItem("staffToken");console.log(e);const t=await w.A.get("https://event-ticket-backend-yx81.onrender.com/api/staff",{headers:{Authorization:`Bearer ${e}`}});console.log(e),this.products=t.data.products}catch(e){console.error("Error fetching staff products:",e)}finally{this.loading=!1}},methods:{formatDate(e){const t=new Date(e);return t.toLocaleDateString()}}},_=r(1241);const x=(0,_.A)(T,[["render",L],["__scopeId","data-v-210eb30c"]]);var E=x},8646:function(e,t,r){"use strict";var n=r(9565),a=r(8551),o=r(1767),i=r(851);e.exports=function(e,t){t&&"string"===typeof e||a(e);var r=i(e);return o(a(void 0!==r?n(r,e):e))}},9514:function(e){!function(t,r){e.exports=r()}(window,function(){return r={},e.m=t=[function(e,t,r){"use strict";r.r(t);var n,a,o,i,s,l,c,d,u,p,h;i=!(o=[]),c=l=s=null,h="function"==typeof(n={props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,required:!0},email:{type:String,required:!0},firstname:{type:String,default:""},lastname:{type:String,default:""},amount:{type:Number,required:!0},reference:{type:String,required:!0},channels:{type:Array,default:function(){return["card","bank"]}},accessCode:{type:String,default:""},callback:{type:Function,required:!0,default:function(){}},close:{type:Function,required:!0,default:function(){}},metadata:{type:Object,default:function(){return{}}},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:String,default:""},subaccount:{type:String,default:""},split:{type:Object,default:function(){return{}}},splitCode:{type:String,default:""},transactionCharge:{type:Number,default:0},bearer:{type:String,default:""}},data:function(){return{scriptLoaded:null}},created:function(){var e=this;this.scriptLoaded=new Promise(function(t){e.loadScript(function(){t()})})},mounted:function(){this.embed&&this.payWithPaystack()},methods:{loadScript:function(e){var t=document.createElement("script");t.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(t),t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,e())}:t.onload=function(){e()}},isDynamicSplit:function(){return this.split.constructor===Object&&0<Object.keys(this.split).length},payWithPaystack:function(){var e=this;this.scriptLoaded&&this.scriptLoaded.then(function(){var t={key:e.paystackkey,email:e.email,firstname:e.firstname,lastname:e.lastname,channels:e.channels,amount:e.amount,access_code:e.accessCode,ref:e.reference,callback:function(t){e.callback(t)},onClose:function(){e.close()},metadata:e.metadata,currency:e.currency,plan:e.plan,quantity:e.quantity,subaccount:e.isDynamicSplit()?"":e.subaccount,split:e.isDynamicSplit()?e.split:null,split_code:e.isDynamicSplit()?"":e.splitCode,transaction_charge:e.isDynamicSplit()?0:e.transactionCharge,bearer:e.isDynamicSplit()?"":e.bearer};e.embed&&(t.container="paystackEmbedContainer"),t=window.PaystackPop.setup(t),e.embed||t.openIframe()})}}})?n.options:n,(a=function(){var e=this,t=e._self._c||e.$createElement;return e.embed?t("div",{attrs:{id:"paystackEmbedContainer"}}):t("button",{staticClass:"payButton",on:{click:e.payWithPaystack}},[e._t("default",[e._v("Make Payment")])],2)})&&(h.render=a,h.staticRenderFns=o,h._compiled=!0),i&&(h.functional=!0),l&&(h._scopeId="data-v-"+l),c?h._ssrRegister=u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(c)}:s&&(u=d?function(){s.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:s),u&&(h.functional?(h._injectStyles=u,p=h.render,h.render=function(e,t){return u.call(t),p(e,t)}):h.beforeCreate=(d=h.beforeCreate)?[].concat(d,u):[u]),r={exports:n,options:h};t.default=r.exports}],e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var a in t)e.d(n,a,function(e){return t[e]}.bind(null,a));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="/dist/",e(e.s=0);function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var t,r})},9529:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(6768),a=r(5130);const o={class:"login-wrapper"},i={class:"login-container"},s={class:"login-card"},l={class:"form-group"},c={class:"form-group"};function d(e,t,r,d,u,p){return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("div",i,[(0,n.Lk)("div",s,[t[6]||(t[6]=(0,n.Lk)("h4",{class:"login-title"},"Staff Login",-1)),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)((...e)=>p.loginStaff&&p.loginStaff(...e),["prevent"]))},[(0,n.Lk)("div",l,[t[3]||(t[3]=(0,n.Lk)("label",{class:"form-label"},"Enter Staff Name",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>u.name=e),type:"text",class:"form-control",required:"",placeholder:"Enter staff name"},null,512),[[a.Jo,u.name]])]),(0,n.Lk)("div",c,[t[4]||(t[4]=(0,n.Lk)("label",{class:"form-label"},"Enter Passcode",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.passcode=e),type:"passcode",class:"form-control",required:"",placeholder:"Enter passcode"},null,512),[[a.Jo,u.passcode]])]),t[5]||(t[5]=(0,n.Lk)("button",{type:"submit",class:"btn-primary"},"Log in",-1))],32)])])])}r(4114);var u=r(4373),p={data(){return{name:"",passcode:""}},methods:{async loginStaff(){try{const e=await u.A.post("https://event-ticket-backend-yx81.onrender.com/api/staff/login",{name:this.name,passcode:this.passcode});e.data.success?(localStorage.setItem("staffToken",e.data.token),alert("Staff login successful!"),this.$router.push("/scanner")):alert(e.data.message)}catch(e){alert(e.response?.data?.message||"Login failed")}}}},h=r(1241);const m=(0,h.A)(p,[["render",d],["__scopeId","data-v-70ef33de"]]);var f=m},9858:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(6768),a=r(5130);const o={class:"staff-login"};function i(e,t,r,i,s,l){return(0,n.uX)(),(0,n.CE)("div",o,[t[6]||(t[6]=(0,n.Lk)("h2",null,"Staff Login",-1)),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)((...e)=>l.loginStaff&&l.loginStaff(...e),["prevent"]))},[(0,n.Lk)("div",null,[t[3]||(t[3]=(0,n.Lk)("label",null,"Name",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),type:"text",required:"",placeholder:"Enter staff name"},null,512),[[a.Jo,s.name]])]),(0,n.Lk)("div",null,[t[4]||(t[4]=(0,n.Lk)("label",null,"Passcode",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.passcode=e),type:"password",required:"",placeholder:"Enter passcode"},null,512),[[a.Jo,s.passcode]])]),t[5]||(t[5]=(0,n.Lk)("button",{type:"submit"},"Login",-1))],32)])}r(4114);var s=r(4373),l={data(){return{name:"",passcode:""}},methods:{async loginStaff(){try{const e=await s.A.post("https://event-ticket-backend-yx81.onrender.com/api/staff/login",{name:this.name,passcode:this.passcode});e.data.success?(localStorage.setItem("staffToken",e.data.token),alert("Staff login successful!"),this.$router.push("/scanner")):alert(e.data.message)}catch(e){alert(e.response?.data?.message||"Login failed")}}}},c=r(1241);const d=(0,c.A)(l,[["render",i]]);var u=d},9874:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(6768);const a={class:"confirm-email"};function o(e,t,r,o,i,s){return(0,n.uX)(),(0,n.CE)("div",a)}var i=r(4373),s={name:"ConfirmEmail",data(){return{successMessage:"",errorMessage:"",loading:!0}},async mounted(){const e=this.$route.query.token;if(!e)return this.errorMessage="Missing confirmation token.",void(this.loading=!1);try{const t=await i.A.get(`https://event-ticket-backend-yx81.onrender.com/api/auth/confirm/${e}`);this.successMessage=t.data.message||"Email confirmed successfully!",alert(this.successMessage)}catch(t){this.errorMessage=t.response?.data?.message||"Failed to confirm email.",alert(this.errorMessage)}finally{this.loading=!1}}},l=r(1241);const c=(0,l.A)(s,[["render",o],["__scopeId","data-v-43191b44"]]);var d=c},9973:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});var n=r(6768),a=r(4232);const o={class:"text-start my-5"},i={class:"background-wrapper container"},s=["src"],l={class:"container"},c={class:"row pt-3 text-start"},d={class:"col-md-6"},u={class:""},p={class:"fw-bold"},h={key:0,class:"mt-3"},m={class:"mb-2"},f={key:0},v={class:"mb-2"},b={class:"mb-2"},k={class:"card shadow-sm custom-card-mobile mt-3 d-block d-md-none"},y={class:"d-flex justify-content-between align-items-center mb-3"},g={class:"d-grid mb-2"},L={key:1,class:"pt-2"},w={class:"mb-2"},C={class:"mb-5"},T={class:"d-flex flex-wrap gap-2 mt-3"},_={class:"col-md-6"},x={class:"card shadow-sm custom-card d-none d-md-block"},E={key:0,class:"d-flex justify-content-between align-items-center mb-3"},S={class:"fw-bold fs-5"},P={class:"d-grid mb-2"},D=["src"],A={class:"pt-2"},$={class:"mb-1"},O={key:0},F={class:"mb-1"},U=["onClick"];function j(e,t,r,j,I,M){const X=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("div",i,[(0,n.Lk)("img",{class:"img-fluid",src:I.product.photos[0]||"https://via.placeholder.com/400x300?text=No+Image"},null,8,s)]),(0,n.Lk)("div",l,[(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[(0,n.Lk)("div",u,[(0,n.Lk)("h2",p,(0,a.v_)(I.product.title),1),I.product&&I.product.event?((0,n.uX)(),(0,n.CE)("div",h,[(0,n.Lk)("p",m,[t[2]||(t[2]=(0,n.Lk)("i",{class:"bi bi-calendar-event me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(M.formatDate(I.product.event.start))+" ",1),I.product.event.end?((0,n.uX)(),(0,n.CE)("span",f," - "+(0,a.v_)(M.formatDate(I.product.event.end)),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("p",v,[t[3]||(t[3]=(0,n.Lk)("i",{class:"bi bi-clock me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(I.product.event.startTime),1)]),(0,n.Lk)("p",b,[t[4]||(t[4]=(0,n.Lk)("i",{class:"bi bi-geo-alt me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(I.product.event.location.name),1)]),(0,n.eW)(" "+(0,a.v_)(I.product.description)+" ",1),(0,n.Lk)("div",k,[(0,n.Lk)("div",y,[t[5]||(t[5]=(0,n.Lk)("span",{class:"text-muted fw-medium"},"Price",-1)),(0,n.Lk)("p",null,(0,a.v_)(0===I.product.event.tickets[0].price&&0===I.product.event.tickets[I.product.event.tickets.length-1].price?"Free":I.product.event.tickets[0].price===I.product.event.tickets[I.product.event.tickets.length-1].price?M.formatPrice(I.product.event.tickets[0].price):`From ${M.formatPrice(I.product.event.tickets[0].price)} - ${M.formatPrice(I.product.event.tickets[I.product.event.tickets.length-1].price)}`),1)]),(0,n.Lk)("div",g,[(0,n.bF)(X,{to:"/checkout",onClick:t[0]||(t[0]=t=>e.addProductToCart(I.product)),class:"btn btn-primary text-dark w-100 text-decoration-none"},{default:(0,n.k6)(()=>[...t[6]||(t[6]=[(0,n.eW)(" Get Tickets ",-1)])]),_:1})])])])):(0,n.Q3)("",!0),I.product.user&&I.product.user.brand?((0,n.uX)(),(0,n.CE)("div",L,[(0,n.Lk)("p",w,[t[7]||(t[7]=(0,n.eW)(" posted by ",-1)),t[8]||(t[8]=(0,n.Lk)("i",{class:"bi bi-person-circle me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(I.product.user.brand),1)])])):(0,n.Q3)("",!0),t[10]||(t[10]=(0,n.Lk)("hr",null,null,-1)),(0,n.Lk)("div",C,[t[9]||(t[9]=(0,n.Lk)("h5",{class:"fw-bold text-dark"},"Tags",-1)),(0,n.Lk)("div",T,[(0,n.Lk)("div",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(I.product.tag,(e,t)=>((0,n.uX)(),(0,n.CE)("span",{key:t,class:"tag-badge"}," #"+(0,a.v_)(e),1))),128))])])])])]),(0,n.Lk)("div",_,[(0,n.Lk)("div",x,[I.product&&I.product.event?((0,n.uX)(),(0,n.CE)("div",E,[t[11]||(t[11]=(0,n.Lk)("span",{class:"text-muted fw-medium"},"Price",-1)),(0,n.Lk)("span",S,(0,a.v_)(0===I.product.event.tickets[0].price&&0===I.product.event.tickets[I.product.event.tickets.length-1].price?"Free":I.product.event.tickets[0].price===I.product.event.tickets[I.product.event.tickets.length-1].price?M.formatPrice(I.product.event.tickets[0].price):`From ${M.formatPrice(I.product.event.tickets[0].price)} - ${M.formatPrice(I.product.event.tickets[I.product.event.tickets.length-1].price)}`),1)])):(0,n.Q3)("",!0),(0,n.Lk)("div",P,[(0,n.bF)(X,{to:"/checkout",onClick:t[1]||(t[1]=t=>e.addProductToCart(I.product)),class:"btn btn-primary text-dark w-100 text-decoration-none"},{default:(0,n.k6)(()=>[...t[12]||(t[12]=[(0,n.eW)(" Get Tickets ",-1)])]),_:1})])])]),t[15]||(t[15]=(0,n.Lk)("h1",{class:"text-start fw-bold"},"You may also like",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(I.products,e=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-4 pt-3 pt-md-0",key:e._id},[(0,n.Lk)("div",null,[(0,n.Lk)("img",{src:e.photos[0]||"https://via.placeholder.com/400x300?text=No+Image",class:"img-fluid rounded w-100",style:{height:"200px","object-fit":"cover"},alt:"Event Image"},null,8,D),(0,n.Lk)("div",A,[(0,n.Lk)("h5",null,(0,a.v_)(e.title),1),(0,n.Lk)("p",$,[t[13]||(t[13]=(0,n.Lk)("i",{class:"bi bi-calendar-event me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(M.formatDate(e.event.start))+" ",1),e.event.end?((0,n.uX)(),(0,n.CE)("span",O,"- "+(0,a.v_)(M.formatDate(e.event.end)),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("p",F,[t[14]||(t[14]=(0,n.Lk)("i",{class:"bi bi-geo-alt me-2"},null,-1)),(0,n.eW)(" "+(0,a.v_)(e.event.location.name||"No location"),1)]),(0,n.Lk)("p",null,(0,a.v_)(0===e.event.tickets[0].price&&0===e.event.tickets[e.event.tickets.length-1].price?"Free":e.event.tickets[0].price===e.event.tickets[e.event.tickets.length-1].price?M.formatPrice(e.event.tickets[0].price):`From ${M.formatPrice(e.event.tickets[0].price)} - ${M.formatPrice(e.event.tickets[e.event.tickets.length-1].price)}`),1),(0,n.Lk)("button",{class:"btn btn-outline-primary",onClick:t=>M.goToProduct(e.title)}," View Event ",8,U)])])]))),128))])])])}r(4114);var I=r(4373),M=r(782),X={props:{props:["title"],product:{type:Object,required:!0}},data(){return{affiliateCode:null,products:[],product:{photos:[],price:0},selectedTab:0,quantity:1,coordinates:null,API_KEY:"AIzaSyCkbHZXmqyIxjFpN8bMvDeURTmlpEhDHv4"}},async created(){try{const e=this.$route.params.title;console.log(e);const t=await I.A.get(`https://event-ticket-backend-yx81.onrender.com/api/product/${e}`);this.product=t.data.product||{},console.log(this.product)}catch(e){console.error("Error fetching product details:",e)}try{const e=await I.A.get("https://event-ticket-backend-yx81.onrender.com/api/products");console.log("API Response:",e.data),this.products=this.shuffleArray(e.data.products||[]).slice(0,3)}catch(e){console.error("Error fetching products:",e)}},computed:{mapUrl(){if(!this.coordinates)return"";const{lat:e,lng:t}=this.coordinates;return`https://www.google.com/maps/embed/v1/view?key=${this.API_KEY}&center=${e},${t}&zoom=15`},totalPrice(){return this.product.price*this.quantity},productTitle(){return this.$store.state.productTitle}},methods:{...(0,M.i0)(["addProductToCart"]),formatDate(e){if(!e)return"No date";const t={weekday:"short",month:"short",day:"numeric"};return new Date(e).toLocaleDateString("en-US",t)},formatPrice(e){return e&&0!==e?`â‚¦${e}`:"Free"},slugify(e){return e.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\s'-]/g,"")},goToProduct(e){const t=e.replace(/\s+/g,"-").toLowerCase();window.open(`/event/${t}`,"_blank")},buyNow(e){this.addProductToCart(e),this.$router.push("/cart")},shuffleArray(e){return e.sort(()=>Math.random()-.5)},onChangeQuantity(e,t){let r=parseInt(e.target.value);console.log("Selected Quantity:",r),isNaN(r)?console.error("Invalid Quantity Selected"):(this.quantity=r,this.$store.commit("changeQty",{product:t,qty:r}))}},mounted(){const e=this.$route.query,t=e.aff||e.Aff||e.AFF;console.log(t),t?(this.affiliateCode=t,localStorage.setItem("affiliateCode",t)):(this.affiliateCode=null,localStorage.removeItem("affiliateCode"))}},V=r(1241);const N=(0,V.A)(X,[["render",j],["__scopeId","data-v-38d48cc0"]]);var R=N}}]);
//# sourceMappingURL=about.7c9093b4.js.map